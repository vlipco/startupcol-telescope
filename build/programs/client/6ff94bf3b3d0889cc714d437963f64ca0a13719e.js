!function(){var e,t;(function(){t={}}).call(this),function(){(function(){var e=this,n=e._,r={},o=Array.prototype,a=Object.prototype,i=Function.prototype,s=o.push,u=o.slice,c=o.concat,l=a.toString,d=a.hasOwnProperty,p=o.forEach,f=o.map,h=o.reduce,m=o.reduceRight,g=o.filter,_=o.every,v=o.some,y=o.indexOf,b=o.lastIndexOf,k=Array.isArray,w=Object.keys,S=i.bind,T=function(e){return e instanceof T?e:this instanceof T?void(this._wrapped=e):new T(e)};"undefined"!=typeof t?("undefined"!=typeof module&&module.exports&&(t=module.exports=T),t._=T):e._=T,T.VERSION="1.5.2";var M=function(e){return"[object Arguments]"===l.call(e)};M(arguments)||(M=function(e){return!(!e||!d.call(e,"callee")||"function"!=typeof e.callee)});var L=function(e){return e.length===+e.length&&(M(e)||e.constructor!==Object)},D=T.each=T.forEach=function(e,t,n){if(null!=e)if(p&&e.forEach===p)e.forEach(t,n);else if(L(e)){for(var o=0,a=e.length;a>o;o++)if(t.call(n,e[o],o,e)===r)return}else for(var i=T.keys(e),o=0,a=i.length;a>o;o++)if(t.call(n,e[i[o]],i[o],e)===r)return};T.map=T.collect=function(e,t,n){var r=[];return null==e?r:f&&e.map===f?e.map(t,n):(D(e,function(e,o,a){r.push(t.call(n,e,o,a))}),r)};var P="Reduce of empty array with no initial value";T.reduce=T.foldl=T.inject=function(e,t,n,r){var o=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return r&&(t=T.bind(t,r)),o?e.reduce(t,n):e.reduce(t);if(D(e,function(e,a,i){o?n=t.call(r,n,e,a,i):(n=e,o=!0)}),!o)throw new TypeError(P);return n},T.reduceRight=T.foldr=function(e,t,n,r){var o=arguments.length>2;if(null==e&&(e=[]),m&&e.reduceRight===m)return r&&(t=T.bind(t,r)),o?e.reduceRight(t,n):e.reduceRight(t);var a=e.length;if(!L(e)){var i=T.keys(e);a=i.length}if(D(e,function(s,u,c){u=i?i[--a]:--a,o?n=t.call(r,n,e[u],u,c):(n=e[u],o=!0)}),!o)throw new TypeError(P);return n},T.find=T.detect=function(e,t,n){var r;return C(e,function(e,o,a){return t.call(n,e,o,a)?(r=e,!0):void 0}),r},T.filter=T.select=function(e,t,n){var r=[];return null==e?r:g&&e.filter===g?e.filter(t,n):(D(e,function(e,o,a){t.call(n,e,o,a)&&r.push(e)}),r)},T.reject=function(e,t,n){return T.filter(e,function(e,r,o){return!t.call(n,e,r,o)},n)},T.every=T.all=function(e,t,n){t||(t=T.identity);var o=!0;return null==e?o:_&&e.every===_?e.every(t,n):(D(e,function(e,a,i){return(o=o&&t.call(n,e,a,i))?void 0:r}),!!o)};var C=T.some=T.any=function(e,t,n){t||(t=T.identity);var o=!1;return null==e?o:v&&e.some===v?e.some(t,n):(D(e,function(e,a,i){return o||(o=t.call(n,e,a,i))?r:void 0}),!!o)};T.contains=T.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):C(e,function(e){return e===t})},T.invoke=function(e,t){var n=u.call(arguments,2),r=T.isFunction(t);return T.map(e,function(e){return(r?t:e[t]).apply(e,n)})},T.pluck=function(e,t){return T.map(e,function(e){return e[t]})},T.where=function(e,t,n){return T.isEmpty(t)?n?void 0:[]:T[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},T.findWhere=function(e,t){return T.where(e,t,!0)},T.max=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&T.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return D(e,function(e,o,a){var i=t?t.call(n,e,o,a):e;i>r.computed&&(r={value:e,computed:i})}),r.value},T.min=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&T.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return D(e,function(e,o,a){var i=t?t.call(n,e,o,a):e;i<r.computed&&(r={value:e,computed:i})}),r.value},T.shuffle=function(e){var t,n=0,r=[];return D(e,function(e){t=T.random(n++),r[n-1]=r[t],r[t]=e}),r},T.sample=function(e,t,n){return arguments.length<2||n?e[T.random(e.length-1)]:T.shuffle(e).slice(0,Math.max(0,t))};var E=function(e){return T.isFunction(e)?e:function(t){return t[e]}};T.sortBy=function(e,t,n){var r=E(t);return T.pluck(T.map(e,function(e,t,o){return{value:e,index:t,criteria:r.call(n,e,t,o)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var x=function(e){return function(t,n,r){var o={},a=null==n?T.identity:E(n);return D(t,function(n,i){var s=a.call(r,n,i,t);e(o,s,n)}),o}};T.groupBy=x(function(e,t,n){(T.has(e,t)?e[t]:e[t]=[]).push(n)}),T.indexBy=x(function(e,t,n){e[t]=n}),T.countBy=x(function(e,t){T.has(e,t)?e[t]++:e[t]=1}),T.sortedIndex=function(e,t,n,r){n=null==n?T.identity:E(n);for(var o=n.call(r,t),a=0,i=e.length;i>a;){var s=a+i>>>1;n.call(r,e[s])<o?a=s+1:i=s}return a},T.toArray=function(e){return e?T.isArray(e)?u.call(e):L(e)?T.map(e,T.identity):T.values(e):[]},T.size=function(e){return null==e?0:L(e)?e.length:T.keys(e).length},T.first=T.head=T.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:u.call(e,0,t)},T.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},T.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},T.rest=T.tail=T.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},T.compact=function(e){return T.filter(e,T.identity)};var I=function(e,t,n){return t&&T.every(e,T.isArray)?c.apply(n,e):(D(e,function(e){T.isArray(e)||T.isArguments(e)?t?s.apply(n,e):I(e,t,n):n.push(e)}),n)};T.flatten=function(e,t){return I(e,t,[])},T.without=function(e){return T.difference(e,u.call(arguments,1))},T.uniq=T.unique=function(e,t,n,r){T.isFunction(t)&&(r=n,n=t,t=!1);var o=n?T.map(e,n,r):e,a=[],i=[];return D(o,function(n,r){(t?r&&i[i.length-1]===n:T.contains(i,n))||(i.push(n),a.push(e[r]))}),a},T.union=function(){return T.uniq(T.flatten(arguments,!0))},T.intersection=function(e){var t=u.call(arguments,1);return T.filter(T.uniq(e),function(e){return T.every(t,function(t){return T.indexOf(t,e)>=0})})},T.difference=function(e){var t=c.apply(o,u.call(arguments,1));return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){for(var e=T.max(T.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=T.pluck(arguments,""+n);return t},T.object=function(e,t){if(null==e)return{};for(var n={},r=0,o=e.length;o>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},T.indexOf=function(e,t,n){if(null==e)return-1;var r=0,o=e.length;if(n){if("number"!=typeof n)return r=T.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,o+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;o>r;r++)if(e[r]===t)return r;return-1},T.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var o=r?n:e.length;o--;)if(e[o]===t)return o;return-1},T.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),o=0,a=new Array(r);r>o;)a[o++]=e,e+=n;return a};var A=function(){};T.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!T.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(u.call(arguments)));A.prototype=e.prototype;var o=new A;A.prototype=null;var a=e.apply(o,n.concat(u.call(arguments)));return Object(a)===a?a:o}},T.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},T.bindAll=function(e){var t=u.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return D(t,function(t){e[t]=T.bind(e[t],e)}),e},T.memoize=function(e,t){var n={};return t||(t=T.identity),function(){var r=t.apply(this,arguments);return T.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},T.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},T.defer=function(e){return T.delay.apply(T,[e,1].concat(u.call(arguments,1)))},T.throttle=function(e,t,n){var r,o,a,i=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:new Date,i=null,a=e.apply(r,o)};return function(){var c=new Date;s||n.leading!==!1||(s=c);var l=t-(c-s);return r=this,o=arguments,0>=l?(clearTimeout(i),i=null,s=c,a=e.apply(r,o)):i||n.trailing===!1||(i=setTimeout(u,l)),a}},T.debounce=function(e,t,n){var r,o,a,i,s;return function(){a=this,o=arguments,i=new Date;var u=function(){var c=new Date-i;t>c?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(a,o)))},c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(a,o)),s}},T.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},T.wrap=function(e,t){return function(){var n=[e];return s.apply(n,arguments),t.apply(this,n)}},T.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},T.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},T.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)T.has(e,n)&&t.push(n);return t},T.values=function(e){for(var t=T.keys(e),n=t.length,r=new Array(n),o=0;n>o;o++)r[o]=e[t[o]];return r},T.pairs=function(e){for(var t=T.keys(e),n=t.length,r=new Array(n),o=0;n>o;o++)r[o]=[t[o],e[t[o]]];return r},T.invert=function(e){for(var t={},n=T.keys(e),r=0,o=n.length;o>r;r++)t[e[n[r]]]=n[r];return t},T.functions=T.methods=function(e){var t=[];for(var n in e)T.isFunction(e[n])&&t.push(n);return t.sort()},T.extend=function(e){return D(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},T.pick=function(e){var t={},n=c.apply(o,u.call(arguments,1));return D(n,function(n){n in e&&(t[n]=e[n])}),t},T.omit=function(e){var t={},n=c.apply(o,u.call(arguments,1));for(var r in e)T.contains(n,r)||(t[r]=e[r]);return t},T.defaults=function(e){return D(u.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e};var O=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var o=l.call(e);if(o!=l.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=n.length;a--;)if(n[a]==e)return r[a]==t;var i=e.constructor,s=t.constructor;if(i!==s&&!(T.isFunction(i)&&i instanceof i&&T.isFunction(s)&&s instanceof s))return!1;n.push(e),r.push(t);var u=0,c=!0;if("[object Array]"==o){if(u=e.length,c=u==t.length)for(;u--&&(c=O(e[u],t[u],n,r)););}else{for(var d in e)if(T.has(e,d)&&(u++,!(c=T.has(t,d)&&O(e[d],t[d],n,r))))break;if(c){for(d in t)if(T.has(t,d)&&!u--)break;c=!u}}return n.pop(),r.pop(),c};T.isEqual=function(e,t){return O(e,t,[],[])},T.isEmpty=function(e){if(null==e)return!0;if(T.isArray(e)||T.isString(e))return 0===e.length;for(var t in e)if(T.has(e,t))return!1;return!0},T.isElement=function(e){return!(!e||1!==e.nodeType)},T.isArray=k||function(e){return"[object Array]"==l.call(e)},T.isObject=function(e){return e===Object(e)},D(["Arguments","Function","String","Number","Date","RegExp"],function(e){T["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return!(!e||!T.has(e,"callee"))}),"function"!=typeof/./&&(T.isFunction=function(e){return"function"==typeof e}),T.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},T.isNaN=function(e){return T.isNumber(e)&&e!=+e},T.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==l.call(e)},T.isNull=function(e){return null===e},T.isUndefined=function(e){return void 0===e},T.has=function(e,t){return d.call(e,t)},T.noConflict=function(){return e._=n,this},T.identity=function(e){return e},T.times=function(e,t,n){for(var r=Array(Math.max(0,e)),o=0;e>o;o++)r[o]=t.call(n,o);return r},T.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};N.unescape=T.invert(N.escape);var Y={escape:new RegExp("["+T.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(N.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(e){T[e]=function(t){return null==t?"":(""+t).replace(Y[e],function(t){return N[e][t]})}}),T.result=function(e,t){if(null==e)return void 0;var n=e[t];return T.isFunction(n)?n.call(e):n},T.mixin=function(e){D(T.functions(e),function(t){var n=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),R.call(this,n.apply(T,e))}})};var F=0;T.uniqueId=function(e){var t=++F+"";return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(e,t,n){var r;n=T.defaults({},n,T.templateSettings);var o=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),a=0,i="__p+='";e.replace(o,function(t,n,r,o,s){return i+=e.slice(a,s).replace(B,function(e){return"\\"+V[e]}),n&&(i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(i+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),o&&(i+="';\n"+o+"\n__p+='"),a=s+t.length,t}),i+="';\n",n.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{r=new Function(n.variable||"obj","_",i)}catch(s){throw s.source=i,s}if(t)return r(t,T);var u=function(e){return r.call(this,e,T)};return u.source="function("+(n.variable||"obj")+"){\n"+i+"}",u},T.chain=function(e){return T(e).chain()};var R=function(e){return this._chain?T(e).chain():e};T.mixin(T),D(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];T.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],R.call(this,n)}}),D(["concat","join","slice"],function(e){var t=o[e];T.prototype[e]=function(){return R.call(this,t.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){e=t._}.call(this),"undefined"==typeof Package&&(Package={}),Package.underscore={_:e}}(),function(){var e,t=Package.underscore._;(function(){e={isClient:!0,isServer:!1},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(e.settings={"public":__meteor_runtime_config__.PUBLIC_SETTINGS})}).call(this),function(){if(e.isServer)var n=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(e.release=__meteor_runtime_config__.meteorRelease),t.extend(e,{_get:function(e){for(var t=1;t<arguments.length;t++){if(!(arguments[t]in e))return void 0;e=e[arguments[t]]}return e},_ensure:function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];n in e||(e[n]={}),e=e[n]}return e},_delete:function(e){for(var t=[e],n=!0,r=1;r<arguments.length-1;r++){var o=arguments[r];if(!(o in e)){n=!1;break}if(e=e[o],"object"!=typeof e)break;t.push(e)}for(var r=t.length-1;r>=0;r--){var o=arguments[r+1];if(n)n=!1;else for(var a in t[r][o])return;delete t[r][o]}},_wrapAsync:function(r){return function(){for(var o,a,i=this,s=t.toArray(arguments),u=function(t){return t?e._debug("Exception in callback of async function",t.stack?t.stack:t):void 0};s.length>0&&"undefined"==typeof s[s.length-1];)s.pop();s.length>0&&s[s.length-1]instanceof Function?o=s.pop():e.isClient?o=u:(a=new n,o=a.resolver()),s.push(e.bindEnvironment(o));var c=r.apply(i,s);return a?a.wait():c}},_inherits:function(e,n){for(var r in n)t.has(n,r)&&(e[r]=n[r]);var o=function(){this.constructor=e};return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e}})}.call(this),function(){"use strict";function t(){if(o.setImmediate){var e=function(e){o.setImmediate(e)};return e.implementation="setImmediate",e}return null}function n(){function e(e,t){return"string"==typeof e&&e.substring(0,t.length)===t}function t(t){if(t.source===o&&e(t.data,s)){var n=t.data.substring(s.length);try{i[n]&&i[n]()}finally{delete i[n]}}}if(!o.postMessage||o.importScripts)return null;var n=!0,r=o.onmessage;if(o.onmessage=function(){n=!1},o.postMessage("","*"),o.onmessage=r,!n)return null;var a=0,i={},s="Meteor._setImmediate."+Math.random()+".";o.addEventListener?o.addEventListener("message",t,!1):o.attachEvent("onmessage",t);var u=function(e){++a,i[a]=e,o.postMessage(s+a,"*")};return u.implementation="postMessage",u}function r(){var e=function(e){o.setTimeout(e,0)};return e.implementation="setTimeout",e}var o=this;e._setImmediate=t()||n()||r()}.call(this),function(){var n=function(e){if(Package.livedata){var t=Package.livedata.DDP._CurrentInvocation;if(t.get()&&t.get().isSimulation)throw new Error("Can't set timers inside simulations");return function(){t.withValue(null,e)}}return e},r=function(t,r){return e.bindEnvironment(n(r),t)};t.extend(e,{setTimeout:function(e,t){return setTimeout(r("setTimeout callback",e),t)},setInterval:function(e,t){return setInterval(r("setInterval callback",e),t)},clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)},defer:function(t){e._setImmediate(r("defer callback",t))}})}.call(this),function(){e.makeErrorType=function(t,n){var r=function(){var e=this;if(Error.captureStackTrace)Error.captureStackTrace(e,r);else{var o=new Error;o.__proto__=r.prototype,o instanceof r&&(e=o)}return n.apply(e,arguments),e.errorType=t,e};return e._inherits(r,Error),r},e.Error=e.makeErrorType("Meteor.Error",function(e,t,n){var r=this;r.error=e,r.reason=t,r.details=n,r.message=r.reason?r.reason+" ["+r.error+"]":"["+r.error+"]"}),e.Error.prototype.clone=function(){var t=this;return new e.Error(t.error,t.reason,t.details)}}.call(this),function(){e._noYieldsAllowed=function(e){return e()},e._SynchronousQueue=function(){var e=this;e._tasks=[],e._running=!1},t.extend(e._SynchronousQueue.prototype,{runTask:function(n){var r=this;if(!r.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");r._tasks.push(n);var o=r._tasks;r._tasks=[],r._running=!0;try{for(;!t.isEmpty(o);){var a=o.shift();try{a()}catch(i){if(t.isEmpty(o))throw i;e._debug("Exception in queued task: "+i.stack)}}}finally{r._running=!1}},queueTask:function(e){var n=this,r=t.isEmpty(n._tasks);n._tasks.push(e),r&&setTimeout(t.bind(n.flush,n),0)},flush:function(){var e=this;e.runTask(function(){})},drain:function(){var e=this;if(e.safeToRunTask())for(;!t.isEmpty(e._tasks);)e.flush()},safeToRunTask:function(){var e=this;return!e._running}})}.call(this),function(){var t=[],n="loaded"===document.readyState||"complete"==document.readyState,r=function(){for(n=!0;t.length;)t.shift()()};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&r()}),window.attachEvent("load",r)),e.startup=function(r){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(a){return void setTimeout(function(){e.startup(r)},50)}r()}else n?r():t.push(r)}}.call(this),function(){var t=0;e._debug=function(){if(t)return void t--;if("undefined"!=typeof console&&"undefined"!=typeof console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var r=Function.prototype.bind.call(console.log,console);r.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},e._suppress_log=function(e){t+=e}}.call(this),function(){var n=0,r=[];e.EnvironmentVariable=function(){this.slot=n++},t.extend(e.EnvironmentVariable.prototype,{get:function(){return r[this.slot]},getOrNullIfOutsideFiber:function(){return this.get()},withValue:function(e,t){var n=r[this.slot];try{r[this.slot]=e;var o=t()}finally{r[this.slot]=n}return o}}),e.bindEnvironment=function(n,o,a){var i=t.clone(r);if(!o||"string"==typeof o){var s=o||"callback of async function";o=function(t){e._debug("Exception in "+s+":",t&&t.stack||t)}}return function(){var e=r;try{r=i;var s=n.apply(a,t.toArray(arguments))}catch(u){o(u)}finally{r=e}return s}},e._nodeCodeMustBeInFiber=function(){}}.call(this),function(){e.absoluteUrl=function(n,r){r||"object"!=typeof n||(r=n,n=void 0),r=t.extend({},e.absoluteUrl.defaultOptions,r||{});var o=r.rootUrl;if(!o)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(o)||(o="http://"+o),/\/$/.test(o)||(o+="/"),n&&(o+=n),r.secure&&/^http:/.test(o)&&!/http:\/\/localhost[:\/]/.test(o)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(o)&&(o=o.replace(/^http:/,"https:")),r.replaceLocalhost&&(o=o.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),o},e.absoluteUrl.defaultOptions={},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(e.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),e._relativeToSiteRootUrl=function(e){return"object"==typeof __meteor_runtime_config__&&"/"===e.substr(0,1)&&(e=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+e),e}}.call(this),"undefined"==typeof Package&&(Package={}),Package.meteor={Meteor:e}}(),function(){{var e,t;Package.meteor.Meteor}(function(){!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=at.type(e);return"function"===n||at.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(at.isFunction(t))return at.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return at.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ft.test(t))return at.filter(t,e,n);t=at.filter(t,e)}return at.grep(e,function(e){return at.inArray(e,t)>=0!==n})}function o(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function a(e){var t=kt[e]={};return at.each(e.match(bt)||[],function(e,n){t[n]=!0}),t}function i(){mt.addEventListener?(mt.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(mt.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(mt.addEventListener||"load"===event.type||"complete"===mt.readyState)&&(i(),at.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Lt,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Mt.test(n)?at.parseJSON(n):n}catch(o){}at.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!at.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(e,t,n,r){if(at.acceptData(e)){var o,a,i=at.expando,s=e.nodeType,u=s?at.cache:e,c=s?e[i]:e[i]&&i;if(c&&u[c]&&(r||u[c].data)||void 0!==n||"string"!=typeof t)return c||(c=s?e[i]=G.pop()||at.guid++:i),u[c]||(u[c]=s?{}:{toJSON:at.noop}),("object"==typeof t||"function"==typeof t)&&(r?u[c]=at.extend(u[c],t):u[c].data=at.extend(u[c].data,t)),a=u[c],r||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[at.camelCase(t)]=n),"string"==typeof t?(o=a[t],null==o&&(o=a[at.camelCase(t)])):o=a,o}}function d(e,t,n){if(at.acceptData(e)){var r,o,a=e.nodeType,i=a?at.cache:e,s=a?e[at.expando]:at.expando;if(i[s]){if(t&&(r=n?i[s]:i[s].data)){at.isArray(t)?t=t.concat(at.map(t,at.camelCase)):t in r?t=[t]:(t=at.camelCase(t),t=t in r?[t]:t.split(" ")),o=t.length;for(;o--;)delete r[t[o]];if(n?!c(r):!at.isEmptyObject(r))return}(n||(delete i[s].data,c(i[s])))&&(a?at.cleanData([e],!0):rt.deleteExpando||i!=i.window?delete i[s]:i[s]=null)}}}function p(){return!0}function f(){return!1}function h(){try{return mt.activeElement}catch(e){}}function m(e){var t=Ft.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,o=0,a=typeof e.getElementsByTagName!==Tt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Tt?e.querySelectorAll(t||"*"):void 0;if(!a)for(a=[],n=e.childNodes||e;null!=(r=n[o]);o++)!t||at.nodeName(r,t)?a.push(r):at.merge(a,g(r,t));return void 0===t||t&&at.nodeName(e,t)?at.merge([e],a):a}function _(e){xt.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t){return at.nodeName(e,"table")&&at.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==at.find.attr(e,"type"))+"/"+e.type,e}function b(e){var t=Gt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function k(e,t){for(var n,r=0;null!=(n=e[r]);r++)at._data(n,"globalEval",!t||at._data(t[r],"globalEval"))}function w(e,t){if(1===t.nodeType&&at.hasData(e)){var n,r,o,a=at._data(e),i=at._data(t,a),s=a.events;if(s){delete i.handle,i.events={};for(n in s)for(r=0,o=s[n].length;o>r;r++)at.event.add(t,n,s[n][r])}i.data&&(i.data=at.extend({},i.data))}}function S(e,t){var n,r,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!rt.noCloneEvent&&t[at.expando]){o=at._data(t);for(r in o.events)at.removeEvent(t,r,o.handle);t.removeAttribute(at.expando)}"script"===n&&t.text!==e.text?(y(t).text=e.text,b(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),rt.html5Clone&&e.innerHTML&&!at.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&xt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function T(t,n){var r=at(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle?e.getDefaultComputedStyle(r[0]).display:at.css(r[0],"display");return r.detach(),o}function M(e){var t=mt,n=en[e];return n||(n=T(e,t),"none"!==n&&n||(Zt=(Zt||at("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Zt[0].contentWindow||Zt[0].contentDocument).document,t.write(),t.close(),n=T(e,t),Zt.detach()),en[e]=n),n}function L(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function D(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,o=hn.length;o--;)if(t=hn[o]+n,t in e)return t;return r}function P(e,t){for(var n,r,o,a=[],i=0,s=e.length;s>i;i++)r=e[i],r.style&&(a[i]=at._data(r,"olddisplay"),n=r.style.display,t?(a[i]||"none"!==n||(r.style.display=""),""===r.style.display&&Ct(r)&&(a[i]=at._data(r,"olddisplay",M(r.nodeName)))):a[i]||(o=Ct(r),(n&&"none"!==n||!o)&&at._data(r,"olddisplay",o?n:at.css(r,"display"))));for(i=0;s>i;i++)r=e[i],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?a[i]||"":"none"));return e}function C(e,t,n){var r=ln.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function E(e,t,n,r,o){for(var a=n===(r?"border":"content")?4:"width"===t?1:0,i=0;4>a;a+=2)"margin"===n&&(i+=at.css(e,n+Pt[a],!0,o)),r?("content"===n&&(i-=at.css(e,"padding"+Pt[a],!0,o)),"margin"!==n&&(i-=at.css(e,"border"+Pt[a]+"Width",!0,o))):(i+=at.css(e,"padding"+Pt[a],!0,o),"padding"!==n&&(i+=at.css(e,"border"+Pt[a]+"Width",!0,o)));return i}function x(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,a=tn(e),i=rt.boxSizing()&&"border-box"===at.css(e,"boxSizing",!1,a);if(0>=o||null==o){if(o=nn(e,t,a),(0>o||null==o)&&(o=e.style[t]),on.test(o))return o;r=i&&(rt.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+E(e,t,n||(i?"border":"content"),r,a)+"px"}function I(e,t,n,r,o){return new I.prototype.init(e,t,n,r,o)}function A(){return setTimeout(function(){mn=void 0}),mn=at.now()}function O(e,t){var n,r={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)n=Pt[o],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function N(e,t,n){for(var r,o=(kn[t]||[]).concat(kn["*"]),a=0,i=o.length;i>a;a++)if(r=o[a].call(n,t,e))return r}function Y(e,t,n){var r,o,a,i,s,u,c,l,d=this,p={},f=e.style,h=e.nodeType&&Ct(e),m=at._data(e,"fxshow");n.queue||(s=at._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,at.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=at.css(e,"display"),l=M(e.nodeName),"none"===c&&(c=l),"inline"===c&&"none"===at.css(e,"float")&&(rt.inlineBlockNeedsLayout&&"inline"!==l?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",rt.shrinkWrapBlocks()||d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],_n.exec(o)){if(delete t[r],a=a||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!m||void 0===m[r])continue;h=!0}p[r]=m&&m[r]||at.style(e,r)}if(!at.isEmptyObject(p)){m?"hidden"in m&&(h=m.hidden):m=at._data(e,"fxshow",{}),a&&(m.hidden=!h),h?at(e).show():d.done(function(){at(e).hide()}),d.done(function(){var t;at._removeData(e,"fxshow");for(t in p)at.style(e,t,p[t])});for(r in p)i=N(h?m[r]:0,r,d),r in m||(m[r]=i.start,h&&(i.end=i.start,i.start="width"===r||"height"===r?1:0))}}function F(e,t){var n,r,o,a,i;for(n in e)if(r=at.camelCase(n),o=t[r],a=e[n],at.isArray(a)&&(o=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),i=at.cssHooks[r],i&&"expand"in i){a=i.expand(a),delete e[r];for(n in a)n in e||(e[n]=a[n],t[n]=o)}else t[r]=o}function H(e,t,n){var r,o,a=0,i=bn.length,s=at.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var t=mn||A(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,a=1-r,i=0,u=c.tweens.length;u>i;i++)c.tweens[i].run(a);return s.notifyWith(e,[c,a,n]),1>a&&u?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:at.extend({},t),opts:at.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:mn||A(),duration:n.duration,tweens:[],createTween:function(t,n){var r=at.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;r>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),l=c.props;for(F(l,c.opts.specialEasing);i>a;a++)if(r=bn[a].call(c,e,l,c.opts))return r;return at.map(l,N,c),at.isFunction(c.opts.start)&&c.opts.start.call(e,c),at.fx.timer(at.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function V(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,a=t.toLowerCase().match(bt)||[];if(at.isFunction(n))for(;r=a[o++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function B(e,t,n,r){function o(s){var u;return a[s]=!0,at.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||i||a[c]?i?!(u=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),u}var a={},i=e===$n;return o(t.dataTypes[0])||!a["*"]&&o("*")}function R(e,t){var n,r,o=at.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((o[r]?e:n||(n={}))[r]=t[r]);return n&&at.extend(!0,e,n),e}function U(e,t,n){for(var r,o,a,i,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(i in s)if(s[i]&&s[i].test(o)){u.unshift(i);break}if(u[0]in n)a=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){a=i;break}r||(r=i)}a=a||r}return a?(a!==u[0]&&u.unshift(a),n[a]):void 0
}function j(e,t,n,r){var o,a,i,s,u,c={},l=e.dataTypes.slice();if(l[1])for(i in e.converters)c[i.toLowerCase()]=e.converters[i];for(a=l.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=a,a=l.shift())if("*"===a)a=u;else if("*"!==u&&u!==a){if(i=c[u+" "+a]||c["* "+a],!i)for(o in c)if(s=o.split(" "),s[1]===a&&(i=c[u+" "+s[0]]||c["* "+s[0]])){i===!0?i=c[o]:c[o]!==!0&&(a=s[0],l.unshift(s[1]));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(d){return{state:"parsererror",error:i?d:"No conversion from "+u+" to "+a}}}return{state:"success",data:t}}function z(e,t,n,r){var o;if(at.isArray(t))at.each(t,function(t,o){n||Kn.test(e)?r(e,o):z(e+"["+("object"==typeof o?t:"")+"]",o,n,r)});else if(n||"object"!==at.type(t))r(e,t);else for(o in t)z(e+"["+o+"]",t[o],n,r)}function $(){try{return new e.XMLHttpRequest}catch(t){}}function q(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function W(e){return at.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var G=[],K=G.slice,J=G.concat,Q=G.push,X=G.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt="".trim,rt={},ot="1.11.0",at=function(e,t){return new at.fn.init(e,t)},it=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,ut=/-([\da-z])/gi,ct=function(e,t){return t.toUpperCase()};at.fn=at.prototype={jquery:ot,constructor:at,selector:"",length:0,toArray:function(){return K.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:K.call(this)},pushStack:function(e){var t=at.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return at.each(this,e,t)},map:function(e){return this.pushStack(at.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:G.sort,splice:G.splice},at.extend=at.fn.extend=function(){var e,t,n,r,o,a,i=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof i&&(c=i,i=arguments[s]||{},s++),"object"==typeof i||at.isFunction(i)||(i={}),s===u&&(i=this,s--);u>s;s++)if(null!=(o=arguments[s]))for(r in o)e=i[r],n=o[r],i!==n&&(c&&n&&(at.isPlainObject(n)||(t=at.isArray(n)))?(t?(t=!1,a=e&&at.isArray(e)?e:[]):a=e&&at.isPlainObject(e)?e:{},i[r]=at.extend(c,a,n)):void 0!==n&&(i[r]=n));return i},at.extend({expando:"jQuery"+(ot+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===at.type(e)},isArray:Array.isArray||function(e){return"array"===at.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==at.type(e)||e.nodeType||at.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(rt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&at.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(st,"ms-").replace(ut,ct)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var o,a=0,i=e.length,s=n(e);if(r){if(s)for(;i>a&&(o=t.apply(e[a],r),o!==!1);a++);else for(a in e)if(o=t.apply(e[a],r),o===!1)break}else if(s)for(;i>a&&(o=t.call(e[a],a,e[a]),o!==!1);a++);else for(a in e)if(o=t.call(e[a],a,e[a]),o===!1)break;return e},trim:nt&&!nt.call("﻿ ")?function(e){return null==e?"":nt.call(e)}:function(e){return null==e?"":(e+"").replace(it,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?at.merge(r,"string"==typeof e?[e]:e):Q.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(X)return X.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;n>r;)e[o++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[o++]=t[r++];return e.length=o,e},grep:function(e,t,n){for(var r,o=[],a=0,i=e.length,s=!n;i>a;a++)r=!t(e[a],a),r!==s&&o.push(e[a]);return o},map:function(e,t,r){var o,a=0,i=e.length,s=n(e),u=[];if(s)for(;i>a;a++)o=t(e[a],a,r),null!=o&&u.push(o);else for(a in e)o=t(e[a],a,r),null!=o&&u.push(o);return J.apply([],u)},guid:1,proxy:function(e,t){var n,r,o;return"string"==typeof t&&(o=e[t],t=e,e=o),at.isFunction(e)?(n=K.call(arguments,2),r=function(){return e.apply(t||this,n.concat(K.call(arguments)))},r.guid=e.guid=e.guid||at.guid++,r):void 0},now:function(){return+new Date},support:rt}),at.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var lt=function(e){function t(e,t,n,r){var o,a,i,s,u,c,d,h,m,g;if((t?t.ownerDocument||t:B)!==I&&x(t),t=t||I,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(O&&!r){if(o=vt.exec(e))if(i=o[1]){if(9===s){if(a=t.getElementById(i),!a||!a.parentNode)return n;if(a.id===i)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(i))&&H(t,a)&&a.id===i)return n.push(a),n}else{if(o[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((i=o[3])&&S.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(i)),n}if(S.qsa&&(!N||!N.test(e))){if(h=d=V,m=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=p(e),(d=t.getAttribute("id"))?h=d.replace(bt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",u=c.length;u--;)c[u]=h+f(c[u]);m=yt.test(e)&&l(t.parentNode)||t,g=c.join(",")}if(g)try{return Z.apply(n,m.querySelectorAll(g)),n}catch(_){}finally{d||t.removeAttribute("id")}}}return k(e.replace(ut,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[V]=!0,e}function o(e){var t=I.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function i(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var o,a=e([],n.length,t),i=a.length;i--;)n[o=a[i]]&&(n[o]=!(r[o]=n[o]))})})}function l(e){return e&&typeof e.getElementsByTagName!==W&&e}function d(){}function p(e,n){var r,o,a,i,s,u,c,l=z[e+" "];if(l)return n?0:l.slice(0);for(s=e,u=[],c=T.preFilter;s;){(!r||(o=ct.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),u.push(a=[])),r=!1,(o=lt.exec(s))&&(r=o.shift(),a.push({value:r,type:o[0].replace(ut," ")}),s=s.slice(r.length));for(i in T.filter)!(o=ht[i].exec(s))||c[i]&&!(o=c[i](o))||(r=o.shift(),a.push({value:r,type:i,matches:o}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):z(e,u).slice(0)}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=U++;return t.first?function(t,n,a){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,a)}:function(t,n,i){var s,u,c=[R,a];if(i){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,i))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(u=t[V]||(t[V]={}),(s=u[r])&&s[0]===R&&s[1]===a)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,i))return!0}}}function m(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function g(e,t,n,r,o){for(var a,i=[],s=0,u=e.length,c=null!=t;u>s;s++)(a=e[s])&&(!n||n(a,r,o))&&(i.push(a),c&&t.push(s));return i}function _(e,t,n,o,a,i){return o&&!o[V]&&(o=_(o)),a&&!a[V]&&(a=_(a,i)),r(function(r,i,s,u){var c,l,d,p=[],f=[],h=i.length,m=r||b(t||"*",s.nodeType?[s]:s,[]),_=!e||!r&&t?m:g(m,p,e,s,u),v=n?a||(r?e:h||o)?[]:i:_;if(n&&n(_,v,s,u),o)for(c=g(v,f),o(c,[],s,u),l=c.length;l--;)(d=c[l])&&(v[f[l]]=!(_[f[l]]=d));if(r){if(a||e){if(a){for(c=[],l=v.length;l--;)(d=v[l])&&c.push(_[l]=d);a(null,v=[],c,u)}for(l=v.length;l--;)(d=v[l])&&(c=a?tt.call(r,d):p[l])>-1&&(r[c]=!(i[c]=d))}}else v=g(v===i?v.splice(h,v.length):v),a?a(null,i,v,u):Z.apply(i,v)})}function v(e){for(var t,n,r,o=e.length,a=T.relative[e[0].type],i=a||T.relative[" "],s=a?1:0,u=h(function(e){return e===t},i,!0),c=h(function(e){return tt.call(t,e)>-1},i,!0),l=[function(e,n,r){return!a&&(r||n!==P)||((t=n).nodeType?u(e,n,r):c(e,n,r))}];o>s;s++)if(n=T.relative[e[s].type])l=[h(m(l),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[V]){for(r=++s;o>r&&!T.relative[e[r].type];r++);return _(s>1&&m(l),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ut,"$1"),n,r>s&&v(e.slice(s,r)),o>r&&v(e=e.slice(r)),o>r&&f(e))}l.push(n)}return m(l)}function y(e,n){var o=n.length>0,a=e.length>0,i=function(r,i,s,u,c){var l,d,p,f=0,h="0",m=r&&[],_=[],v=P,y=r||a&&T.find.TAG("*",c),b=R+=null==v?1:Math.random()||.1,k=y.length;for(c&&(P=i!==I&&i);h!==k&&null!=(l=y[h]);h++){if(a&&l){for(d=0;p=e[d++];)if(p(l,i,s)){u.push(l);break}c&&(R=b)}o&&((l=!p&&l)&&f--,r&&m.push(l))}if(f+=h,o&&h!==f){for(d=0;p=n[d++];)p(m,_,i,s);if(r){if(f>0)for(;h--;)m[h]||_[h]||(_[h]=Q.call(u));_=g(_)}Z.apply(u,_),c&&!r&&_.length>0&&f+n.length>1&&t.uniqueSort(u)}return c&&(R=b,P=v),m};return o?r(i):i}function b(e,n,r){for(var o=0,a=n.length;a>o;o++)t(e,n[o],r);return r}function k(e,t,n,r){var o,a,i,s,u,c=p(e);if(!r&&1===c.length){if(a=c[0]=c[0].slice(0),a.length>2&&"ID"===(i=a[0]).type&&S.getById&&9===t.nodeType&&O&&T.relative[a[1].type]){if(t=(T.find.ID(i.matches[0].replace(kt,wt),t)||[])[0],!t)return n;e=e.slice(a.shift().value.length)}for(o=ht.needsContext.test(e)?0:a.length;o--&&(i=a[o],!T.relative[s=i.type]);)if((u=T.find[s])&&(r=u(i.matches[0].replace(kt,wt),yt.test(a[0].type)&&l(t.parentNode)||t))){if(a.splice(o,1),e=r.length&&f(a),!e)return Z.apply(n,r),n;break}}return D(e,c)(r,t,!O,n,yt.test(e)&&l(t.parentNode)||t),n}var w,S,T,M,L,D,P,C,E,x,I,A,O,N,Y,F,H,V="sizzle"+-new Date,B=e.document,R=0,U=0,j=n(),z=n(),$=n(),q=function(e,t){return e===t&&(E=!0),0},W="undefined",G=1<<31,K={}.hasOwnProperty,J=[],Q=J.pop,X=J.push,Z=J.push,et=J.slice,tt=J.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at=ot.replace("w","w#"),it="\\["+rt+"*("+ot+")"+rt+"*(?:([*^$|!~]?=)"+rt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+at+")|)|)"+rt+"*\\]",st=":("+ot+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+it.replace(3,8)+")*)|.*)\\)|)",ut=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),ct=new RegExp("^"+rt+"*,"+rt+"*"),lt=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),dt=new RegExp("="+rt+"*([^\\]'\"]*?)"+rt+"*\\]","g"),pt=new RegExp(st),ft=new RegExp("^"+at+"$"),ht={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot.replace("w","w*")+")"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,_t=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,kt=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),wt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(J=et.call(B.childNodes),B.childNodes),J[B.childNodes.length].nodeType}catch(St){Z={apply:J.length?function(e,t){X.apply(e,et.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}S=t.support={},L=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},x=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:B,r=n.defaultView;return n!==I&&9===n.nodeType&&n.documentElement?(I=n,A=n.documentElement,O=!L(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){x()},!1):r.attachEvent&&r.attachEvent("onunload",function(){x()})),S.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),S.getElementsByTagName=o(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),S.getElementsByClassName=_t.test(n.getElementsByClassName)&&o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),S.getById=o(function(e){return A.appendChild(e).id=V,!n.getElementsByName||!n.getElementsByName(V).length}),S.getById?(T.find.ID=function(e,t){if(typeof t.getElementById!==W&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(kt,wt);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(kt,wt);return function(e){var n=typeof e.getAttributeNode!==W&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=S.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==W?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],o=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[o++];)1===n.nodeType&&r.push(n);return r}return a},T.find.CLASS=S.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==W&&O?t.getElementsByClassName(e):void 0},Y=[],N=[],(S.qsa=_t.test(n.querySelectorAll))&&(o(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&N.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+rt+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||N.push(":checked")}),o(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+rt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(S.matchesSelector=_t.test(F=A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&o(function(e){S.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),Y.push("!=",st)}),N=N.length&&new RegExp(N.join("|")),Y=Y.length&&new RegExp(Y.join("|")),t=_t.test(A.compareDocumentPosition),H=t||_t.test(A.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return E=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!S.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===B&&H(B,e)?-1:t===n||t.ownerDocument===B&&H(B,t)?1:C?tt.call(C,e)-tt.call(C,t):0:4&r?-1:1)}:function(e,t){if(e===t)return E=!0,0;var r,o=0,a=e.parentNode,s=t.parentNode,u=[e],c=[t];if(!a||!s)return e===n?-1:t===n?1:a?-1:s?1:C?tt.call(C,e)-tt.call(C,t):0;if(a===s)return i(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)c.unshift(r);for(;u[o]===c[o];)o++;return o?i(u[o],c[o]):u[o]===B?-1:c[o]===B?1:0},n):I},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==I&&x(e),n=n.replace(dt,"='$1']"),!(!S.matchesSelector||!O||Y&&Y.test(n)||N&&N.test(n)))try{var r=F.call(e,n);if(r||S.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(o){}return t(n,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&x(e),H(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&x(e);var n=T.attrHandle[t.toLowerCase()],r=n&&K.call(T.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:S.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(E=!S.detectDuplicates,C=!S.sortStable&&e.slice(0),e.sort(q),E){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return C=null,e},M=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=M(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=M(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(kt,wt),e[3]=(e[4]||e[5]||"").replace(kt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&pt.test(n)&&(t=p(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(kt,wt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==W&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var a=t.attr(o,e);return null==a?"!="===n:n?(a+="","="===n?a===r:"!="===n?a!==r:"^="===n?r&&0===a.indexOf(r):"*="===n?r&&a.indexOf(r)>-1:"$="===n?r&&a.slice(-r.length)===r:"~="===n?(" "+a+" ").indexOf(r)>-1:"|="===n?a===r||a.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,o){var a="nth"!==e.slice(0,3),i="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var c,l,d,p,f,h,m=a!==i?"nextSibling":"previousSibling",g=t.parentNode,_=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(g){if(a){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===_:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[i?g.firstChild:g.lastChild],i&&v){for(l=g[V]||(g[V]={}),c=l[e]||[],f=c[0]===R&&c[1],p=c[0]===R&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(p=f=0)||h.pop();)if(1===d.nodeType&&++p&&d===t){l[e]=[R,f,p];break}}else if(v&&(c=(t[V]||(t[V]={}))[e])&&c[0]===R)p=c[1];else for(;(d=++f&&d&&d[m]||(p=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==_:1!==d.nodeType)||!++p||(v&&((d[V]||(d[V]={}))[e]=[R,p]),d!==t)););return p-=o,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(e,n){var o,a=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[V]?a(n):a.length>1?(o=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=a(e,n),i=o.length;i--;)r=tt.call(e,o[i]),e[r]=!(t[r]=o[i])}):function(e){return a(e,0,o)}):a}},pseudos:{not:r(function(e){var t=[],n=[],o=D(e.replace(ut,"$1"));return o[V]?r(function(e,t,n,r){for(var a,i=o(e,null,r,[]),s=e.length;s--;)(a=i[s])&&(e[s]=!(t[s]=a))}):function(e,r,a){return t[0]=e,o(t,null,a,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||M(t)).indexOf(e)>-1}}),lang:r(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(kt,wt).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})T.pseudos[w]=u(w);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,D=t.compile=function(e,t){var n,r=[],o=[],a=$[e+" "];if(!a){for(t||(t=p(e)),n=t.length;n--;)a=v(t[n]),a[V]?r.push(a):o.push(a);a=$(e,y(o,r))}return a},S.sortStable=V.split("").sort(q).join("")===V,S.detectDuplicates=!!E,x(),S.sortDetached=o(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),S.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||a(nt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);at.find=lt,at.expr=lt.selectors,at.expr[":"]=at.expr.pseudos,at.unique=lt.uniqueSort,at.text=lt.getText,at.isXMLDoc=lt.isXML,at.contains=lt.contains;var dt=at.expr.match.needsContext,pt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^.[^:#\[\.,]*$/;at.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?at.find.matchesSelector(r,e)?[r]:[]:at.find.matches(e,at.grep(t,function(e){return 1===e.nodeType}))},at.fn.extend({find:function(e){var t,n=[],r=this,o=r.length;if("string"!=typeof e)return this.pushStack(at(e).filter(function(){for(t=0;o>t;t++)if(at.contains(r[t],this))return!0}));for(t=0;o>t;t++)at.find(e,r[t],n);return n=this.pushStack(o>1?at.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&dt.test(e)?at(e):e||[],!1).length}});var ht,mt=e.document,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,_t=at.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:gt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ht).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof at?t[0]:t,at.merge(this,at.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:mt,!0)),pt.test(n[1])&&at.isPlainObject(t))for(n in t)at.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=mt.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return ht.find(e);this.length=1,this[0]=r}return this.context=mt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):at.isFunction(e)?"undefined"!=typeof ht.ready?ht.ready(e):e(at):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),at.makeArray(e,this))};_t.prototype=at.fn,ht=at(mt);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};at.extend({dir:function(e,t,n){for(var r=[],o=e[t];o&&9!==o.nodeType&&(void 0===n||1!==o.nodeType||!at(o).is(n));)1===o.nodeType&&r.push(o),o=o[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),at.fn.extend({has:function(e){var t,n=at(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(at.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,o=this.length,a=[],i=dt.test(e)||"string"!=typeof e?at(e,t||this.context):0;o>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(i?i.index(n)>-1:1===n.nodeType&&at.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?at.unique(a):a)},index:function(e){return e?"string"==typeof e?at.inArray(this[0],at(e)):at.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(at.unique(at.merge(this.get(),at(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),at.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return at.dir(e,"parentNode")},parentsUntil:function(e,t,n){return at.dir(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return at.dir(e,"nextSibling")},prevAll:function(e){return at.dir(e,"previousSibling")},nextUntil:function(e,t,n){return at.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return at.dir(e,"previousSibling",n)},siblings:function(e){return at.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return at.sibling(e.firstChild)},contents:function(e){return at.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:at.merge([],e.childNodes)}},function(e,t){at.fn[e]=function(n,r){var o=at.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=at.filter(r,o)),this.length>1&&(yt[e]||(o=at.unique(o)),vt.test(e)&&(o=o.reverse())),this.pushStack(o)}});var bt=/\S+/g,kt={};at.Callbacks=function(e){e="string"==typeof e?kt[e]||a(e):at.extend({},e);var t,n,r,o,i,s,u=[],c=!e.once&&[],l=function(a){for(n=e.memory&&a,r=!0,i=s||0,s=0,o=u.length,t=!0;u&&o>i;i++)if(u[i].apply(a[0],a[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(c?c.length&&l(c.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function a(t){at.each(t,function(t,n){var r=at.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&a(n)})}(arguments),t?o=u.length:n&&(s=r,l(n))}return this},remove:function(){return u&&at.each(arguments,function(e,n){for(var r;(r=at.inArray(n,u,r))>-1;)u.splice(r,1),t&&(o>=r&&o--,i>=r&&i--)}),this},has:function(e){return e?at.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],o=0,this},disable:function(){return u=c=n=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,n||d.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!u||r&&!c||(n=n||[],n=[e,n.slice?n.slice():n],t?c.push(n):l(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},at.extend({Deferred:function(e){var t=[["resolve","done",at.Callbacks("once memory"),"resolved"],["reject","fail",at.Callbacks("once memory"),"rejected"],["notify","progress",at.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return at.Deferred(function(n){at.each(t,function(t,a){var i=at.isFunction(e[t])&&e[t];o[a[1]](function(){var e=i&&i.apply(this,arguments);e&&at.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===r?n.promise():this,i?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?at.extend(e,r):r}},o={};return r.pipe=r.then,at.each(t,function(e,a){var i=a[2],s=a[3];r[a[1]]=i.add,s&&i.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[a[0]]=function(){return o[a[0]+"With"](this===o?r:this,arguments),this},o[a[0]+"With"]=i.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,a=K.call(arguments),i=a.length,s=1!==i||e&&at.isFunction(e.promise)?i:0,u=1===s?e:at.Deferred(),c=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?K.call(arguments):o,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(i>1)for(t=new Array(i),n=new Array(i),r=new Array(i);i>o;o++)a[o]&&at.isFunction(a[o].promise)?a[o].promise().done(c(o,r,a)).fail(u.reject).progress(c(o,n,t)):--s;return s||u.resolveWith(r,a),u.promise()}});var wt;at.fn.ready=function(e){return at.ready.promise().done(e),this},at.extend({isReady:!1,readyWait:1,holdReady:function(e){e?at.readyWait++:at.ready(!0)},ready:function(e){if(e===!0?!--at.readyWait:!at.isReady){if(!mt.body)return setTimeout(at.ready);at.isReady=!0,e!==!0&&--at.readyWait>0||(wt.resolveWith(mt,[at]),at.fn.trigger&&at(mt).trigger("ready").off("ready"))}}}),at.ready.promise=function(t){if(!wt)if(wt=at.Deferred(),"complete"===mt.readyState)setTimeout(at.ready);else if(mt.addEventListener)mt.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{mt.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&mt.documentElement}catch(r){}n&&n.doScroll&&!function o(){if(!at.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}i(),at.ready()}}()}return wt.promise(t)};var St,Tt="undefined";for(St in at(rt))break;rt.ownLast="0"!==St,rt.inlineBlockNeedsLayout=!1,at(function(){var e,t,n=mt.getElementsByTagName("body")[0];n&&(e=mt.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t=mt.createElement("div"),n.appendChild(e).appendChild(t),typeof t.style.zoom!==Tt&&(t.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(rt.inlineBlockNeedsLayout=3===t.offsetWidth)&&(n.style.zoom=1)),n.removeChild(e),e=t=null)}),function(){var e=mt.createElement("div");if(null==rt.deleteExpando){rt.deleteExpando=!0;try{delete e.test}catch(t){rt.deleteExpando=!1}}e=null}(),at.acceptData=function(e){var t=at.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Mt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Lt=/([A-Z])/g;at.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?at.cache[e[at.expando]]:e[at.expando],!!e&&!c(e)},data:function(e,t,n){return l(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return l(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),at.fn.extend({data:function(e,t){var n,r,o,a=this[0],i=a&&a.attributes;if(void 0===e){if(this.length&&(o=at.data(a),1===a.nodeType&&!at._data(a,"parsedAttrs"))){for(n=i.length;n--;)r=i[n].name,0===r.indexOf("data-")&&(r=at.camelCase(r.slice(5)),u(a,r,o[r]));
at._data(a,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){at.data(this,e)}):arguments.length>1?this.each(function(){at.data(this,e,t)}):a?u(a,e,at.data(a,e)):void 0},removeData:function(e){return this.each(function(){at.removeData(this,e)})}}),at.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=at._data(e,t),n&&(!r||at.isArray(n)?r=at._data(e,t,at.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=at.queue(e,t),r=n.length,o=n.shift(),a=at._queueHooks(e,t),i=function(){at.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete a.stop,o.call(e,i,a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return at._data(e,n)||at._data(e,n,{empty:at.Callbacks("once memory").add(function(){at._removeData(e,t+"queue"),at._removeData(e,n)})})}}),at.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?at.queue(this[0],e):void 0===t?this:this.each(function(){var n=at.queue(this,e,t);at._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&at.dequeue(this,e)})},dequeue:function(e){return this.each(function(){at.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=at.Deferred(),a=this,i=this.length,s=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";i--;)n=at._data(a[i],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var Dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pt=["Top","Right","Bottom","Left"],Ct=function(e,t){return e=t||e,"none"===at.css(e,"display")||!at.contains(e.ownerDocument,e)},Et=at.access=function(e,t,n,r,o,a,i){var s=0,u=e.length,c=null==n;if("object"===at.type(n)){o=!0;for(s in n)at.access(e,t,s,n[s],!0,a,i)}else if(void 0!==r&&(o=!0,at.isFunction(r)||(i=!0),c&&(i?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(at(e),n)})),t))for(;u>s;s++)t(e[s],n,i?r:r.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):u?t(e[0],n):a},xt=/^(?:checkbox|radio)$/i;!function(){var e=mt.createDocumentFragment(),t=mt.createElement("div"),n=mt.createElement("input");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a>",rt.leadingWhitespace=3===t.firstChild.nodeType,rt.tbody=!t.getElementsByTagName("tbody").length,rt.htmlSerialize=!!t.getElementsByTagName("link").length,rt.html5Clone="<:nav></:nav>"!==mt.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),rt.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",rt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",rt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,rt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){rt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==rt.deleteExpando){rt.deleteExpando=!0;try{delete t.test}catch(r){rt.deleteExpando=!1}}e=t=n=null}(),function(){var t,n,r=mt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(rt[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),rt[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var It=/^(?:input|select|textarea)$/i,At=/^key/,Ot=/^(?:mouse|contextmenu)|click/,Nt=/^(?:focusinfocus|focusoutblur)$/,Yt=/^([^.]*)(?:\.(.+)|)$/;at.event={global:{},add:function(e,t,n,r,o){var a,i,s,u,c,l,d,p,f,h,m,g=at._data(e);if(g){for(n.handler&&(u=n,n=u.handler,o=u.selector),n.guid||(n.guid=at.guid++),(i=g.events)||(i=g.events={}),(l=g.handle)||(l=g.handle=function(e){return typeof at===Tt||e&&at.event.triggered===e.type?void 0:at.event.dispatch.apply(l.elem,arguments)},l.elem=e),t=(t||"").match(bt)||[""],s=t.length;s--;)a=Yt.exec(t[s])||[],f=m=a[1],h=(a[2]||"").split(".").sort(),f&&(c=at.event.special[f]||{},f=(o?c.delegateType:c.bindType)||f,c=at.event.special[f]||{},d=at.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&at.expr.match.needsContext.test(o),namespace:h.join(".")},u),(p=i[f])||(p=i[f]=[],p.delegateCount=0,c.setup&&c.setup.call(e,r,h,l)!==!1||(e.addEventListener?e.addEventListener(f,l,!1):e.attachEvent&&e.attachEvent("on"+f,l))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,d):p.push(d),at.event.global[f]=!0);e=null}},remove:function(e,t,n,r,o){var a,i,s,u,c,l,d,p,f,h,m,g=at.hasData(e)&&at._data(e);if(g&&(l=g.events)){for(t=(t||"").match(bt)||[""],c=t.length;c--;)if(s=Yt.exec(t[c])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=at.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,p=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=a=p.length;a--;)i=p[a],!o&&m!==i.origType||n&&n.guid!==i.guid||s&&!s.test(i.namespace)||r&&r!==i.selector&&("**"!==r||!i.selector)||(p.splice(a,1),i.selector&&p.delegateCount--,d.remove&&d.remove.call(e,i));u&&!p.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||at.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)at.event.remove(e,f+t[c],n,r,!0);at.isEmptyObject(l)&&(delete g.handle,at._removeData(e,"events"))}},trigger:function(t,n,r,o){var a,i,s,u,c,l,d,p=[r||mt],f=tt.call(t,"type")?t.type:t,h=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=l=r=r||mt,3!==r.nodeType&&8!==r.nodeType&&!Nt.test(f+at.event.triggered)&&(f.indexOf(".")>=0&&(h=f.split("."),f=h.shift(),h.sort()),i=f.indexOf(":")<0&&"on"+f,t=t[at.expando]?t:new at.Event(f,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:at.makeArray(n,[t]),c=at.event.special[f]||{},o||!c.trigger||c.trigger.apply(r,n)!==!1)){if(!o&&!c.noBubble&&!at.isWindow(r)){for(u=c.delegateType||f,Nt.test(u+f)||(s=s.parentNode);s;s=s.parentNode)p.push(s),l=s;l===(r.ownerDocument||mt)&&p.push(l.defaultView||l.parentWindow||e)}for(d=0;(s=p[d++])&&!t.isPropagationStopped();)t.type=d>1?u:c.bindType||f,a=(at._data(s,"events")||{})[t.type]&&at._data(s,"handle"),a&&a.apply(s,n),a=i&&s[i],a&&a.apply&&at.acceptData(s)&&(t.result=a.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=f,!o&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(p.pop(),n)===!1)&&at.acceptData(r)&&i&&r[f]&&!at.isWindow(r)){l=r[i],l&&(r[i]=null),at.event.triggered=f;try{r[f]()}catch(m){}at.event.triggered=void 0,l&&(r[i]=l)}return t.result}},dispatch:function(e){e=at.event.fix(e);var t,n,r,o,a,i=[],s=K.call(arguments),u=(at._data(this,"events")||{})[e.type]||[],c=at.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(i=at.event.handlers.call(this,e,u),t=0;(o=i[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(r=o.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((at.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,a,i=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(o=[],a=0;s>a;a++)r=t[a],n=r.selector+" ",void 0===o[n]&&(o[n]=r.needsContext?at(n,this).index(u)>=0:at.find(n,this,null,[u]).length),o[n]&&o.push(r);o.length&&i.push({elem:u,handlers:o})}return s<t.length&&i.push({elem:this,handlers:t.slice(s)}),i},fix:function(e){if(e[at.expando])return e;var t,n,r,o=e.type,a=e,i=this.fixHooks[o];for(i||(this.fixHooks[o]=i=Ot.test(o)?this.mouseHooks:At.test(o)?this.keyHooks:{}),r=i.props?this.props.concat(i.props):this.props,e=new at.Event(a),t=r.length;t--;)n=r[t],e[n]=a[n];return e.target||(e.target=a.srcElement||mt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,a=t.button,i=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||mt,o=r.documentElement,n=r.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&i&&(e.relatedTarget=i===e.target?t.toElement:i),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return at.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return at.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var o=at.extend(new at.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?at.event.trigger(o,null,t):at.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},at.removeEvent=mt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Tt&&(e[r]=null),e.detachEvent(r,n))},at.Event=function(e,t){return this instanceof at.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())?p:f):this.type=e,t&&at.extend(this,t),this.timeStamp=e&&e.timeStamp||at.now(),void(this[at.expando]=!0)):new at.Event(e,t)},at.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=p,this.stopPropagation()}},at.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){at.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,a=e.handleObj;return(!o||o!==r&&!at.contains(r,o))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),rt.submitBubbles||(at.event.special.submit={setup:function(){return at.nodeName(this,"form")?!1:void at.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=at.nodeName(t,"input")||at.nodeName(t,"button")?t.form:void 0;n&&!at._data(n,"submitBubbles")&&(at.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),at._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&at.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return at.nodeName(this,"form")?!1:void at.event.remove(this,"._submit")}}),rt.changeBubbles||(at.event.special.change={setup:function(){return It.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(at.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),at.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),at.event.simulate("change",this,e,!0)})),!1):void at.event.add(this,"beforeactivate._change",function(e){var t=e.target;It.test(t.nodeName)&&!at._data(t,"changeBubbles")&&(at.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||at.event.simulate("change",this.parentNode,e,!0)}),at._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return at.event.remove(this,"._change"),!It.test(this.nodeName)}}),rt.focusinBubbles||at.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){at.event.simulate(t,e.target,at.event.fix(e),!0)};at.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=at._data(r,t);o||r.addEventListener(e,n,!0),at._data(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=at._data(r,t)-1;o?at._data(r,t,o):(r.removeEventListener(e,n,!0),at._removeData(r,t))}}}),at.fn.extend({on:function(e,t,n,r,o){var a,i;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],o);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=f;else if(!r)return this;return 1===o&&(i=r,r=function(e){return at().off(e),i.apply(this,arguments)},r.guid=i.guid||(i.guid=at.guid++)),this.each(function(){at.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,at(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=f),this.each(function(){at.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){at.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?at.event.trigger(e,t,n,!0):void 0}});var Ft="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ht=/ jQuery\d+="(?:null|\d+)"/g,Vt=new RegExp("<(?:"+Ft+")[\\s/>]","i"),Bt=/^\s+/,Rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ut=/<([\w:]+)/,jt=/<tbody/i,zt=/<|&#?\w+;/,$t=/<(?:script|style|link)/i,qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Wt=/^$|\/(?:java|ecma)script/i,Gt=/^true\/(.*)/,Kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Jt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:rt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qt=m(mt),Xt=Qt.appendChild(mt.createElement("div"));Jt.optgroup=Jt.option,Jt.tbody=Jt.tfoot=Jt.colgroup=Jt.caption=Jt.thead,Jt.th=Jt.td,at.extend({clone:function(e,t,n){var r,o,a,i,s,u=at.contains(e.ownerDocument,e);if(rt.html5Clone||at.isXMLDoc(e)||!Vt.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(Xt.innerHTML=e.outerHTML,Xt.removeChild(a=Xt.firstChild)),!(rt.noCloneEvent&&rt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||at.isXMLDoc(e)))for(r=g(a),s=g(e),i=0;null!=(o=s[i]);++i)r[i]&&S(o,r[i]);if(t)if(n)for(s=s||g(e),r=r||g(a),i=0;null!=(o=s[i]);i++)w(o,r[i]);else w(e,a);return r=g(a,"script"),r.length>0&&k(r,!u&&g(e,"script")),r=s=o=null,a},buildFragment:function(e,t,n,r){for(var o,a,i,s,u,c,l,d=e.length,p=m(t),f=[],h=0;d>h;h++)if(a=e[h],a||0===a)if("object"===at.type(a))at.merge(f,a.nodeType?[a]:a);else if(zt.test(a)){for(s=s||p.appendChild(t.createElement("div")),u=(Ut.exec(a)||["",""])[1].toLowerCase(),l=Jt[u]||Jt._default,s.innerHTML=l[1]+a.replace(Rt,"<$1></$2>")+l[2],o=l[0];o--;)s=s.lastChild;if(!rt.leadingWhitespace&&Bt.test(a)&&f.push(t.createTextNode(Bt.exec(a)[0])),!rt.tbody)for(a="table"!==u||jt.test(a)?"<table>"!==l[1]||jt.test(a)?0:s:s.firstChild,o=a&&a.childNodes.length;o--;)at.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(at.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else f.push(t.createTextNode(a));for(s&&p.removeChild(s),rt.appendChecked||at.grep(g(f,"input"),_),h=0;a=f[h++];)if((!r||-1===at.inArray(a,r))&&(i=at.contains(a.ownerDocument,a),s=g(p.appendChild(a),"script"),i&&k(s),n))for(o=0;a=s[o++];)Wt.test(a.type||"")&&n.push(a);return s=null,p},cleanData:function(e,t){for(var n,r,o,a,i=0,s=at.expando,u=at.cache,c=rt.deleteExpando,l=at.event.special;null!=(n=e[i]);i++)if((t||at.acceptData(n))&&(o=n[s],a=o&&u[o])){if(a.events)for(r in a.events)l[r]?at.event.remove(n,r):at.removeEvent(n,r,a.handle);u[o]&&(delete u[o],c?delete n[s]:typeof n.removeAttribute!==Tt?n.removeAttribute(s):n[s]=null,G.push(o))}}}),at.fn.extend({text:function(e){return Et(this,function(e){return void 0===e?at.text(this):this.empty().append((this[0]&&this[0].ownerDocument||mt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?at.filter(e,this):this,o=0;null!=(n=r[o]);o++)t||1!==n.nodeType||at.cleanData(g(n)),n.parentNode&&(t&&at.contains(n.ownerDocument,n)&&k(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&at.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&at.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return at.clone(this,e,t)})},html:function(e){return Et(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ht,""):void 0;if(!("string"!=typeof e||$t.test(e)||!rt.htmlSerialize&&Vt.test(e)||!rt.leadingWhitespace&&Bt.test(e)||Jt[(Ut.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Rt,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(at.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,at.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=J.apply([],e);var n,r,o,a,i,s,u=0,c=this.length,l=this,d=c-1,p=e[0],f=at.isFunction(p);if(f||c>1&&"string"==typeof p&&!rt.checkClone&&qt.test(p))return this.each(function(n){var r=l.eq(n);f&&(e[0]=p.call(this,n,r.html())),r.domManip(e,t)});if(c&&(s=at.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(a=at.map(g(s,"script"),y),o=a.length;c>u;u++)r=s,u!==d&&(r=at.clone(r,!0,!0),o&&at.merge(a,g(r,"script"))),t.call(this[u],r,u);if(o)for(i=a[a.length-1].ownerDocument,at.map(a,b),u=0;o>u;u++)r=a[u],Wt.test(r.type||"")&&!at._data(r,"globalEval")&&at.contains(i,r)&&(r.src?at._evalUrl&&at._evalUrl(r.src):at.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Kt,"")));s=n=null}return this}}),at.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){at.fn[e]=function(e){for(var n,r=0,o=[],a=at(e),i=a.length-1;i>=r;r++)n=r===i?this:this.clone(!0),at(a[r])[t](n),Q.apply(o,n.get());return this.pushStack(o)}});var Zt,en={};!function(){var e,t,n=mt.createElement("div"),r="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",rt.opacity=/^0.5/.test(e.style.opacity),rt.cssFloat=!!e.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",rt.clearCloneStyle="content-box"===n.style.backgroundClip,e=n=null,rt.shrinkWrapBlocks=function(){var e,n,o,a;if(null==t){if(e=mt.getElementsByTagName("body")[0],!e)return;a="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",n=mt.createElement("div"),o=mt.createElement("div"),e.appendChild(n).appendChild(o),t=!1,typeof o.style.zoom!==Tt&&(o.style.cssText=r+";width:1px;padding:1px;zoom:1",o.innerHTML="<div></div>",o.firstChild.style.width="5px",t=3!==o.offsetWidth),e.removeChild(n),e=n=o=null}return t}}();var tn,nn,rn=/^margin/,on=new RegExp("^("+Dt+")(?!px)[a-z%]+$","i"),an=/^(top|right|bottom|left)$/;e.getComputedStyle?(tn=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},nn=function(e,t,n){var r,o,a,i,s=e.style;return n=n||tn(e),i=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==i||at.contains(e.ownerDocument,e)||(i=at.style(e,t)),on.test(i)&&rn.test(t)&&(r=s.width,o=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=i,i=n.width,s.width=r,s.minWidth=o,s.maxWidth=a)),void 0===i?i:i+""}):mt.documentElement.currentStyle&&(tn=function(e){return e.currentStyle},nn=function(e,t,n){var r,o,a,i,s=e.style;return n=n||tn(e),i=n?n[t]:void 0,null==i&&s&&s[t]&&(i=s[t]),on.test(i)&&!an.test(t)&&(r=s.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":i,i=s.pixelLeft+"px",s.left=r,a&&(o.left=a)),void 0===i?i:i+""||"auto"}),function(){function t(){var t,n,r=mt.getElementsByTagName("body")[0];r&&(t=mt.createElement("div"),n=mt.createElement("div"),t.style.cssText=c,r.appendChild(t).appendChild(n),n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",at.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){o=4===n.offsetWidth}),a=!0,i=!1,s=!0,e.getComputedStyle&&(i="1%"!==(e.getComputedStyle(n,null)||{}).top,a="4px"===(e.getComputedStyle(n,null)||{width:"4px"}).width),r.removeChild(t),n=r=null)}var n,r,o,a,i,s,u=mt.createElement("div"),c="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",l="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=u.getElementsByTagName("a")[0],n.style.cssText="float:left;opacity:.5",rt.opacity=/^0.5/.test(n.style.opacity),rt.cssFloat=!!n.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",rt.clearCloneStyle="content-box"===u.style.backgroundClip,n=u=null,at.extend(rt,{reliableHiddenOffsets:function(){if(null!=r)return r;var e,t,n,o=mt.createElement("div"),a=mt.getElementsByTagName("body")[0];if(a)return o.setAttribute("className","t"),o.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=mt.createElement("div"),e.style.cssText=c,a.appendChild(e).appendChild(o),o.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=o.getElementsByTagName("td"),t[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===t[0].offsetHeight,t[0].style.display="",t[1].style.display="none",r=n&&0===t[0].offsetHeight,a.removeChild(e),o=a=null,r},boxSizing:function(){return null==o&&t(),o},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n,r,o;if(null==s&&e.getComputedStyle){if(t=mt.getElementsByTagName("body")[0],!t)return;n=mt.createElement("div"),r=mt.createElement("div"),n.style.cssText=c,t.appendChild(n).appendChild(r),o=r.appendChild(mt.createElement("div")),o.style.cssText=r.style.cssText=l,o.style.marginRight=o.style.width="0",r.style.width="1px",s=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight),t.removeChild(n)}return s}})}(),at.swap=function(e,t,n,r){var o,a,i={};for(a in t)i[a]=e.style[a],e.style[a]=t[a];o=n.apply(e,r||[]);for(a in t)e.style[a]=i[a];return o};var sn=/alpha\([^)]*\)/i,un=/opacity\s*=\s*([^)]*)/,cn=/^(none|table(?!-c[ea]).+)/,ln=new RegExp("^("+Dt+")(.*)$","i"),dn=new RegExp("^([+-])=("+Dt+")","i"),pn={position:"absolute",visibility:"hidden",display:"block"},fn={letterSpacing:0,fontWeight:400},hn=["Webkit","O","Moz","ms"];at.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":rt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,i,s=at.camelCase(t),u=e.style;if(t=at.cssProps[s]||(at.cssProps[s]=D(u,s)),i=at.cssHooks[t]||at.cssHooks[s],void 0===n)return i&&"get"in i&&void 0!==(o=i.get(e,!1,r))?o:u[t];if(a=typeof n,"string"===a&&(o=dn.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(at.css(e,t)),a="number"),null!=n&&n===n&&("number"!==a||at.cssNumber[s]||(n+="px"),rt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(i&&"set"in i&&void 0===(n=i.set(e,n,r)))))try{u[t]="",u[t]=n}catch(c){}}},css:function(e,t,n,r){var o,a,i,s=at.camelCase(t);return t=at.cssProps[s]||(at.cssProps[s]=D(e.style,s)),i=at.cssHooks[t]||at.cssHooks[s],i&&"get"in i&&(a=i.get(e,!0,n)),void 0===a&&(a=nn(e,t,r)),"normal"===a&&t in fn&&(a=fn[t]),""===n||n?(o=parseFloat(a),n===!0||at.isNumeric(o)?o||0:a):a}}),at.each(["height","width"],function(e,t){at.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&cn.test(at.css(e,"display"))?at.swap(e,pn,function(){return x(e,t,r)}):x(e,t,r):void 0},set:function(e,n,r){var o=r&&tn(e);return C(e,n,r?E(e,t,r,rt.boxSizing()&&"border-box"===at.css(e,"boxSizing",!1,o),o):0)}}}),rt.opacity||(at.cssHooks.opacity={get:function(e,t){return un.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,o=at.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===at.trim(a.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=sn.test(a)?a.replace(sn,o):a+" "+o)}}),at.cssHooks.marginRight=L(rt.reliableMarginRight,function(e,t){return t?at.swap(e,{display:"inline-block"},nn,[e,"marginRight"]):void 0}),at.each({margin:"",padding:"",border:"Width"},function(e,t){at.cssHooks[e+t]={expand:function(n){for(var r=0,o={},a="string"==typeof n?n.split(" "):[n];4>r;r++)o[e+Pt[r]+t]=a[r]||a[r-2]||a[0];return o}},rn.test(e)||(at.cssHooks[e+t].set=C)}),at.fn.extend({css:function(e,t){return Et(this,function(e,t,n){var r,o,a={},i=0;if(at.isArray(t)){for(r=tn(e),o=t.length;o>i;i++)a[t[i]]=at.css(e,t[i],!1,r);return a}return void 0!==n?at.style(e,t,n):at.css(e,t)},e,t,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ct(this)?at(this).show():at(this).hide()})}}),at.Tween=I,I.prototype={constructor:I,init:function(e,t,n,r,o,a){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(at.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.pos=t=this.options.duration?at.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=at.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){at.fx.step[e.prop]?at.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[at.cssProps[e.prop]]||at.cssHooks[e.prop])?at.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},at.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},at.fx=I.prototype.init,at.fx.step={};var mn,gn,_n=/^(?:toggle|show|hide)$/,vn=new RegExp("^(?:([+-])=|)("+Dt+")([a-z%]*)$","i"),yn=/queueHooks$/,bn=[Y],kn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),o=vn.exec(t),a=o&&o[3]||(at.cssNumber[e]?"":"px"),i=(at.cssNumber[e]||"px"!==a&&+r)&&vn.exec(at.css(n.elem,e)),s=1,u=20;if(i&&i[3]!==a){a=a||i[3],o=o||[],i=+r||1;do s=s||".5",i/=s,at.style(n.elem,e,i+a);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return o&&(i=n.start=+i||+r||0,n.unit=a,n.end=o[1]?i+(o[1]+1)*o[2]:+o[2]),n}]};at.Animation=at.extend(H,{tweener:function(e,t){at.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,o=e.length;o>r;r++)n=e[r],kn[n]=kn[n]||[],kn[n].unshift(t)},prefilter:function(e,t){t?bn.unshift(e):bn.push(e)}}),at.speed=function(e,t,n){var r=e&&"object"==typeof e?at.extend({},e):{complete:n||!n&&t||at.isFunction(e)&&e,duration:e,easing:n&&t||t&&!at.isFunction(t)&&t};return r.duration=at.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in at.fx.speeds?at.fx.speeds[r.duration]:at.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){at.isFunction(r.old)&&r.old.call(this),r.queue&&at.dequeue(this,r.queue)},r},at.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ct).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=at.isEmptyObject(e),a=at.speed(t,n,r),i=function(){var t=H(this,at.extend({},e),a);(o||at._data(this,"finish"))&&t.stop(!0)};return i.finish=i,o||a.queue===!1?this.each(i):this.queue(a.queue,i)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",a=at.timers,i=at._data(this);if(o)i[o]&&i[o].stop&&r(i[o]);else for(o in i)i[o]&&i[o].stop&&yn.test(o)&&r(i[o]);for(o=a.length;o--;)a[o].elem!==this||null!=e&&a[o].queue!==e||(a[o].anim.stop(n),t=!1,a.splice(o,1));(t||!n)&&at.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=at._data(this),r=n[e+"queue"],o=n[e+"queueHooks"],a=at.timers,i=r?r.length:0;for(n.finish=!0,at.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;i>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),at.each(["toggle","show","hide"],function(e,t){var n=at.fn[t];at.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,r,o)}}),at.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){at.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),at.timers=[],at.fx.tick=function(){var e,t=at.timers,n=0;for(mn=at.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||at.fx.stop(),mn=void 0},at.fx.timer=function(e){at.timers.push(e),e()?at.fx.start():at.timers.pop()},at.fx.interval=13,at.fx.start=function(){gn||(gn=setInterval(at.fx.tick,at.fx.interval))
},at.fx.stop=function(){clearInterval(gn),gn=null},at.fx.speeds={slow:600,fast:200,_default:400},at.fn.delay=function(e,t){return e=at.fx?at.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,o=mt.createElement("div");o.setAttribute("className","t"),o.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=o.getElementsByTagName("a")[0],n=mt.createElement("select"),r=n.appendChild(mt.createElement("option")),t=o.getElementsByTagName("input")[0],e.style.cssText="top:1px",rt.getSetAttribute="t"!==o.className,rt.style=/top/.test(e.getAttribute("style")),rt.hrefNormalized="/a"===e.getAttribute("href"),rt.checkOn=!!t.value,rt.optSelected=r.selected,rt.enctype=!!mt.createElement("form").enctype,n.disabled=!0,rt.optDisabled=!r.disabled,t=mt.createElement("input"),t.setAttribute("value",""),rt.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),rt.radioValue="t"===t.value,e=t=n=r=o=null}();var wn=/\r/g;at.fn.extend({val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=at.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,at(this).val()):e,null==o?o="":"number"==typeof o?o+="":at.isArray(o)&&(o=at.map(o,function(e){return null==e?"":e+""})),t=at.valHooks[this.type]||at.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=at.valHooks[o.type]||at.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(wn,""):null==n?"":n)}}}),at.extend({valHooks:{option:{get:function(e){var t=at.find.attr(e,"value");return null!=t?t:at.text(e)}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,a="select-one"===e.type||0>o,i=a?null:[],s=a?o+1:r.length,u=0>o?s:a?o:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==o||(rt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&at.nodeName(n.parentNode,"optgroup"))){if(t=at(n).val(),a)return t;i.push(t)}return i},set:function(e,t){for(var n,r,o=e.options,a=at.makeArray(t),i=o.length;i--;)if(r=o[i],at.inArray(at.valHooks.option.get(r),a)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),o}}}}),at.each(["radio","checkbox"],function(){at.valHooks[this]={set:function(e,t){return at.isArray(t)?e.checked=at.inArray(at(e).val(),t)>=0:void 0}},rt.checkOn||(at.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Sn,Tn,Mn=at.expr.attrHandle,Ln=/^(?:checked|selected)$/i,Dn=rt.getSetAttribute,Pn=rt.input;at.fn.extend({attr:function(e,t){return Et(this,at.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){at.removeAttr(this,e)})}}),at.extend({attr:function(e,t,n){var r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===Tt?at.prop(e,t,n):(1===a&&at.isXMLDoc(e)||(t=t.toLowerCase(),r=at.attrHooks[t]||(at.expr.match.bool.test(t)?Tn:Sn)),void 0===n?r&&"get"in r&&null!==(o=r.get(e,t))?o:(o=at.find.attr(e,t),null==o?void 0:o):null!==n?r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void at.removeAttr(e,t))},removeAttr:function(e,t){var n,r,o=0,a=t&&t.match(bt);if(a&&1===e.nodeType)for(;n=a[o++];)r=at.propFix[n]||n,at.expr.match.bool.test(n)?Pn&&Dn||!Ln.test(n)?e[r]=!1:e[at.camelCase("default-"+n)]=e[r]=!1:at.attr(e,n,""),e.removeAttribute(Dn?n:r)},attrHooks:{type:{set:function(e,t){if(!rt.radioValue&&"radio"===t&&at.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tn={set:function(e,t,n){return t===!1?at.removeAttr(e,n):Pn&&Dn||!Ln.test(n)?e.setAttribute(!Dn&&at.propFix[n]||n,n):e[at.camelCase("default-"+n)]=e[n]=!0,n}},at.each(at.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Mn[t]||at.find.attr;Mn[t]=Pn&&Dn||!Ln.test(t)?function(e,t,r){var o,a;return r||(a=Mn[t],Mn[t]=o,o=null!=n(e,t,r)?t.toLowerCase():null,Mn[t]=a),o}:function(e,t,n){return n?void 0:e[at.camelCase("default-"+t)]?t.toLowerCase():null}}),Pn&&Dn||(at.attrHooks.value={set:function(e,t,n){return at.nodeName(e,"input")?void(e.defaultValue=t):Sn&&Sn.set(e,t,n)}}),Dn||(Sn={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Mn.id=Mn.name=Mn.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},at.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:Sn.set},at.attrHooks.contenteditable={set:function(e,t,n){Sn.set(e,""===t?!1:t,n)}},at.each(["width","height"],function(e,t){at.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),rt.style||(at.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Cn=/^(?:input|select|textarea|button|object)$/i,En=/^(?:a|area)$/i;at.fn.extend({prop:function(e,t){return Et(this,at.prop,e,t,arguments.length>1)},removeProp:function(e){return e=at.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),at.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,o,a,i=e.nodeType;if(e&&3!==i&&8!==i&&2!==i)return a=1!==i||!at.isXMLDoc(e),a&&(t=at.propFix[t]||t,o=at.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=at.find.attr(e,"tabindex");return t?parseInt(t,10):Cn.test(e.nodeName)||En.test(e.nodeName)&&e.href?0:-1}}}}),rt.hrefNormalized||at.each(["href","src"],function(e,t){at.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),rt.optSelected||(at.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),at.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){at.propFix[this.toLowerCase()]=this}),rt.enctype||(at.propFix.enctype="encoding");var xn=/[\t\r\n\f]/g;at.fn.extend({addClass:function(e){var t,n,r,o,a,i,s=0,u=this.length,c="string"==typeof e&&e;if(at.isFunction(e))return this.each(function(t){at(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(xn," "):" ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i=at.trim(r),n.className!==i&&(n.className=i)}return this},removeClass:function(e){var t,n,r,o,a,i,s=0,u=this.length,c=0===arguments.length||"string"==typeof e&&e;if(at.isFunction(e))return this.each(function(t){at(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(xn," "):"")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>=0;)r=r.replace(" "+o+" "," ");i=e?at.trim(r):"",n.className!==i&&(n.className=i)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(at.isFunction(e)?function(n){at(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,o=at(this),a=e.match(bt)||[];t=a[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===Tt||"boolean"===n)&&(this.className&&at._data(this,"__className__",this.className),this.className=this.className||e===!1?"":at._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(xn," ").indexOf(t)>=0)return!0;return!1}}),at.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){at.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),at.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var In=at.now(),An=/\?/,On=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;at.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,o=at.trim(t+"");return o&&!at.trim(o.replace(On,function(e,t,o,a){return n&&t&&(r=0),0===r?e:(n=o||t,r+=!a-!o,"")}))?Function("return "+o)():at.error("Invalid JSON: "+t)},at.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(o){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||at.error("Invalid XML: "+t),n};var Nn,Yn,Fn=/#.*$/,Hn=/([?&])_=[^&]*/,Vn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rn=/^(?:GET|HEAD)$/,Un=/^\/\//,jn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,zn={},$n={},qn="*/".concat("*");try{Yn=location.href}catch(Wn){Yn=mt.createElement("a"),Yn.href="",Yn=Yn.href}Nn=jn.exec(Yn.toLowerCase())||[],at.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Yn,type:"GET",isLocal:Bn.test(Nn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":at.parseJSON,"text xml":at.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,at.ajaxSettings),t):R(at.ajaxSettings,e)},ajaxPrefilter:V(zn),ajaxTransport:V($n),ajax:function(e,t){function n(e,t,n,r){var o,l,_,v,b,w=t;2!==y&&(y=2,s&&clearTimeout(s),c=void 0,i=r||"",k.readyState=e>0?4:0,o=e>=200&&300>e||304===e,n&&(v=U(d,k,n)),v=j(d,v,k,o),o?(d.ifModified&&(b=k.getResponseHeader("Last-Modified"),b&&(at.lastModified[a]=b),b=k.getResponseHeader("etag"),b&&(at.etag[a]=b)),204===e||"HEAD"===d.type?w="nocontent":304===e?w="notmodified":(w=v.state,l=v.data,_=v.error,o=!_)):(_=w,(e||!w)&&(w="error",0>e&&(e=0))),k.status=e,k.statusText=(t||w)+"",o?h.resolveWith(p,[l,w,k]):h.rejectWith(p,[k,w,_]),k.statusCode(g),g=void 0,u&&f.trigger(o?"ajaxSuccess":"ajaxError",[k,d,o?l:_]),m.fireWith(p,[k,w]),u&&(f.trigger("ajaxComplete",[k,d]),--at.active||at.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o,a,i,s,u,c,l,d=at.ajaxSetup({},t),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?at(p):at.event,h=at.Deferred(),m=at.Callbacks("once memory"),g=d.statusCode||{},_={},v={},y=0,b="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!l)for(l={};t=Vn.exec(i);)l[t[1].toLowerCase()]=t[2];t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=v[n]=v[n]||e,_[e]=t),this},overrideMimeType:function(e){return y||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||b;return c&&c.abort(t),n(0,t),this}};if(h.promise(k).complete=m.add,k.success=k.done,k.error=k.fail,d.url=((e||d.url||Yn)+"").replace(Fn,"").replace(Un,Nn[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=at.trim(d.dataType||"*").toLowerCase().match(bt)||[""],null==d.crossDomain&&(r=jn.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Nn[1]&&r[2]===Nn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Nn[3]||("http:"===Nn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=at.param(d.data,d.traditional)),B(zn,d,t,k),2===y)return k;u=d.global,u&&0===at.active++&&at.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Rn.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(An.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Hn.test(a)?a.replace(Hn,"$1_="+In++):a+(An.test(a)?"&":"?")+"_="+In++)),d.ifModified&&(at.lastModified[a]&&k.setRequestHeader("If-Modified-Since",at.lastModified[a]),at.etag[a]&&k.setRequestHeader("If-None-Match",at.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&k.setRequestHeader("Content-Type",d.contentType),k.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+qn+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)k.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(d.beforeSend.call(p,k,d)===!1||2===y))return k.abort();b="abort";for(o in{success:1,error:1,complete:1})k[o](d[o]);if(c=B($n,d,t,k)){k.readyState=1,u&&f.trigger("ajaxSend",[k,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){k.abort("timeout")},d.timeout));try{y=1,c.send(_,n)}catch(w){if(!(2>y))throw w;n(-1,w)}}else n(-1,"No Transport");return k},getJSON:function(e,t,n){return at.get(e,t,n,"json")},getScript:function(e,t){return at.get(e,void 0,t,"script")}}),at.each(["get","post"],function(e,t){at[t]=function(e,n,r,o){return at.isFunction(n)&&(o=o||r,r=n,n=void 0),at.ajax({url:e,type:t,dataType:o,data:n,success:r})}}),at.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){at.fn[t]=function(e){return this.on(t,e)}}),at._evalUrl=function(e){return at.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},at.fn.extend({wrapAll:function(e){if(at.isFunction(e))return this.each(function(t){at(this).wrapAll(e.call(this,t))});if(this[0]){var t=at(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(at.isFunction(e)?function(t){at(this).wrapInner(e.call(this,t))}:function(){var t=at(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=at.isFunction(e);return this.each(function(n){at(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){at.nodeName(this,"body")||at(this).replaceWith(this.childNodes)}).end()}}),at.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!rt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||at.css(e,"display"))},at.expr.filters.visible=function(e){return!at.expr.filters.hidden(e)};var Gn=/%20/g,Kn=/\[\]$/,Jn=/\r?\n/g,Qn=/^(?:submit|button|image|reset|file)$/i,Xn=/^(?:input|select|textarea|keygen)/i;at.param=function(e,t){var n,r=[],o=function(e,t){t=at.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=at.ajaxSettings&&at.ajaxSettings.traditional),at.isArray(e)||e.jquery&&!at.isPlainObject(e))at.each(e,function(){o(this.name,this.value)});else for(n in e)z(n,e[n],t,o);return r.join("&").replace(Gn,"+")},at.fn.extend({serialize:function(){return at.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=at.prop(this,"elements");return e?at.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!at(this).is(":disabled")&&Xn.test(this.nodeName)&&!Qn.test(e)&&(this.checked||!xt.test(e))}).map(function(e,t){var n=at(this).val();return null==n?null:at.isArray(n)?at.map(n,function(e){return{name:t.name,value:e.replace(Jn,"\r\n")}}):{name:t.name,value:n.replace(Jn,"\r\n")}}).get()}}),at.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&$()||q()}:$;var Zn=0,er={},tr=at.ajaxSettings.xhr();e.ActiveXObject&&at(e).on("unload",function(){for(var e in er)er[e](void 0,!0)}),rt.cors=!!tr&&"withCredentials"in tr,tr=rt.ajax=!!tr,tr&&at.ajaxTransport(function(e){if(!e.crossDomain||rt.cors){var t;return{send:function(n,r){var o,a=e.xhr(),i=++Zn;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&a.setRequestHeader(o,n[o]+"");a.send(e.hasContent&&e.data||null),t=function(n,o){var s,u,c;if(t&&(o||4===a.readyState))if(delete er[i],t=void 0,a.onreadystatechange=at.noop,o)4!==a.readyState&&a.abort();else{c={},s=a.status,"string"==typeof a.responseText&&(c.text=a.responseText);try{u=a.statusText}catch(l){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&r(s,u,c,a.getAllResponseHeaders())},e.async?4===a.readyState?setTimeout(t):a.onreadystatechange=er[i]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),at.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return at.globalEval(e),e}}}),at.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),at.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=mt.head||at("head")[0]||mt.documentElement;return{send:function(r,o){t=mt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var nr=[],rr=/(=)\?(?=&|$)|\?\?/;at.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=nr.pop()||at.expando+"_"+In++;return this[e]=!0,e}}),at.ajaxPrefilter("json jsonp",function(t,n,r){var o,a,i,s=t.jsonp!==!1&&(rr.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&rr.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=at.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(rr,"$1"+o):t.jsonp!==!1&&(t.url+=(An.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return i||at.error(o+" was not called"),i[0]},t.dataTypes[0]="json",a=e[o],e[o]=function(){i=arguments},r.always(function(){e[o]=a,t[o]&&(t.jsonpCallback=n.jsonpCallback,nr.push(o)),i&&at.isFunction(a)&&a(i[0]),i=a=void 0}),"script"):void 0}),at.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||mt;var r=pt.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=at.buildFragment([e],t,o),o&&o.length&&at(o).remove(),at.merge([],r.childNodes))};var or=at.fn.load;at.fn.load=function(e,t,n){if("string"!=typeof e&&or)return or.apply(this,arguments);var r,o,a,i=this,s=e.indexOf(" ");return s>=0&&(r=e.slice(s,e.length),e=e.slice(0,s)),at.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),i.length>0&&at.ajax({url:e,type:a,dataType:"html",data:t}).done(function(e){o=arguments,i.html(r?at("<div>").append(at.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){i.each(n,o||[e.responseText,t,e])}),this},at.expr.filters.animated=function(e){return at.grep(at.timers,function(t){return e===t.elem}).length};var ar=e.document.documentElement;at.offset={setOffset:function(e,t,n){var r,o,a,i,s,u,c,l=at.css(e,"position"),d=at(e),p={};"static"===l&&(e.style.position="relative"),s=d.offset(),a=at.css(e,"top"),u=at.css(e,"left"),c=("absolute"===l||"fixed"===l)&&at.inArray("auto",[a,u])>-1,c?(r=d.position(),i=r.top,o=r.left):(i=parseFloat(a)||0,o=parseFloat(u)||0),at.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+i),null!=t.left&&(p.left=t.left-s.left+o),"using"in t?t.using.call(e,p):d.css(p)}},at.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){at.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return t=a.documentElement,at.contains(t,o)?(typeof o.getBoundingClientRect!==Tt&&(r=o.getBoundingClientRect()),n=W(a),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===at.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),at.nodeName(e[0],"html")||(n=e.offset()),n.top+=at.css(e[0],"borderTopWidth",!0),n.left+=at.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-at.css(r,"marginTop",!0),left:t.left-n.left-at.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ar;e&&!at.nodeName(e,"html")&&"static"===at.css(e,"position");)e=e.offsetParent;return e||ar})}}),at.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);at.fn[e]=function(r){return Et(this,function(e,r,o){var a=W(e);return void 0===o?a?t in a?a[t]:a.document.documentElement[r]:e[r]:void(a?a.scrollTo(n?at(a).scrollLeft():o,n?o:at(a).scrollTop()):e[r]=o)},e,r,arguments.length,null)}}),at.each(["top","left"],function(e,t){at.cssHooks[t]=L(rt.pixelPosition,function(e,n){return n?(n=nn(e,t),on.test(n)?at(e).position()[t]+"px":n):void 0})}),at.each({Height:"height",Width:"width"},function(e,t){at.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){at.fn[r]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),i=n||(r===!0||o===!0?"margin":"border");return Et(this,function(t,n,r){var o;return at.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?at.css(t,n,i):at.style(t,n,r,i)},t,a?r:void 0,a,null)}})}),at.fn.size=function(){return this.length},at.fn.andSelf=at.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return at});var ir=e.jQuery,sr=e.$;return at.noConflict=function(t){return e.$===at&&(e.$=sr),t&&e.jQuery===at&&(e.jQuery=ir),at},typeof t===Tt&&(e.jQuery=e.$=at),at})}).call(this),function(){e=t=window.jQuery.noConflict()}.call(this),"undefined"==typeof Package&&(Package={}),Package.jquery={$:e,jQuery:t}}(),function(){var Meteor=Package.meteor.Meteor,JSON;(function(){window.JSON&&(JSON=window.JSON)}).call(this),function(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,o,a,i,s=gap,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(u)){for(a=u.length,n=0;a>n;n+=1)i[n]=str(n,u)||"null";return o=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+s+"]":"["+i.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(a=rep.length,n=0;a>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,u),o&&i.push(quote(r)+(gap?": ":":")+o));else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(o=str(r,u),o&&i.push(quote(r)+(gap?": ":":")+o));return o=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+s+"}":"{"+i.join(",")+"}",gap=s,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}.call(this),"undefined"==typeof Package&&(Package={}),Package.json={JSON:JSON}}(),function(){var e=(Package.meteor.Meteor,Package.jquery.$,Package.jquery.jQuery,Package.json.JSON),t=Package.underscore._;(function(){(function(){var n,r=this,o=r.Backbone,a=Array.prototype.slice,i=Array.prototype.splice;n="undefined"!=typeof exports?exports:r.Backbone={},n.VERSION="0.9.2";var s=r.jQuery||r.Zepto||r.ender;n.setDomLibrary=function(e){s=e},n.noConflict=function(){return r.Backbone=o,this},n.emulateHTTP=!1,n.emulateJSON=!1;var u=/\s+/,c=n.Events={on:function(e,t,n){var r,o,a,i,s;if(!t)return this;for(e=e.split(u),r=this._callbacks||(this._callbacks={});o=e.shift();)s=r[o],a=s?s.tail:{},a.next=i={},a.context=n,a.callback=t,r[o]={tail:i,next:s?s.next:a};return this},off:function(e,n,r){var o,a,i,s,c,l;if(a=this._callbacks){if(!(e||n||r))return delete this._callbacks,this;for(e=e?e.split(u):t.keys(a);o=e.shift();)if(i=a[o],delete a[o],i&&(n||r))for(s=i.tail;(i=i.next)!==s;)c=i.callback,l=i.context,(n&&c!==n||r&&l!==r)&&this.on(o,c,l);return this}},trigger:function(e){var t,n,r,o,i,s,c;if(!(r=this._callbacks))return this;for(s=r.all,e=e.split(u),c=a.call(arguments,1);t=e.shift();){if(n=r[t])for(o=n.tail;(n=n.next)!==o;)n.callback.apply(n.context||this,c);if(n=s)for(o=n.tail,i=[t].concat(c);(n=n.next)!==o;)n.callback.apply(n.context||this,i)}return this}};c.bind=c.on,c.unbind=c.off;var l=n.Model=function(e,n){var r;e||(e={}),n&&n.parse&&(e=this.parse(e)),(r=D(this,"defaults"))&&(e=t.extend({},r,e)),n&&n.collection&&(this.collection=n.collection),this.attributes={},this._escapedAttributes={},this.cid=t.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=t.clone(this.attributes),this.initialize.apply(this,arguments)};t.extend(l.prototype,c,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(){return t.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var n;if(n=this._escapedAttributes[e])return n;var r=this.get(e);return this._escapedAttributes[e]=t.escape(null==r?"":""+r)},has:function(e){return null!=this.get(e)},set:function(e,n,r){var o,a,i;if(t.isObject(e)||null==e?(o=e,r=n):(o={},o[e]=n),r||(r={}),!o)return this;if(o instanceof l&&(o=o.attributes),r.unset)for(a in o)o[a]=void 0;if(!this._validate(o,r))return!1;this.idAttribute in o&&(this.id=o[this.idAttribute]);var s=r.changes={},u=this.attributes,c=this._escapedAttributes,d=this._previousAttributes||{};for(a in o)i=o[a],(!t.isEqual(u[a],i)||r.unset&&t.has(u,a))&&(delete c[a],(r.silent?this._silent:s)[a]=!0),r.unset?delete u[a]:u[a]=i,t.isEqual(d[a],i)&&t.has(u,a)==t.has(d,a)?(delete this.changed[a],delete this._pending[a]):(this.changed[a]=i,r.silent||(this._pending[a]=!0));return r.silent||this.change(r),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(t.clone(this.attributes),e)},fetch:function(e){e=e?t.clone(e):{};var r=this,o=e.success;return e.success=function(t,n,a){return r.set(r.parse(t,a),e)?void(o&&o(r,t)):!1},e.error=n.wrapError(e.error,r,e),(this.sync||n.sync).call(this,"read",this,e)},save:function(e,r,o){var a,i;if(t.isObject(e)||null==e?(a=e,o=r):(a={},a[e]=r),o=o?t.clone(o):{},o.wait){if(!this._validate(a,o))return!1;i=t.clone(this.attributes)}var s=t.extend({},o,{silent:!0});if(a&&!this.set(a,o.wait?s:o))return!1;var u=this,c=o.success;o.success=function(e,n,r){var i=u.parse(e,r);return o.wait&&(delete o.wait,i=t.extend(a||{},i)),u.set(i,o)?void(c?c(u,e):u.trigger("sync",u,e,o)):!1},o.error=n.wrapError(o.error,u,o);var l=this.isNew()?"create":"update",d=(this.sync||n.sync).call(this,l,this,o);return o.wait&&this.set(i,s),d},destroy:function(e){e=e?t.clone(e):{};var r=this,o=e.success,a=function(){r.trigger("destroy",r,r.collection,e)};if(this.isNew())return a(),!1;e.success=function(t){e.wait&&a(),o?o(r,t):r.trigger("sync",r,t,e)},e.error=n.wrapError(e.error,r,e);var i=(this.sync||n.sync).call(this,"delete",this,e);return e.wait||a(),i},url:function(){var e=D(this,"urlRoot")||D(this.collection,"url")||P();return this.isNew()?e:e+("/"==e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(e){e||(e={});var n=this._changing;this._changing=!0;for(var r in this._silent)this._pending[r]=!0;var o=t.extend({},e.changes,this._silent);this._silent={};for(var r in o)this.trigger("change:"+r,this,this.get(r),e);if(n)return this;for(;!t.isEmpty(this._pending);){this._pending={},this.trigger("change",this,e);for(var r in this.changed)this._pending[r]||this._silent[r]||delete this.changed[r];this._previousAttributes=t.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?t.has(this.changed,e):!t.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?t.clone(this.changed):!1;var n,r=!1,o=this._previousAttributes;for(var a in e)t.isEqual(o[a],n=e[a])||((r||(r={}))[a]=n);return r},previous:function(e){return arguments.length&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return t.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,n){if(n.silent||!this.validate)return!0;e=t.extend({},this.attributes,e);var r=this.validate(e,n);return r?(n&&n.error?n.error(this,r,n):this.trigger("error",this,r,n),!1):!0}});var d=n.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};t.extend(d.prototype,c,{model:l,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,n){var r,o,a,s,u,c,l={},d={},p=[];for(n||(n={}),e=t.isArray(e)?e.slice():[e],r=0,a=e.length;a>r;r++){if(!(s=e[r]=this._prepareModel(e[r],n)))throw new Error("Can't add an invalid model to a collection");
u=s.cid,c=s.id,l[u]||this._byCid[u]||null!=c&&(d[c]||this._byId[c])?p.push(r):l[u]=d[c]=s}for(r=p.length;r--;)e.splice(p[r],1);for(r=0,a=e.length;a>r;r++)(s=e[r]).on("all",this._onModelEvent,this),this._byCid[s.cid]=s,null!=s.id&&(this._byId[s.id]=s);if(this.length+=a,o=null!=n.at?n.at:this.models.length,i.apply(this.models,[o,0].concat(e)),this.comparator&&this.sort({silent:!0}),n.silent)return this;for(r=0,a=this.models.length;a>r;r++)l[(s=this.models[r]).cid]&&(n.index=r,s.trigger("add",s,this,n));return this},remove:function(e,n){var r,o,a,i;for(n||(n={}),e=t.isArray(e)?e.slice():[e],r=0,o=e.length;o>r;r++)i=this.getByCid(e[r])||this.get(e[r]),i&&(delete this._byId[i.id],delete this._byCid[i.cid],a=this.indexOf(i),this.models.splice(a,1),this.length--,n.silent||(n.index=a,i.trigger("remove",i,this,n)),this._removeReference(i));return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,n){return e=this._prepareModel(e,n),this.add(e,t.extend({at:0},n)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return t.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){if(e||(e={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");var n=t.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(n):this.models.sort(n),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return t.map(this.models,function(t){return t.get(e)})},reset:function(e,n){e||(e=[]),n||(n={});for(var r=0,o=this.models.length;o>r;r++)this._removeReference(this.models[r]);return this._reset(),this.add(e,t.extend({silent:!0},n)),n.silent||this.trigger("reset",this,n),this},fetch:function(e){e=e?t.clone(e):{},void 0===e.parse&&(e.parse=!0);var r=this,o=e.success;return e.success=function(t,n,a){r[e.add?"add":"reset"](r.parse(t,a),e),o&&o(r,t)},e.error=n.wrapError(e.error,r,e),(this.sync||n.sync).call(this,"read",this,e)},create:function(e,n){var r=this;if(n=n?t.clone(n):{},e=this._prepareModel(e,n),!e)return!1;n.wait||r.add(e,n);var o=n.success;return n.success=function(t,a){n.wait&&r.add(t,n),o?o(t,a):t.trigger("sync",e,a,n)},e.save(null,n),e},parse:function(e){return e},chain:function(){return t(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){if(t||(t={}),e instanceof l)e.collection||(e.collection=this);else{var n=e;t.collection=this,e=new this.model(n,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!=e&&"remove"!=e||n==this)&&("destroy"==e&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments))}});var p=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];t.each(p,function(e){d.prototype[e]=function(){return t[e].apply(t,[this.models].concat(t.toArray(arguments)))}});var f=n.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},h=/:\w+/g,m=/\*\w+/g,g=/[-[\]{}()+?.,\\^$|#\s]/g;t.extend(f.prototype,c,{initialize:function(){},route:function(e,r,o){return n.history||(n.history=new _),t.isRegExp(e)||(e=this._routeToRegExp(e)),o||(o=this[r]),n.history.route(e,t.bind(function(t){var a=this._extractParameters(e,t);o&&o.apply(this,a),this.trigger.apply(this,["route:"+r].concat(a)),n.history.trigger("route",this,r,a)},this)),this},navigate:function(e,t){n.history.navigate(e,t)},_bindRoutes:function(){if(this.routes){var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var n=0,r=e.length;r>n;n++)this.route(e[n][0],e[n][1],this[e[n][1]])}},_routeToRegExp:function(e){return e=e.replace(g,"\\$&").replace(h,"([^/]+)").replace(m,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var _=n.History=function(){this.handlers=[],t.bindAll(this,"checkUrl")},v=/^[#\/]/,y=/msie [\w.]+/;_.started=!1,t.extend(_.prototype,c,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||t){e=window.location.pathname;var n=window.location.search;n&&(e+=n)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(v,"")},start:function(e){if(_.started)throw new Error("Backbone.history has already been started");if("undefined"==typeof window)throw new Error("Backbone.History is client-only, can't start on the server");_.started=!0,this.options=t.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var n=this.getFragment(),r=document.documentMode,o=y.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);o&&(this.iframe=s('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?s(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?s(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var a=window.location,i=a.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!i?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&i&&a.hash&&(this.fragment=this.getHash().replace(v,""),window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){s(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),_.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e==this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e==this.fragment?!1:(this.iframe&&this.navigate(e),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(e){var n=this.fragment=this.getFragment(e),r=t.any(this.handlers,function(e){return e.route.test(n)?(e.callback(n),!0):void 0});return r},navigate:function(e,t){if(!_.started)return!1;t&&t!==!0||(t={trigger:t});var n=(e||"").replace(v,"");this.fragment!=n&&(this._hasPushState?(0!=n.indexOf(this.options.root)&&(n=this.options.root+n),this.fragment=n,window.history[t.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,t.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e))},_updateHash:function(e,t,n){n?e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var b=n.View=function(e){this.cid=t.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},k=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName"];t.extend(b.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,n){var r=document.createElement(e);return t&&s(r).attr(t),n&&s(r).html(n),r},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof s?e:s(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(e||(e=D(this,"events"))){this.undelegateEvents();for(var n in e){var r=e[n];if(t.isFunction(r)||(r=this[e[n]]),!r)throw new Error('Method "'+e[n]+'" does not exist');var o=n.match(k),a=o[1],i=o[2];r=t.bind(r,this),a+=".delegateEvents"+this.cid,""===i?this.$el.bind(a,r):this.$el.delegate(i,a,r)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=t.extend({},this.options,e));for(var n=0,r=w.length;r>n;n++){var o=w[n];e[o]&&(this[o]=e[o])}this.options=e},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var e=D(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}}});var S=function(e,t){var n=L(this,e,t);return n.extend=this.extend,n};l.extend=d.extend=f.extend=b.extend=S;var T={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};n.sync=function(r,o,a){var i=T[r];a||(a={});var u={type:i,dataType:"json"};return a.url||(u.url=D(o,"url")||P()),a.data||!o||"create"!=r&&"update"!=r||(u.contentType="application/json",u.data=e.stringify(o.toJSON())),n.emulateJSON&&(u.contentType="application/x-www-form-urlencoded",u.data=u.data?{model:u.data}:{}),n.emulateHTTP&&("PUT"===i||"DELETE"===i)&&(n.emulateJSON&&(u.data._method=i),u.type="POST",u.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",i)}),"GET"===u.type||n.emulateJSON||(u.processData=!1),s.ajax(t.extend(u,a))},n.wrapError=function(e,t,n){return function(r,o){o=r===t?o:r,e?e(t,o,n):t.trigger("error",t,o,n)}};var M=function(){},L=function(e,n,r){var o;return o=n&&n.hasOwnProperty("constructor")?n.constructor:function(){e.apply(this,arguments)},t.extend(o,e),M.prototype=e.prototype,o.prototype=new M,n&&t.extend(o.prototype,n),r&&t.extend(o,r),o.prototype.constructor=o,o.__super__=e.prototype,o},D=function(e,n){return e&&e[n]?t.isFunction(e[n])?e[n]():e[n]:null},P=function(){throw new Error('A "url" property or function must be specified')}}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package.backbone={}}(),function(){{var e,t=Package.meteor.Meteor;Package.underscore._}(function(){if(t.isServer)var n=Npm.require("crypto");var r=function(){function e(){var e=4022871197,t=function(t){t=t.toString();for(var n=0;n<t.length;n++){e+=t.charCodeAt(n);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 2.3283064365386963e-10*(e>>>0)};return t.version="Mash 0.9",t}return function(t){var n=0,r=0,o=0,a=1;0==t.length&&(t=[+new Date]);var i=e();n=i(" "),r=i(" "),o=i(" ");for(var s=0;s<t.length;s++)n-=i(t[s]),0>n&&(n+=1),r-=i(t[s]),0>r&&(r+=1),o-=i(t[s]),0>o&&(o+=1);i=null;var u=function(){var e=2091639*n+2.3283064365386963e-10*a;return n=r,r=o,o=e-(a=0|e)};return u.uint32=function(){return 4294967296*u()},u.fract53=function(){return u()+1.1102230246251565e-16*(2097152*u()|0)},u.version="Alea 0.9",u.args=t,u}(Array.prototype.slice.call(arguments))},o="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",i=function(e){var t=this;void 0!==e&&(t.alea=r.apply(null,e))};i.prototype.fraction=function(){var e=this;if(e.alea)return e.alea();if(n){var t=parseInt(e.hexString(8),16);return 2.3283064365386963e-10*t}if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var r=new Uint32Array(1);return window.crypto.getRandomValues(r),2.3283064365386963e-10*r[0]}throw new Error("No random generator available")},i.prototype.hexString=function(e){var t=this;if(n&&!t.alea){var r,o=Math.ceil(e/2);try{r=n.randomBytes(o)}catch(a){r=n.pseudoRandomBytes(o)}var i=r.toString("hex");return i.substring(0,e)}for(var s=[],u=0;e>u;++u)s.push(t.choice("0123456789abcdef"));return s.join("")},i.prototype._randomString=function(e,t){for(var n=this,r=[],o=0;e>o;o++)r[o]=n.choice(t);return r.join("")},i.prototype.id=function(e){var t=this;return void 0===e&&(e=17),t._randomString(e,o)},i.prototype.secret=function(e){var t=this;return void 0===e&&(e=43),t._randomString(e,a)},i.prototype.choice=function(e){var t=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(t,1):e[t]};var s="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,u="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,c="undefined"!=typeof navigator&&navigator.userAgent||"";e=n||"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new i:new i([new Date,s,u,c,Math.random()]),e.createWithSeeds=function(){if(0===arguments.length)throw new Error("No seeds were provided");return new i(arguments)}}).call(this),function(){t.uuid=function(){for(var t="0123456789abcdef",n=[],r=0;36>r;r++)n[r]=e.choice(t);n[14]="4",n[19]=t.substr(3&parseInt(n[19],16)|8,1),n[8]=n[13]=n[18]=n[23]="-";var o=n.join("");return o}}.call(this),"undefined"==typeof Package&&(Package={}),Package.random={Random:e}}(),function(){var e=Package.meteor.Meteor,t=Package.random.Random;(function(){var n,r="_localstorage_test_"+t.id();try{window.localStorage&&(window.localStorage.setItem(r,r),n=window.localStorage.getItem(r),window.localStorage.removeItem(r))}catch(o){}r===n&&(e._localStorage={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){window.localStorage.setItem(e,t)},removeItem:function(e){window.localStorage.removeItem(e)}}),e._localStorage||(e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage={_data:{},setItem:function(e,t){this._data[e]=t},removeItem:function(e){delete this._data[e]},getItem:function(e){var t=this._data[e];return void 0===t?null:t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.localstorage={}}(),function(){var e,t=Package.meteor.Meteor;(function(){e={},e.active=!1,e.currentComputation=null;var n=function(t){e.currentComputation=t,e.active=!!t},r=function(){return"undefined"!=typeof t?t._debug:"undefined"!=typeof console&&console.log?function(){console.log.apply(console,arguments)}:function(){}},o=function(e,t){if(d)throw t;r()("Exception from Deps "+e+" function:",t.stack||t.message)},a=function(e){return"undefined"==typeof t||t.isClient?e:function(){var n=arguments;t._noYieldsAllowed(function(){e.apply(null,n)})}},i=1,s=[],u=!1,c=!1,l=!1,d=!1,p=[],f=function(){u||(setTimeout(e.flush,0),u=!0)},h=!1;e.Computation=function(e,t){if(!h)throw new Error("Deps.Computation constructor is private; use Deps.autorun");h=!1;var n=this;n.stopped=!1,n.invalidated=!1,n.firstRun=!0,n._id=i++,n._onInvalidateCallbacks=[],n._parent=t,n._func=e,n._recomputing=!1;var r=!0;try{n._compute(),r=!1}finally{n.firstRun=!1,r&&n.stop()}},e.Computation.prototype.onInvalidate=function(t){var n=this;if("function"!=typeof t)throw new Error("onInvalidate requires a function");n.invalidated?e.nonreactive(function(){a(t)(n)}):n._onInvalidateCallbacks.push(t)},e.Computation.prototype.invalidate=function(){var t=this;if(!t.invalidated){t._recomputing||t.stopped||(f(),s.push(this)),t.invalidated=!0;for(var n,r=0;n=t._onInvalidateCallbacks[r];r++)e.nonreactive(function(){a(n)(t)});t._onInvalidateCallbacks=[]}},e.Computation.prototype.stop=function(){this.stopped||(this.stopped=!0,this.invalidate())},e.Computation.prototype._compute=function(){var t=this;t.invalidated=!1;var r=e.currentComputation;n(t);l=!0;try{a(t._func)(t)}finally{n(r),l=!1}},e.Computation.prototype._recompute=function(){var e=this;e._recomputing=!0;try{for(;e.invalidated&&!e.stopped;)try{e._compute()}catch(t){o("recompute",t)}}finally{e._recomputing=!1}},e.Dependency=function(){this._dependentsById={}},e.Dependency.prototype.depend=function(t){if(!t){if(!e.active)return!1;t=e.currentComputation}var n=this,r=t._id;return r in n._dependentsById?!1:(n._dependentsById[r]=t,t.onInvalidate(function(){delete n._dependentsById[r]}),!0)},e.Dependency.prototype.changed=function(){var e=this;for(var t in e._dependentsById)e._dependentsById[t].invalidate()},e.Dependency.prototype.hasDependents=function(){var e=this;for(var t in e._dependentsById)return!0;return!1},e.flush=function(t){if(c)throw new Error("Can't call Deps.flush while flushing");if(l)throw new Error("Can't flush inside Deps.autorun");c=!0,u=!0,d=!(!t||!t._throwFirstError);var n=!1;try{for(;s.length||p.length;){for(;s.length;){var r=s.shift();r._recompute()}if(p.length){var a=p.shift();try{a()}catch(i){o("afterFlush function",i)}}}n=!0}finally{n||(c=!1,e.flush({_throwFirstError:!1})),u=!1,c=!1}},e.autorun=function(t){if("function"!=typeof t)throw new Error("Deps.autorun requires a function argument");h=!0;var n=new e.Computation(t,e.currentComputation);return e.active&&e.onInvalidate(function(){n.stop()}),n},e.nonreactive=function(t){var r=e.currentComputation;n(null);try{return t()}finally{n(r)}},e.onInvalidate=function(t){if(!e.active)throw new Error("Deps.onInvalidate requires a currentComputation");e.currentComputation.onInvalidate(t)},e.afterFlush=function(e){p.push(e),f()}}).call(this),function(){t.flush=e.flush,t.autorun=e.autorun,t.autosubscribe=e.autorun,e.depend=function(e){return e.depend()}}.call(this),"undefined"==typeof Package&&(Package={}),Package.deps={Deps:e}}(),function(){var e,t,n,r,o=Package.meteor.Meteor,a=Package.json.JSON,i=Package.underscore._;(function(){e={},t={};var s={};e.addType=function(e,t){if(i.has(s,e))throw new Error("Type "+e+" already present");s[e]=t};var u=function(e){return i.isNaN(e)||1/0===e||e===-1/0},c=[{matchJSONValue:function(e){return i.has(e,"$date")&&1===i.size(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return i.has(e,"$InfNaN")&&1===i.size(e)},matchObject:u,toJSONValue:function(e){var t;return t=i.isNaN(e)?0:1/0===e?1:-1,{$InfNaN:t}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return i.has(e,"$binary")&&1===i.size(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&i.has(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:n(e)}},fromJSONValue:function(e){return r(e.$binary)}},{matchJSONValue:function(e){return i.has(e,"$escape")&&1===i.size(e)},matchObject:function(e){return i.isEmpty(e)||i.size(e)>2?!1:i.any(c,function(t){return t.matchJSONValue(e)})},toJSONValue:function(t){var n={};return i.each(t,function(t,r){n[r]=e.toJSONValue(t)}),{$escape:n}},fromJSONValue:function(t){var n={};return i.each(t.$escape,function(t,r){n[r]=e.fromJSONValue(t)}),n}},{matchJSONValue:function(e){return i.has(e,"$type")&&i.has(e,"$value")&&2===i.size(e)},matchObject:function(t){return e._isCustomType(t)},toJSONValue:function(e){var t=o._noYieldsAllowed(function(){return e.toJSONValue()});return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var t=e.$type;if(!i.has(s,t))throw new Error("Custom EJSON type "+t+" is not defined");var n=s[t];return o._noYieldsAllowed(function(){return n(e.$value)})}}];e._isCustomType=function(e){return e&&"function"==typeof e.toJSONValue&&"function"==typeof e.typeName&&i.has(s,e.typeName())};var l=e._adjustTypesToJSONValue=function(e){if(null===e)return null;var t=d(e);return void 0!==t?t:"object"!=typeof e?e:(i.each(e,function(t,n){if("object"==typeof t||void 0===t||u(t)){var r=d(t);return r?void(e[n]=r):void l(t)}}),e)},d=function(e){for(var t=0;t<c.length;t++){var n=c[t];if(n.matchObject(e))return n.toJSONValue(e)}return void 0};e.toJSONValue=function(t){var n=d(t);return void 0!==n?n:("object"==typeof t&&(t=e.clone(t),l(t)),t)};var p=e._adjustTypesFromJSONValue=function(e){if(null===e)return null;var t=f(e);return t!==e?t:"object"!=typeof e?e:(i.each(e,function(t,n){if("object"==typeof t){var r=f(t);if(t!==r)return void(e[n]=r);p(t)}}),e)},f=function(e){if("object"==typeof e&&null!==e&&i.size(e)<=2&&i.all(e,function(e,t){return"string"==typeof t&&"$"===t.substr(0,1)}))for(var t=0;t<c.length;t++){var n=c[t];if(n.matchJSONValue(e))return n.fromJSONValue(e)}return e};e.fromJSONValue=function(t){var n=f(t);return n===t&&"object"==typeof t?(t=e.clone(t),p(t),t):n},e.stringify=function(t,n){var r=e.toJSONValue(t);return n&&(n.canonical||n.indent)?e._canonicalStringify(r,n):a.stringify(r)},e.parse=function(t){if("string"!=typeof t)throw new Error("EJSON.parse argument should be a string");return e.fromJSONValue(a.parse(t))},e.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},e.equals=function(t,n,r){var o,a=!(!r||!r.keyOrderSensitive);if(t===n)return!0;if(i.isNaN(t)&&i.isNaN(n))return!0;if(!t||!n)return!1;if("object"!=typeof t||"object"!=typeof n)return!1;if(t instanceof Date&&n instanceof Date)return t.valueOf()===n.valueOf();if(e.isBinary(t)&&e.isBinary(n)){if(t.length!==n.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==n[o])return!1;return!0}if("function"==typeof t.equals)return t.equals(n,r);if("function"==typeof n.equals)return n.equals(t,r);if(t instanceof Array){if(!(n instanceof Array))return!1;if(t.length!==n.length)return!1;for(o=0;o<t.length;o++)if(!e.equals(t[o],n[o],r))return!1;return!0}switch(e._isCustomType(t)+e._isCustomType(n)){case 1:return!1;case 2:return e.equals(e.toJSONValue(t),e.toJSONValue(n))}var s;if(a){var u=[];return i.each(n,function(e,t){u.push(t)}),o=0,s=i.all(t,function(t,a){return o>=u.length?!1:a!==u[o]?!1:e.equals(t,n[u[o]],r)?(o++,!0):!1}),s&&o===u.length}return o=0,s=i.all(t,function(t,a){return i.has(n,a)&&e.equals(t,n[a],r)?(o++,!0):!1}),s&&i.size(n)===o},e.clone=function(t){var n;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return t;if(e.isBinary(t)){n=e.newBinary(t.length);for(var r=0;r<t.length;r++)n[r]=t[r];return n}if(i.isArray(t)||i.isArguments(t)){for(n=[],r=0;r<t.length;r++)n[r]=e.clone(t[r]);return n}return"function"==typeof t.clone?t.clone():e._isCustomType(t)?e.fromJSONValue(e.clone(e.toJSONValue(t)),!0):(n={},i.each(t,function(t,r){n[r]=e.clone(t)}),n)}}).call(this),function(){function t(e){return a.stringify(e)}var n=function(e,r,o,a,s){var u,c,l,d,p=a,f=r[e];switch(typeof f){case"string":return t(f);case"number":return isFinite(f)?String(f):"null";case"boolean":return String(f);case"object":if(!f)return"null";if(p=a+o,d=[],i.isArray(f)||i.isArguments(f)){for(l=f.length,u=0;l>u;u+=1)d[u]=n(u,f,o,p,s)||"null";return c=0===d.length?"[]":p?"[\n"+p+d.join(",\n"+p)+"\n"+a+"]":"["+d.join(",")+"]"}var h=i.keys(f);return s&&(h=h.sort()),i.each(h,function(e){c=n(e,f,o,p,s),c&&d.push(t(e)+(p?": ":":")+c)}),c=0===d.length?"{}":p?"{\n"+p+d.join(",\n"+p)+"\n"+a+"}":"{"+d.join(",")+"}"}};e._canonicalStringify=function(e,t){if(t=i.extend({indent:"",canonical:!1},t),t.indent===!0)t.indent="  ";else if("number"==typeof t.indent){for(var r="",o=0;o<t.indent;o++)r+=" ";t.indent=r}return n("",{"":e},t.indent,"",t.canonical)}}.call(this),function(){for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={},i=0;i<o.length;i++)a[o.charAt(i)]=i;n=function(e){for(var t=[],n=null,r=null,o=null,a=null,i=0;i<e.length;i++)switch(i%3){case 0:n=e[i]>>2&63,r=(3&e[i])<<4;break;case 1:r|=e[i]>>4&15,o=(15&e[i])<<2;break;case 2:o|=e[i]>>6&3,a=63&e[i],t.push(s(n)),t.push(s(r)),t.push(s(o)),t.push(s(a)),n=null,r=null,o=null,a=null}return null!=n&&(t.push(s(n)),t.push(s(r)),t.push(null==o?"=":s(o)),null==a&&t.push("=")),t.join("")};var s=function(e){return o.charAt(e)},u=function(e){return"="===e?-1:a[e]};e.newBinary=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],n=0;e>n;n++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},r=function(t){var n=Math.floor(3*t.length/4);"="==t.charAt(t.length-1)&&(n--,"="==t.charAt(t.length-2)&&n--);for(var r=e.newBinary(n),o=null,a=null,i=null,s=0,c=0;c<t.length;c++){var l=t.charAt(c),d=u(l);switch(c%4){case 0:if(0>d)throw new Error("invalid base64 string");o=d<<2;break;case 1:if(0>d)throw new Error("invalid base64 string");o|=d>>4,r[s++]=o,a=(15&d)<<4;break;case 2:d>=0&&(a|=d>>2,r[s++]=a,i=(3&d)<<6);break;case 3:d>=0&&(r[s++]=i|d)}}return r},t.base64Encode=n,t.base64Decode=r}.call(this),"undefined"==typeof Package&&(Package={}),Package.ejson={EJSON:e,EJSONTest:t}}(),function(){var e,t,n=Package.meteor.Meteor,r=Package.underscore._,o=Package.ejson.EJSON;(function(){var a=new n.EnvironmentVariable;e=function(e,n){var r=a.getOrNullIfOutsideFiber();r&&r.checking(e);try{d(e,n)}catch(o){throw o instanceof t.Error&&o.path&&(o.message+=" in field "+o.path),o}},t={Optional:function(e){return new i(e)},OneOf:function(){return new s(r.toArray(arguments))},Any:["__any__"],Where:function(e){return new u(e)},ObjectIncluding:function(e){return new c(e)},Integer:["__integer__"],Error:n.makeErrorType("Match.Error",function(e){this.message="Match error: "+e,this.path="",this.sanitizedError=new n.Error(400,"Match failed")}),test:function(e,n){try{return d(e,n),!0}catch(r){if(r instanceof t.Error)return!1;throw r}},_failIfArgumentsAreNotAllChecked:function(e,t,n,r){var o=new p(n,r),i=a.withValue(o,function(){return e.apply(t,n)});return o.throwUnlessAllArgumentsHaveBeenChecked(),i}};var i=function(e){this.pattern=e},s=function(e){if(r.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},u=function(e){this.condition=e},c=function(e){this.pattern=e},l=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[void 0,"undefined"]],d=function(e,n){if(n!==t.Any){for(var a=0;a<l.length;++a)if(n===l[a][0]){if(typeof e===l[a][1])return;throw new t.Error("Expected "+l[a][1]+", got "+typeof e)}if(null===n){if(null===e)return;throw new t.Error("Expected null, got "+o.stringify(e))}if(n===t.Integer){if("number"==typeof e&&(0|e)===e)return;throw new t.Error("Expected Integer, got "+(e instanceof Object?o.stringify(e):e))}if(n===Object&&(n=t.ObjectIncluding({})),n instanceof Array){if(1!==n.length)throw Error("Bad pattern: arrays must have one type element"+o.stringify(n));if(!r.isArray(e)&&!r.isArguments(e))throw new t.Error("Expected array, got "+o.stringify(e));return void r.each(e,function(e,r){try{d(e,n[0])}catch(o){throw o instanceof t.Error&&(o.path=h(r,o.path)),o}})}if(n instanceof u){if(n.condition(e))return;throw new t.Error("Failed Match.Where validation")}if(n instanceof i&&(n=t.OneOf(void 0,n.pattern)),n instanceof s){for(var a=0;a<n.choices.length;++a)try{return void d(e,n.choices[a])}catch(p){if(!(p instanceof t.Error))throw p}throw new t.Error("Failed Match.OneOf or Match.Optional validation")}if(n instanceof Function){if(e instanceof n)return;throw new t.Error("Expected "+n.name)}var f=!1;if(n instanceof c&&(f=!0,n=n.pattern),"object"!=typeof n)throw Error("Bad pattern: unknown pattern type");if("object"!=typeof e)throw new t.Error("Expected object, got "+typeof e);if(null===e)throw new t.Error("Expected object, got null");if(e.constructor!==Object)throw new t.Error("Expected plain object");var m={},g={};r.each(n,function(e,t){e instanceof i?g[t]=e.pattern:m[t]=e}),r.each(e,function(e,n){try{if(r.has(m,n))d(e,m[n]),delete m[n];else if(r.has(g,n))d(e,g[n]);else if(!f)throw new t.Error("Unknown key")}catch(o){throw o instanceof t.Error&&(o.path=h(n,o.path)),o}}),r.each(m,function(e,n){throw new t.Error("Missing key '"+n+"'")})}},p=function(e,t){var n=this;n.args=r.clone(e),n.args.reverse(),n.description=t};r.extend(p.prototype,{checking:function(e){var t=this;t._checkingOneValue(e)||(r.isArray(e)||r.isArguments(e))&&r.each(e,r.bind(t._checkingOneValue,t))},_checkingOneValue:function(e){for(var t=this,n=0;n<t.args.length;++n)if(e===t.args[n])return t.args.splice(n,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!r.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var f=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],h=function(e,t){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":(!e.match(/^[a-z_$][0-9a-z_$]*$/i)||r.contains(f,e))&&(e=JSON.stringify([e])),t&&"["!==t[0]?e+"."+t:e+t}}).call(this),"undefined"==typeof Package&&(Package={}),Package.check={check:e,Match:t}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,r=Package.ejson.EJSON;(function(){e=function(){return e.info.apply(this,arguments)};var o=0,a=[],i=0;e._intercept=function(e){o+=e},e._suppress=function(e){i+=e},e._intercepted=function(){var e=a;return a=[],o=0,e},e.outputFormat="json";var s={debug:"green",warn:"magenta",error:"red"},u="blue",c=["time","timeInexact","level","file","line","program","originApp","satellite","stderr"],l=c.concat(["app","message"]),d=function(n){var r=e.format(n),o=n.level;"undefined"!=typeof console&&console[o]?console[o](r):t._debug(r)};e._getCallerDetails=function(){var e=function(){var e=new Error,t=e.stack;return t},t=e();if(!t)return{};for(var n,r=t.split("\n"),o=1;o<r.length;++o){if(n=r[o],n.match(/^\s*at eval \(eval/))return{file:"eval"};if(!n.match(/packages\/logging(?:\/|(?::tests)?\.js)/))break}var a={},i=/(?:[@(]| at )([^(]+?):([0-9:]+)(?:\)|$)/.exec(n);return i?(a.line=i[2].split(":")[0],a.file=i[1].split("/").slice(-1)[0].split("?")[0],a):a},n.each(["debug","info","warn","error"],function(s){e[s]=function(u){if(i)return void i--;var l=!1;o&&(o--,l=!0);var p=!n.isObject(u)||n.isRegExp(u)||n.isDate(u)?{message:new String(u).toString()}:u;if(n.each(c,function(e){if(p[e])throw new Error("Can't set '"+e+"' in log message")}),n.has(p,"message")&&!n.isString(p.message))throw new Error("The 'message' field in log objects must be a string");if(p.omitCallerDetails||(p=n.extend(e._getCallerDetails(),p)),p.time=new Date,p.level=s,"debug"!==s)if(l)a.push(r.stringify(p));else if(t.isServer)if("colored-text"===e.outputFormat)console.log(e.format(p,{color:!0}));else{if("json"!==e.outputFormat)throw new Error("Unknown logging output format: "+e.outputFormat);console.log(r.stringify(p))}else d(p)}}),e.parse=function(e){var t=null;if(e&&"{"===e.charAt(0))try{t=r.parse(e)}catch(n){}return t&&t.time&&t.time instanceof Date?t:null},e.format=function(e,o){e=r.clone(e),o=o||{};var a=e.time;if(!(a instanceof Date))throw new Error("'time' must be a Date object");var i=e.timeInexact,c=e.level||"info",d=e.file,p=e.line,f=e.app||"",h=e.originApp,m=e.message||"",g=e.program||"",_=e.satellite,v=e.stderr||"";n.each(l,function(t){delete e[t]}),n.isEmpty(e)||(m&&(m+=" "),m+=r.stringify(e));var y=function(e){return 10>e?"0"+e:e.toString()},b=function(e){return 100>e?"0"+y(e):e.toString()},k=a.getFullYear().toString()+y(a.getMonth()+1)+y(a.getDate()),w=y(a.getHours())+":"+y(a.getMinutes())+":"+y(a.getSeconds())+"."+b(a.getMilliseconds()),S="("+-((new Date).getTimezoneOffset()/60)+")",T="";f&&(T+=f),h&&h!==f&&(T+=" via "+h),T&&(T="["+T+"] ");var M=d&&p?["(",g?g+":":"",d,":",p,") "].join(""):"";_&&(M+=["[",_,"]"].join(""));var L=v?"(STDERR) ":"",D=[c.charAt(0).toUpperCase(),k,"-",w,S,i?"? ":" ",T,M,L].join(""),P=function(e,n){return o.color&&t.isServer&&n?Npm.require("cli-color")[n](e):e
};return P(D,u)+P(m,s[c])},e.objFromText=function(e,t){var r={message:e,level:"info",time:new Date,timeInexact:!0};return n.extend(r,t)}}).call(this),"undefined"==typeof Package&&(Package={}),Package.logging={Log:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,r=Package.random.Random;(function(){e=function(e){var t=this;n.extend(t,n.defaults(n.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),t.retryTimer=null},n.extend(e.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var t=this;if(e<t.minCount)return t.minTimeout;var n=Math.min(t.maxTimeout,t.baseTimeout*Math.pow(t.exponent,e));return n*=r.fraction()*t.fuzz+(1-t.fuzz/2)},retryLater:function(e,n){var r=this,o=r._timeout(e);return r.retryTimer&&clearTimeout(r.retryTimer),r.retryTimer=t.setTimeout(n,o),o}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.retry={Retry:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,r=(Package.logging.Log,Package.json.JSON);(function(){var o,a="Meteor_Reload",i=3e4,s={};"undefined"!=typeof sessionStorage&&sessionStorage&&(o=sessionStorage.getItem(a),sessionStorage.removeItem(a)),o||(o="{}");var u={};try{u=r.parse(o),"object"!=typeof u&&(t._debug("Got bad data on reload. Ignoring."),u={})}catch(c){t._debug("Got invalid JSON on reload. Ignoring.")}u.reload&&"object"==typeof u.data&&u.time+i>(new Date).getTime()&&(s=u.data);var l=[];e={},e._onMigrate=function(e,t){t||(t=e,e=void 0),l.push({name:e,callback:t})},e._migrationData=function(e){return s[e]};var d=!1;e._reload=function(){if(!d){d=!0;var e=function(){n.defer(function(){for(var o={},i=n.clone(l);i.length;){var s=i.shift(),u=s.callback(e);if(!u[0])return;u.length>1&&s.name&&(o[s.name]=u[1])}try{var c=r.stringify({time:(new Date).getTime(),data:o,reload:!0})}catch(d){throw t._debug("Couldn't serialize data for migration",o),d}if("undefined"!=typeof sessionStorage&&sessionStorage)try{sessionStorage.setItem(a,c)}catch(d){t._debug("Couldn't save data for migration to sessionStorage",d)}else t._debug("Browser does not support sessionStorage. Not saving migration state.");window.location.reload()})};e()}}}).call(this),function(){t._reload={onMigrate:e._onMigrate,migrationData:e._migrationData,reload:e._reload}}.call(this),"undefined"==typeof Package&&(Package={}),Package.reload={Reload:e}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._),n=Package.json.JSON,r=Package.ejson.EJSON;(function(){e=function(e,t){var r=this;r._map={},r._idStringify=e||n.stringify,r._idParse=t||n.parse},t.extend(e.prototype,{get:function(e){var t=this,n=t._idStringify(e);return t._map[n]},set:function(e,t){var n=this,r=n._idStringify(e);n._map[r]=t},remove:function(e){var t=this,n=t._idStringify(e);delete t._map[n]},has:function(e){var n=this,r=n._idStringify(e);return t.has(n._map,r)},empty:function(){var e=this;return t.isEmpty(e._map)},clear:function(){var e=this;e._map={}},forEach:function(e){for(var n=this,r=t.keys(n._map),o=0;o<r.length;o++){var a=e.call(null,n._map[r[o]],n._idParse(r[o]));if(a===!1)return}},size:function(){var e=this;return t.size(e._map)},setDefault:function(e,n){var r=this,o=r._idStringify(e);return t.has(r._map,o)?r._map[o]:(r._map[o]=n,n)},clone:function(){var t=this,n=new e(t._idStringify,t._idParse);return t.forEach(function(e,t){n.set(t,r.clone(e))}),n}})}).call(this),"undefined"==typeof Package&&(Package={}),Package["id-map"]={IdMap:e}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._);(function(){var n=function(e,t,n,r){return{key:e,value:t,next:n,prev:r}};e=function(){var e=this;e._dict={},e._first=null,e._last=null,e._size=0;var n=t.toArray(arguments);e._stringify=function(e){return e},"function"==typeof n[0]&&(e._stringify=n.shift()),t.each(n,function(t){e.putBefore(t[0],t[1],null)})},t.extend(e.prototype,{_k:function(e){return" "+this._stringify(e)},empty:function(){var e=this;return!e._first},size:function(){var e=this;return e._size},_linkEltIn:function(e){var t=this;e.next?(e.prev=e.next.prev,e.next.prev=e,e.prev&&(e.prev.next=e)):(e.prev=t._last,t._last&&(t._last.next=e),t._last=e),(null===t._first||t._first===e.next)&&(t._first=e)},_linkEltOut:function(e){var t=this;e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next),e===t._last&&(t._last=e.prev),e===t._first&&(t._first=e.next)},putBefore:function(e,t,r){var o=this;if(o._dict[o._k(e)])throw new Error("Item "+e+" already present in OrderedDict");var a=r?n(e,t,o._dict[o._k(r)]):n(e,t,null);if(void 0===a.next)throw new Error("could not find item to put this one before");o._linkEltIn(a),o._dict[o._k(e)]=a,o._size++},append:function(e,t){var n=this;n.putBefore(e,t,null)},remove:function(e){var t=this,n=t._dict[t._k(e)];if(void 0===n)throw new Error("Item "+e+" not present in OrderedDict");return t._linkEltOut(n),t._size--,delete t._dict[t._k(e)],n.value},get:function(e){var t=this;return t.has(e)?t._dict[t._k(e)].value:void 0},has:function(e){var n=this;return t.has(n._dict,n._k(e))},forEach:function(t){for(var n=this,r=0,o=n._first;null!==o;){var a=t(o.value,o.key,r);if(a===e.BREAK)return;o=o.next,r++}},first:function(){var e=this;return e.empty()?void 0:e._first.key},firstValue:function(){var e=this;return e.empty()?void 0:e._first.value},last:function(){var e=this;return e.empty()?void 0:e._last.key},lastValue:function(){var e=this;return e.empty()?void 0:e._last.value},prev:function(e){var t=this;if(t.has(e)){var n=t._dict[t._k(e)];if(n.prev)return n.prev.key}return null},next:function(e){var t=this;if(t.has(e)){var n=t._dict[t._k(e)];if(n.next)return n.next.key}return null},moveBefore:function(e,t){var n=this,r=n._dict[n._k(e)],o=t?n._dict[n._k(t)]:null;if(void 0===r)throw new Error("Item to move is not present");if(void 0===o)throw new Error("Could not find element to move this one before");o!==r.next&&(n._linkEltOut(r),r.next=o,n._linkEltIn(r))},indexOf:function(t){var n=this,r=null;return n.forEach(function(o,a,i){return n._k(a)===n._k(t)?(r=i,e.BREAK):void 0}),r},_checkRep:function(){var e=this;t.each(e._dict,function(e,t){if(t.next===t)throw new Error("Next is a loop");if(t.prev===t)throw new Error("Prev is a loop")})}}),e.BREAK={"break":!0}}).call(this),"undefined"==typeof Package&&(Package={}),Package["ordered-dict"]={OrderedDict:e}}(),function(){{var e,t;Package.meteor.Meteor}(function(){t={exports:{}}}).call(this),function(){!function(){function e(e){for(var t=[],n=[],r=0;r<e[0].length;r++)t.push(e[0][r][1]),n.push(e[0][r][0]);return t=t.sort(function(e,t){return e-t}),n=n.sort(function(e,t){return e-t}),[[t[0],n[0]],[t[t.length-1],n[n.length-1]]]}function n(e,t,n){for(var r=[[0,0]],o=0;o<n.length;o++){for(var a=0;a<n[o].length;a++)r.push(n[o][a]);r.push([0,0])}for(var i=!1,o=0,a=r.length-1;o<r.length;a=o++)r[o][0]>t!=r[a][0]>t&&e<(r[a][1]-r[o][1])*(t-r[o][0])/(r[a][0]-r[o][0])+r[o][1]&&(i=!i);return i}var r={};"undefined"!=typeof t&&t.exports&&(t.exports=r),r.lineStringsIntersect=function(e,t){for(var n=[],r=0;r<=e.coordinates.length-2;++r)for(var o=0;o<=t.coordinates.length-2;++o){var a={x:e.coordinates[r][1],y:e.coordinates[r][0]},i={x:e.coordinates[r+1][1],y:e.coordinates[r+1][0]},s={x:t.coordinates[o][1],y:t.coordinates[o][0]},u={x:t.coordinates[o+1][1],y:t.coordinates[o+1][0]},c=(u.x-s.x)*(a.y-s.y)-(u.y-s.y)*(a.x-s.x),l=(i.x-a.x)*(a.y-s.y)-(i.y-a.y)*(a.x-s.x),d=(u.y-s.y)*(i.x-a.x)-(u.x-s.x)*(i.y-a.y);if(0!=d){var p=c/d,f=l/d;p>=0&&1>=p&&f>=0&&1>=f&&n.push({type:"Point",coordinates:[a.x+p*(i.x-a.x),a.y+p*(i.y-a.y)]})}}return 0==n.length&&(n=!1),n},r.pointInBoundingBox=function(e,t){return!(e.coordinates[1]<t[0][0]||e.coordinates[1]>t[1][0]||e.coordinates[0]<t[0][1]||e.coordinates[0]>t[1][1])},r.pointInPolygon=function(t,o){for(var a="Polygon"==o.type?[o.coordinates]:o.coordinates,i=!1,s=0;s<a.length;s++)r.pointInBoundingBox(t,e(a[s]))&&(i=!0);if(!i)return!1;for(var u=!1,s=0;s<a.length;s++)n(t.coordinates[1],t.coordinates[0],a[s])&&(u=!0);return u},r.numberToRadius=function(e){return e*Math.PI/180},r.numberToDegree=function(e){return 180*e/Math.PI},r.drawCircle=function(e,t,n){for(var o=[t.coordinates[1],t.coordinates[0]],a=e/1e3/6371,i=[r.numberToRadius(o[0]),r.numberToRadius(o[1])],n=n||15,s=[[o[0],o[1]]],u=0;n>u;u++){var c=2*Math.PI*u/n,l=Math.asin(Math.sin(i[0])*Math.cos(a)+Math.cos(i[0])*Math.sin(a)*Math.cos(c)),d=i[1]+Math.atan2(Math.sin(c)*Math.sin(a)*Math.cos(i[0]),Math.cos(a)-Math.sin(i[0])*Math.sin(l));s[u]=[],s[u][1]=r.numberToDegree(l),s[u][0]=r.numberToDegree(d)}return{type:"Polygon",coordinates:[s]}},r.rectangleCentroid=function(e){var t=e.coordinates[0],n=t[0][0],r=t[0][1],o=t[2][0],a=t[2][1],i=o-n,s=a-r;return{type:"Point",coordinates:[n+i/2,r+s/2]}},r.pointDistance=function(e,t){var n=e.coordinates[0],o=e.coordinates[1],a=t.coordinates[0],i=t.coordinates[1],s=r.numberToRadius(i-o),u=r.numberToRadius(a-n),c=Math.pow(Math.sin(s/2),2)+Math.cos(r.numberToRadius(o))*Math.cos(r.numberToRadius(i))*Math.pow(Math.sin(u/2),2),l=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return 6371*l*1e3},r.geometryWithinRadius=function(e,t,n){if("Point"==e.type)return r.pointDistance(e,t)<=n;if("LineString"==e.type||"Polygon"==e.type){var o,a={};o="Polygon"==e.type?e.coordinates[0]:e.coordinates;for(var i in o)if(a.coordinates=o[i],r.pointDistance(a,t)>n)return!1}return!0},r.area=function(e){for(var t,n,r=0,o=e.coordinates[0],a=o.length-1,i=0;i<o.length;a=i++){var t={x:o[i][1],y:o[i][0]},n={x:o[a][1],y:o[a][0]};r+=t.x*n.y,r-=t.y*n.x}return r/=2},r.centroid=function(e){for(var t,n,o,a=0,i=0,s=e.coordinates[0],u=s.length-1,c=0;c<s.length;u=c++){var n={x:s[c][1],y:s[c][0]},o={x:s[u][1],y:s[u][0]};t=n.x*o.y-o.x*n.y,a+=(n.x+o.x)*t,i+=(n.y+o.y)*t}return t=6*r.area(e),{type:"Point",coordinates:[i/t,a/t]}},r.simplify=function(e,t){t=t||20,e=e.map(function(e){return{lng:e.coordinates[0],lat:e.coordinates[1]}});var n,r,o,a,i,s,u,c,l,d,p,f,h,m,g,_,v,y,b,k=Math.PI/180*.5,w=new Array,S=new Array,T=new Array;if(e.length<3)return e;for(n=e.length,d=360*t/(2*Math.PI*6378137),d*=d,o=0,S[0]=0,T[0]=n-1,r=1;r>0;)if(a=S[r-1],i=T[r-1],r--,i-a>1){for(p=e[i].lng()-e[a].lng(),f=e[i].lat()-e[a].lat(),Math.abs(p)>180&&(p=360-Math.abs(p)),p*=Math.cos(k*(e[i].lat()+e[a].lat())),h=p*p+f*f,s=a+1,u=a,l=-1;i>s;s++)m=e[s].lng()-e[a].lng(),g=e[s].lat()-e[a].lat(),Math.abs(m)>180&&(m=360-Math.abs(m)),m*=Math.cos(k*(e[s].lat()+e[a].lat())),_=m*m+g*g,v=e[s].lng()-e[i].lng(),y=e[s].lat()-e[i].lat(),Math.abs(v)>180&&(v=360-Math.abs(v)),v*=Math.cos(k*(e[s].lat()+e[i].lat())),b=v*v+y*y,c=_>=h+b?b:b>=h+_?_:(m*f-g*p)*(m*f-g*p)/h,c>l&&(u=s,l=c);d>l?(w[o]=a,o++):(r++,S[r-1]=u,T[r-1]=i,r++,S[r-1]=a,T[r-1]=u)}else w[o]=a,o++;w[o]=n-1,o++;for(var M=new Array,s=0;o>s;s++)M.push(e[w[s]]);return M.map(function(e){return{type:"Point",coordinates:[e.lng,e.lat]}})},r.destinationPoint=function(e,t,n){n/=6371,t=r.numberToRadius(t);var o=r.numberToRadius(e.coordinates[0]),a=r.numberToRadius(e.coordinates[1]),i=Math.asin(Math.sin(o)*Math.cos(n)+Math.cos(o)*Math.sin(n)*Math.cos(t)),s=a+Math.atan2(Math.sin(t)*Math.sin(n)*Math.cos(o),Math.cos(n)-Math.sin(o)*Math.sin(i));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[r.numberToDegree(i),r.numberToDegree(s)]}}}()}.call(this),function(){e=t.exports}.call(this),"undefined"==typeof Package&&(Package={}),Package["geojson-utils"]={GeoJSON:e}}(),function(){var e,t,n,r,o,a,i,s,u,c,l,d,p,f,h,m,g=Package.meteor.Meteor,_=Package.underscore._,v=Package.json.JSON,y=Package.ejson.EJSON,b=Package["id-map"].IdMap,k=Package["ordered-dict"].OrderedDict,w=Package.deps.Deps,S=Package.random.Random,T=Package["geojson-utils"].GeoJSON;(function(){e=function(t){var n=this;n.name=t,n._docs=new e._IdMap,n._observeQueue=new g._SynchronousQueue,n.next_qid=1,n.queries={},n._savedOriginals=null,n.paused=!1},t={},n={},e._applyChanges=function(e,t){_.each(t,function(t,n){void 0===t?delete e[n]:e[n]=t})},r=function(e){var t=new Error(e);return t.name="MinimongoError",t},e.prototype.find=function(t,n){return 0===arguments.length&&(t={}),new e.Cursor(this,t,n)},e.Cursor=function(n,r,o){var a=this;o||(o={}),a.collection=n,a.sorter=null,e._selectorIsId(r)?(a._selectorId=r,a.matcher=new t.Matcher(r,a)):(a._selectorId=void 0,a.matcher=new t.Matcher(r,a),(a.matcher.hasGeoQuery()||o.sort)&&(a.sorter=new t.Sorter(o.sort||[],{matcher:a.matcher}))),a.skip=o.skip,a.limit=o.limit,a.fields=o.fields,a.fields&&(a.projectionFn=e._compileProjection(a.fields)),a._transform=e.wrapTransform(o.transform),"undefined"!=typeof w&&(a.reactive=void 0===o.reactive?!0:o.reactive)},e.Cursor.prototype.rewind=function(){},e.prototype.findOne=function(e,t){return 0===arguments.length&&(e={}),t=t||{},t.limit=1,this.find(e,t).fetch()[0]},e.Cursor.prototype.forEach=function(e,t){var n=this,r=n._getRawObjects({ordered:!0});n.reactive&&n._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0}),_.each(r,function(r,o){r=n.projectionFn?n.projectionFn(r):y.clone(r),n._transform&&(r=n._transform(r)),e.call(t,r,o,n)})},e.Cursor.prototype.getTransform=function(){return this._transform},e.Cursor.prototype.map=function(e,t){var n=this,r=[];return n.forEach(function(o,a){r.push(e.call(t,o,a,n))}),r},e.Cursor.prototype.fetch=function(){var e=this,t=[];return e.forEach(function(e){t.push(e)}),t},e.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),e._getRawObjects({ordered:!0}).length},e.Cursor.prototype._publishCursor=function(e){var t=this;if(!t.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var n=t.collection.name;return g.Collection._publishCursor(t,e,n)},e.Cursor.prototype._getCollectionName=function(){var e=this;return e.collection.name},e._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},e._observeCallbacksAreOrdered=function(e){if(e.addedAt&&e.added)throw new Error("Please specify only one of added() and addedAt()");if(e.changedAt&&e.changed)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.movedTo||e.changedAt||e.removedAt)},e.ObserveHandle=function(){},_.extend(e.Cursor.prototype,{observe:function(t){var n=this;return e._observeFromObserveChanges(n,t)},observeChanges:function(t){var n=this,r=e._observeChangesCallbacksAreOrdered(t);if(!t._allow_unordered&&!r&&(n.skip||n.limit))throw new Error("must use ordered observe with skip or limit");if(n.fields&&(0===n.fields._id||n.fields._id===!1))throw Error("You may not observe a cursor with {fields: {_id: 0}}");var o,a={matcher:n.matcher,sorter:r&&n.sorter,distances:n.matcher.hasGeoQuery()&&r&&new e._IdMap,resultsSnapshot:null,ordered:r,cursor:n,projectionFn:n.projectionFn};n.reactive&&(o=n.collection.next_qid++,n.collection.queries[o]=a),a.results=n._getRawObjects({ordered:r,distances:a.distances}),n.collection.paused&&(a.resultsSnapshot=r?[]:new e._IdMap);var i=function(e,t,r){return e?function(){var o=this,a=arguments;n.collection.paused||void 0!==t&&n.projectionFn&&(a[t]=n.projectionFn(a[t]),r&&_.isEmpty(a[t]))||n.collection._observeQueue.queueTask(function(){e.apply(o,a)})}:function(){}};if(a.added=i(t.added,1),a.changed=i(t.changed,1,!0),a.removed=i(t.removed),r&&(a.addedBefore=i(t.addedBefore,1),a.movedBefore=i(t.movedBefore)),!t._suppress_initial&&!n.collection.paused){var s=r?_.bind(_.each,null,a.results):_.bind(a.results.forEach,a.results);s(function(e){var t=y.clone(e);delete t._id,r&&a.addedBefore(e._id,t,null),a.added(e._id,t)})}var u=new e.ObserveHandle;return _.extend(u,{collection:n.collection,stop:function(){n.reactive&&delete n.collection.queries[o]}}),n.reactive&&w.active&&w.onInvalidate(function(){u.stop()}),n.collection._observeQueue.drain(),u}}),e.Cursor.prototype._getRawObjects=function(t){var n=this;t=t||{};var r=t.ordered?[]:new e._IdMap;if(void 0!==n._selectorId){if(n.skip)return r;var o=n.collection._docs.get(n._selectorId);return o&&(t.ordered?r.push(o):r.set(n._selectorId,o)),r}var a;if(n.matcher.hasGeoQuery()&&t.ordered&&(t.distances?(a=t.distances,a.clear()):a=new e._IdMap),n.collection._docs.forEach(function(e,o){var i=n.matcher.documentMatches(e);return i.result&&(t.ordered?(r.push(e),a&&void 0!==i.distance&&a.set(o,i.distance)):r.set(o,e)),!n.limit||n.skip||n.sorter||r.length!==n.limit?!0:!1}),!t.ordered)return r;if(n.sorter){var i=n.sorter.getComparator({distances:a});r.sort(i)}var s=n.skip||0,u=n.limit?n.limit+s:r.length;return r.slice(s,u)},e.Cursor.prototype._depend=function(e,t){var n=this;if(w.active){var r=new w.Dependency;r.depend();var o=_.bind(r.changed,r),a={_suppress_initial:!0,_allow_unordered:t};_.each(["added","changed","removed","addedBefore","movedBefore"],function(t){e[t]&&(a[t]=o)}),n.observeChanges(a)}},e.prototype.insert=function(t,n){var o=this;t=y.clone(t),_.has(t,"_id")||(t._id=e._useOID?new e._ObjectID:S.id());var a=t._id;if(o._docs.has(a))throw r("Duplicate _id '"+a+"'");o._saveOriginal(a,void 0),o._docs.set(a,t);var i=[];for(var s in o.queries){var u=o.queries[s],c=u.matcher.documentMatches(t);c.result&&(u.distances&&void 0!==c.distance&&u.distances.set(a,c.distance),u.cursor.skip||u.cursor.limit?i.push(s):e._insertInResults(u,t))}return _.each(i,function(t){o.queries[t]&&e._recomputeResults(o.queries[t])}),o._observeQueue.drain(),n&&g.defer(function(){n(null,a)}),a},e.prototype._eachPossiblyMatchingDoc=function(t,n){var r=this,o=e._idsMatchedBySelector(t);if(o)for(var a=0;a<o.length;++a){var i=o[a],s=r._docs.get(i);if(s){var u=n(s,i);if(u===!1)break}}else r._docs.forEach(n)},e.prototype.remove=function(n,r){var o=this;if(o.paused&&!o._savedOriginals&&y.equals(n,{})){var a=o._docs.size();return o._docs.clear(),_.each(o.queries,function(e){e.ordered?e.results=[]:e.results.clear()}),r&&g.defer(function(){r(null,a)}),a}var i=new t.Matcher(n,o),s=[];o._eachPossiblyMatchingDoc(n,function(e,t){i.documentMatches(e).result&&s.push(t)});for(var u=[],c=[],l=0;l<s.length;l++){var d=s[l],p=o._docs.get(d);_.each(o.queries,function(e,t){e.matcher.documentMatches(p).result&&(e.cursor.skip||e.cursor.limit?u.push(t):c.push({qid:t,doc:p}))}),o._saveOriginal(d,p),o._docs.remove(d)}return _.each(c,function(t){var n=o.queries[t.qid];n&&(n.distances&&n.distances.remove(t.doc._id),e._removeFromResults(n,t.doc))}),_.each(u,function(t){var n=o.queries[t];n&&e._recomputeResults(n)}),o._observeQueue.drain(),a=s.length,r&&g.defer(function(){r(null,a)}),a},e.prototype.update=function(n,r,o,a){var i=this;!a&&o instanceof Function&&(a=o,o=null),o||(o={});var s=new t.Matcher(n,i),u={};_.each(i.queries,function(e,t){!e.cursor.skip&&!e.cursor.limit||e.paused||(u[t]=y.clone(e.results))});var c={},l=0;i._eachPossiblyMatchingDoc(n,function(e,t){var n=s.documentMatches(e);return n.result&&(i._saveOriginal(t,e),i._modifyAndNotify(e,r,c,n.arrayIndices),++l,!o.multi)?!1:!0}),_.each(c,function(t,n){var r=i.queries[n];r&&e._recomputeResults(r,u[n])}),i._observeQueue.drain();var d;if(0===l&&o.upsert){var p=e._removeDollarOperators(n);e._modify(p,r,{isInsert:!0}),!p._id&&o.insertedId&&(p._id=o.insertedId),d=i.insert(p),l=1}var f;return o._returnObject?(f={numberAffected:l},void 0!==d&&(f.insertedId=d)):f=l,a&&g.defer(function(){a(null,f)}),f},e.prototype.upsert=function(e,t,n,r){var o=this;return r||"function"!=typeof n||(r=n,n={}),o.update(e,t,_.extend({},n,{upsert:!0,_returnObject:!0}),r)},e.prototype._modifyAndNotify=function(t,n,r,o){var a=this,i={};for(var s in a.queries){var u=a.queries[s];i[s]=u.ordered?u.matcher.documentMatches(t).result:u.results.has(t._id)}var c=y.clone(t);e._modify(t,n,{arrayIndices:o});for(s in a.queries){u=a.queries[s];var l=i[s],d=u.matcher.documentMatches(t),p=d.result;p&&u.distances&&void 0!==d.distance&&u.distances.set(t._id,d.distance),u.cursor.skip||u.cursor.limit?(l||p)&&(r[s]=!0):l&&!p?e._removeFromResults(u,t):!l&&p?e._insertInResults(u,t):l&&p&&e._updateInResults(u,t,c)}},e._insertInResults=function(t,n){var r=y.clone(n);if(delete r._id,t.ordered){if(t.sorter){var o=e._insertInSortedList(t.sorter.getComparator({distances:t.distances}),t.results,n),a=t.results[o+1];a=a?a._id:null,t.addedBefore(n._id,r,a)}else t.addedBefore(n._id,r,null),t.results.push(n);t.added(n._id,r)}else t.added(n._id,r),t.results.set(n._id,n)},e._removeFromResults=function(t,n){if(t.ordered){var r=e._findInOrderedResults(t,n);t.removed(n._id),t.results.splice(r,1)}else{var o=n._id;t.removed(n._id),t.results.remove(o)}},e._updateInResults=function(t,n,r){if(!y.equals(n._id,r._id))throw new Error("Can't change a doc's _id while updating");var o=e._makeChangedFields(n,r);if(!t.ordered)return void(_.isEmpty(o)||(t.changed(n._id,o),t.results.set(n._id,n)));var a=e._findInOrderedResults(t,n);if(_.isEmpty(o)||t.changed(n._id,o),t.sorter){t.results.splice(a,1);var i=e._insertInSortedList(t.sorter.getComparator({distances:t.distances}),t.results,n);if(a!==i){var s=t.results[i+1];s=s?s._id:null,t.movedBefore&&t.movedBefore(n._id,s)}}},e._recomputeResults=function(t,n){n||(n=t.results),t.distances&&t.distances.clear(),t.results=t.cursor._getRawObjects({ordered:t.ordered,distances:t.distances}),t.paused||e._diffQueryChanges(t.ordered,n,t.results,t)},e._findInOrderedResults=function(e,t){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var n=0;n<e.results.length;n++)if(e.results[n]===t)return n;throw Error("object missing from query")},e._binarySearch=function(e,t,n){for(var r=0,o=t.length;o>0;){var a=Math.floor(o/2);e(n,t[r+a])>=0?(r+=a+1,o-=a+1):o=a}return r},e._insertInSortedList=function(t,n,r){if(0===n.length)return n.push(r),0;var o=e._binarySearch(t,n,r);return n.splice(o,0,r),o},e.prototype.saveOriginals=function(){var t=this;if(t._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");t._savedOriginals=new e._IdMap},e.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var t=e._savedOriginals;return e._savedOriginals=null,t},e.prototype._saveOriginal=function(e,t){var n=this;n._savedOriginals&&(n._savedOriginals.has(e)||n._savedOriginals.set(e,y.clone(t)))},e.prototype.pauseObservers=function(){if(!this.paused){this.paused=!0;for(var e in this.queries){var t=this.queries[e];t.resultsSnapshot=y.clone(t.results)}}},e.prototype.resumeObservers=function(){var t=this;if(this.paused){this.paused=!1;for(var n in this.queries){var r=t.queries[n];e._diffQueryChanges(r.ordered,r.resultsSnapshot,r.results,r),r.resultsSnapshot=null}t._observeQueue.drain()}},e._idStringify=function(t){if(t instanceof e._ObjectID)return t.valueOf();if("string"==typeof t)return""===t?t:"-"===t.substr(0,1)||"~"===t.substr(0,1)||e._looksLikeObjectID(t)||"{"===t.substr(0,1)?"-"+t:t;if(void 0===t)return"-";if("object"==typeof t&&null!==t)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+v.stringify(t)},e._idParse=function(t){return""===t?t:"-"===t?void 0:"-"===t.substr(0,1)?t.substr(1):"~"===t.substr(0,1)?v.parse(t.substr(1)):e._looksLikeObjectID(t)?new e._ObjectID(t):t},e._makeChangedFields=function(t,n){var r={};return e._diffObjects(n,t,{leftOnly:function(e){r[e]=void 0},rightOnly:function(e,t){r[e]=t},both:function(e,t,n){y.equals(t,n)||(r[e]=n)}}),r}}).call(this),function(){e.wrapTransform=function(e){return e?function(t){if(!_.has(t,"_id"))throw new Error("can only transform documents with _id");var n=t._id,r=w.nonreactive(function(){return e(t)});if(!a(r))throw new Error("transform must return object");if(_.has(r,"_id")){if(!y.equals(r._id,n))throw new Error("transformed document can't have different _id")}else r._id=n;return r}:null}}.call(this),function(){o=function(e){return _.isArray(e)&&!y.isBinary(e)},a=e._isPlainObject=function(t){return t&&3===e._f._type(t)},i=function(e){return o(e)||a(e)},s=function(e,t){if(!a(e))return!1;var n=void 0;return _.each(e,function(r,o){var a="$"===o.substr(0,1);if(void 0===n)n=a;else if(n!==a){if(!t)throw new Error("Inconsistent operator: "+v.stringify(e));n=!1}}),!!n},u=function(e){return/^[0-9]+$/.test(e)}}.call(this),function(){t.Matcher=function(e){var t=this;t._paths={},t._hasGeoQuery=!1,t._hasWhere=!1,t._isSimple=!0,t._matchingDocument=void 0,t._selector=null,t._docMatcher=t._compileSelector(e)},_.extend(t.Matcher.prototype,{documentMatches:function(e){if(!e||"object"!=typeof e)throw Error("documentMatches needs a document");return this._docMatcher(e)},hasGeoQuery:function(){return this._hasGeoQuery},hasWhere:function(){return this._hasWhere},isSimple:function(){return this._isSimple},_compileSelector:function(t){var n=this;if(t instanceof Function)return n._isSimple=!1,n._selector=t,n._recordPathUsed(""),function(e){return{result:!!t.call(e)}};if(e._selectorIsId(t))return n._selector={_id:t},n._recordPathUsed("_id"),function(e){return{result:y.equals(e._id,t)}};if(!t||"_id"in t&&!t._id)return n._isSimple=!1,D;if("boolean"==typeof t||o(t)||y.isBinary(t))throw new Error("Invalid selector: "+t);return n._selector=y.clone(t),r(t,n,{isRoot:!0})},_recordPathUsed:function(e){this._paths[e]=!0},_getPaths:function(){return _.keys(this._paths)}});var r=function(e,t,n){n=n||{};var r=[];return _.each(e,function(e,o){if("$"===o.substr(0,1)){if(!_.has(b,o))throw new Error("Unrecognized logical operator: "+o);t._isSimple=!1,r.push(b[o](e,t,n.inElemMatch))}else{n.inElemMatch||t._recordPathUsed(o);var a=p(o),i=h(e,t,n.isRoot);r.push(function(e){var t=a(e);return i(t)})}}),E(r)},h=function(e,t,n){return e instanceof RegExp?(t._isSimple=!1,m(c(e))):s(e)?g(e,t,n):m(l(e))},m=function(e,t){return t=t||{},function(n){var r=n;t.dontExpandLeafArrays||(r=f(n,t.dontIncludeLeafArrays));var o={};return o.result=_.any(r,function(t){var n=e(t.value);return"number"==typeof n&&(t.arrayIndices||(t.arrayIndices=[n]),n=!0),n&&t.arrayIndices&&(o.arrayIndices=t.arrayIndices),n}),o}};c=function(e){return function(t){return t instanceof RegExp?_.isEqual(t,e):"string"!=typeof t?!1:e.test(t)}},l=function(t){if(s(t))throw Error("Can't create equalityValueSelector for operator object");return null==t?function(e){return null==e}:function(n){return e._f._equal(t,n)}};var g=function(e,t,n){var r=[];return _.each(e,function(o,a){var i=_.contains(["$lt","$lte","$gt","$gte"],a)&&_.isNumber(o),s="$ne"===a&&!_.isObject(o),u=_.contains(["$in","$nin"],a)&&_.isArray(o)&&!_.any(o,_.isObject);if("$eq"===a||i||u||s||(t._isSimple=!1),_.has(w,a))r.push(w[a](o,e,t,n));else{if(!_.has(d,a))throw new Error("Unrecognized operator: "+a);var c=d[a];r.push(m(c.compileElementSelector(o,e,t),c))}}),x(r)},v=function(e,t,n){if(!o(e)||_.isEmpty(e))throw Error("$and/$or/$nor must be nonempty array");return _.map(e,function(e){if(!a(e))throw Error("$or/$and/$nor entries need to be full objects");return r(e,t,{inElemMatch:n})})},b={$and:function(e,t,n){var r=v(e,t,n);return E(r)},$or:function(e,t,n){var r=v(e,t,n);return 1===r.length?r[0]:function(e){var t=_.any(r,function(t){return t(e).result});return{result:t}}},$nor:function(e,t,n){var r=v(e,t,n);return function(e){var t=_.all(r,function(t){return!t(e).result});return{result:t}}},$where:function(e,t){return t._recordPathUsed(""),t._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(t){return{result:e.call(t,t)}}},$comment:function(){return function(){return{result:!0}}}},k=function(e){return function(t){var n=e(t);return{result:!n.result}}},w={$not:function(e,t,n){return k(h(e,n))},$ne:function(e){return k(m(l(e)))},$nin:function(e){return k(m(d.$in.compileElementSelector(e)))},$exists:function(e){var t=m(function(e){return void 0!==e});return e?t:k(t)},$options:function(e,t){if(!_.has(t,"$regex"))throw Error("$options needs a $regex");return P},$maxDistance:function(e,t){if(!t.$near)throw Error("$maxDistance needs a $near");return P},$all:function(e,t,n){if(!o(e))throw Error("$all requires array");if(_.isEmpty(e))return D;var r=[];return _.each(e,function(e){if(s(e))throw Error("no $ expressions in $all");r.push(h(e,n))}),x(r)},$near:function(e,t,n,r){if(!r)throw Error("$near can't be inside another $ operator");n._hasGeoQuery=!0;var i,s,u;if(a(e)&&_.has(e,"$geometry"))i=e.$maxDistance,s=e.$geometry,u=function(e){return e&&e.type?"Point"===e.type?T.pointDistance(s,e):T.geometryWithinRadius(e,s,i)?0:i+1:null};else{if(i=t.$maxDistance,!o(e)&&!a(e))throw Error("$near argument must be coordinate pair or GeoJSON");s=M(e),u=function(e){return o(e)||a(e)?S(s,e):null}}return function(e){e=f(e);var t={result:!1};return _.each(e,function(e){var n=u(e.value);null===n||n>i||void 0!==t.distance&&t.distance<=n||(t.result=!0,t.distance=n,e.arrayIndices?t.arrayIndices=e.arrayIndices:delete t.arrayIndices)}),t}}},S=function(e,t){e=M(e),t=M(t);var n=e[0]-t[0],r=e[1]-t[1];return _.isNaN(n)||_.isNaN(r)?null:Math.sqrt(n*n+r*r)},M=function(e){return _.map(e,_.identity)},L=function(t){return{compileElementSelector:function(n){if(o(n))return function(){return!1};void 0===n&&(n=null);var r=e._f._type(n);return function(o){return void 0===o&&(o=null),e._f._type(o)!==r?!1:t(e._f._cmp(o,n))}}}};d={$lt:L(function(e){return 0>e}),$gt:L(function(e){return e>0}),$lte:L(function(e){return 0>=e}),$gte:L(function(e){return e>=0}),$mod:{compileElementSelector:function(e){if(!o(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");var t=e[0],n=e[1];return function(e){return"number"==typeof e&&e%t===n}}},$in:{compileElementSelector:function(e){if(!o(e))throw Error("$in needs an array");var t=[];return _.each(e,function(e){if(e instanceof RegExp)t.push(c(e));else{if(s(e))throw Error("cannot nest $ under $in");t.push(l(e))}}),function(e){return void 0===e&&(e=null),_.any(t,function(t){return t(e)})}}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return function(t){return o(t)&&t.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(t){if("number"!=typeof t)throw Error("$type needs a number");return function(n){return void 0!==n&&e._f._type(n)===t}}},$regex:{compileElementSelector:function(e,t){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");var n;if(void 0!==t.$options){if(/[^gim]/.test(t.$options))throw new Error("Only the i, m, and g regexp options are supported");var r=e instanceof RegExp?e.source:e;n=new RegExp(r,t.$options)}else n=e instanceof RegExp?e:new RegExp(e);return c(n)}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(e,t,n){if(!a(e))throw Error("$elemMatch need an object");var i,u;return s(e,!0)?(i=h(e,n),u=!1):(i=r(e,n,{inElemMatch:!0}),u=!0),function(e){if(!o(e))return!1;for(var t=0;t<e.length;++t){var n,r=e[t];if(u){if(!a(r)&&!o(r))return!1;n=r}else n=[{value:r,dontIterate:!0}];if(i(n).result)return t}return!1}}}},p=function(e){var t,n=e.split("."),r=n.length?n[0]:"",s=u(r);n.length>1&&(t=p(n.slice(1).join(".")));var c=function(e){return e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e};return function(e,n){if(n||(n=[]),o(e)){if(!(s&&r<e.length))return[];n=n.concat(+r,"x")}var u=e[r];if(!t)return[c({value:u,dontIterate:o(e)&&o(u),arrayIndices:n})];if(!i(u))return o(e)?[]:[c({value:void 0,arrayIndices:n})];var l=[],d=function(e){Array.prototype.push.apply(l,e)};return d(t(u,n)),o(u)&&_.each(u,function(e,r){a(e)&&d(t(e,n.concat(r)))}),l}},n.makeLookupFunction=p,f=function(e,t){var n=[];return _.each(e,function(e){var r=o(e.value);t&&r&&!e.dontIterate||n.push({value:e.value,arrayIndices:e.arrayIndices}),r&&!e.dontIterate&&_.each(e.value,function(t,r){n.push({value:t,arrayIndices:(e.arrayIndices||[]).concat(r)})})}),n};var D=function(){return{result:!1}},P=function(){return{result:!0}
},C=function(e){return 0===e.length?P:1===e.length?e[0]:function(t){var n={};return n.result=_.all(e,function(e){var r=e(t);return r.result&&void 0!==r.distance&&void 0===n.distance&&(n.distance=r.distance),r.result&&r.arrayIndices&&(n.arrayIndices=r.arrayIndices),r.result}),n.result||(delete n.distance,delete n.arrayIndices),n}},E=C,x=C;e._f={_type:function(t){return"number"==typeof t?1:"string"==typeof t?2:"boolean"==typeof t?8:o(t)?4:null===t?10:t instanceof RegExp?11:"function"==typeof t?13:t instanceof Date?9:y.isBinary(t)?5:t instanceof e._ObjectID?7:3},_equal:function(e,t){return y.equals(e,t,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(t,n){if(void 0===t)return void 0===n?0:-1;if(void 0===n)return 1;var r=e._f._type(t),o=e._f._type(n),a=e._f._typeorder(r),i=e._f._typeorder(o);if(a!==i)return i>a?-1:1;if(r!==o)throw Error("Missing type coercion logic in _cmp");if(7===r&&(r=o=2,t=t.toHexString(),n=n.toHexString()),9===r&&(r=o=1,t=t.getTime(),n=n.getTime()),1===r)return t-n;if(2===o)return n>t?-1:t===n?0:1;if(3===r){var s=function(e){var t=[];for(var n in e)t.push(n),t.push(e[n]);return t};return e._f._cmp(s(t),s(n))}if(4===r)for(var u=0;;u++){if(u===t.length)return u===n.length?0:-1;if(u===n.length)return 1;var c=e._f._cmp(t[u],n[u]);if(0!==c)return c}if(5===r){if(t.length!==n.length)return t.length-n.length;for(u=0;u<t.length;u++){if(t[u]<n[u])return-1;if(t[u]>n[u])return 1}return 0}if(8===r)return t?n?0:1:n?-1:0;if(10===r)return 0;if(11===r)throw Error("Sorting not supported on regular expression");if(13===r)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}},e._removeDollarOperators=function(e){var t={};for(var n in e)"$"!==n.substr(0,1)&&(t[n]=e[n]);return t}}.call(this),function(){t.Sorter=function(e,r){var o=this;r=r||{},o._sortSpecParts=[];var a=function(e,t){if(!e)throw Error("sort keys must be non-empty");if("$"===e.charAt(0))throw Error("unsupported sort key: "+e);o._sortSpecParts.push({path:e,lookup:p(e),ascending:t})};if(e instanceof Array)for(var i=0;i<e.length;i++)"string"==typeof e[i]?a(e[i],!0):a(e[i][0],"desc"!==e[i][1]);else{if("object"!=typeof e)throw Error("Bad sort specification: "+v.stringify(e));_.each(e,function(e,t){a(t,e>=0)})}if(o.affectedByModifier){var s={};_.each(o._sortSpecParts,function(e){s[e.path]=1}),o._selectorForAffectedByModifier=new t.Matcher(s)}o._keyComparator=n(_.map(o._sortSpecParts,function(e,t){return o._keyFieldComparator(t)})),o._keyFilter=null,r.matcher&&o._useWithMatcher(r.matcher)},_.extend(t.Sorter.prototype,{getComparator:function(e){var t=this;if(!e||!e.distances)return t._getBaseComparator();var r=e.distances;return n([t._getBaseComparator(),function(e,t){if(!r.has(e._id))throw Error("Missing distance for "+e._id);if(!r.has(t._id))throw Error("Missing distance for "+t._id);return r.get(e._id)-r.get(t._id)}])},_getPaths:function(){var e=this;return _.pluck(e._sortSpecParts,"path")},_getMinKeyFromDoc:function(e){var t=this,n=null;if(t._generateKeysFromDoc(e,function(e){return t._keyCompatibleWithSelector(e)?null===n?void(n=e):void(t._compareKeys(e,n)<0&&(n=e)):void 0}),null===n)throw Error("sort selector found no keys in doc?");return n},_keyCompatibleWithSelector:function(e){var t=this;return!t._keyFilter||t._keyFilter(e)},_generateKeysFromDoc:function(e,t){var n=this;if(0===n._sortSpecParts.length)throw new Error("can't generate keys without a spec");var r=[],o=function(e){return e.join(",")+","},a=null;if(_.each(n._sortSpecParts,function(t,n){var i=f(t.lookup(e),!0);i.length||(i=[{value:null}]);var s=!1;if(r[n]={},_.each(i,function(e){if(!e.arrayIndices){if(i.length>1)throw Error("multiple branches but no array used?");return void(r[n][""]=e.value)}s=!0;var t=o(e.arrayIndices);if(_.has(r[n],t))throw Error("duplicate path: "+t);if(r[n][t]=e.value,a&&!_.has(a,t))throw Error("cannot index parallel arrays")}),a){if(!_.has(r[n],"")&&_.size(a)!==_.size(r[n]))throw Error("cannot index parallel arrays!")}else s&&(a={},_.each(r[n],function(e,t){a[t]=!0}))}),!a){var i=_.map(r,function(e){if(!_.has(e,""))throw Error("no value in sole key case?");return e[""]});return void t(i)}_.each(a,function(e,n){var o=_.map(r,function(e){if(_.has(e,""))return e[""];if(!_.has(e,n))throw Error("missing path?");return e[n]});t(o)})},_compareKeys:function(e,t){var n=this;if(e.length!==n._sortSpecParts.length||t.length!==n._sortSpecParts.length)throw Error("Key has wrong length");return n._keyComparator(e,t)},_keyFieldComparator:function(t){var n=this,r=!n._sortSpecParts[t].ascending;return function(n,o){var a=e._f._cmp(n[t],o[t]);return r&&(a=-a),a}},_getBaseComparator:function(){var e=this;return e._sortSpecParts.length?function(t,n){var r=e._getMinKeyFromDoc(t),o=e._getMinKeyFromDoc(n);return e._compareKeys(r,o)}:function(){return 0}},_useWithMatcher:function(e){var t=this;if(t._keyFilter)throw Error("called _useWithMatcher twice?");if(!_.isEmpty(t._sortSpecParts)){var n=e._selector;if(!(n instanceof Function)){var r={};_.each(t._sortSpecParts,function(e){r[e.path]=[]}),_.each(n,function(e,t){var n=r[t];if(n){if(e instanceof RegExp){if(e.ignoreCase||e.multiline)return;return void n.push(c(e))}return s(e)?void _.each(e,function(t,r){_.contains(["$lt","$lte","$gt","$gte"],r)&&n.push(d[r].compileElementSelector(t)),"$regex"!==r||e.$options||n.push(d.$regex.compileElementSelector(t,e))}):void n.push(l(e))}}),_.isEmpty(r[t._sortSpecParts[0].path])||(t._keyFilter=function(e){return _.all(t._sortSpecParts,function(t,n){return _.all(r[t.path],function(t){return t(e[n])})})})}}}});var n=function(e){return function(t,n){for(var r=0;r<e.length;++r){var o=e[r](t,n);if(0!==o)return o}return 0}}}.call(this),function(){e._compileProjection=function(t){e._checkSupportedProjection(t);var n=_.isUndefined(t._id)?!0:t._id,r=h(t),o=function(e,t){if(_.isArray(e))return _.map(e,function(e){return o(e,t)});var n=r.including?{}:y.clone(e);return _.each(t,function(t,a){_.has(e,a)&&(_.isObject(t)?_.isObject(e[a])&&(n[a]=o(e[a],t)):r.including?n[a]=y.clone(e[a]):delete n[a])}),n};return function(e){var t=o(e,r.tree);return n&&_.has(e,"_id")&&(t._id=e._id),!n&&_.has(t,"_id")&&delete t._id,t}},h=function(e){var t=_.keys(e).sort();t.length>0&&(1!==t.length||"_id"!==t[0])&&(t=_.reject(t,function(e){return"_id"===e}));var n=null;_.each(t,function(t){var o=!!e[t];if(null===n&&(n=o),n!==o)throw r("You cannot currently mix including and excluding fields.")});var o=m(t,function(){return n},function(e,t,n){var o=n,a=t;throw r("both "+o+" and "+a+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")});return{tree:o,including:n}},m=function(e,t,n,r){return r=r||{},_.each(e,function(e){var o=r,a=e.split("."),i=_.all(a.slice(0,-1),function(t,r){if(_.has(o,t)){if(!_.isObject(o[t])&&(o[t]=n(o[t],a.slice(0,r+1).join("."),e),!_.isObject(o[t])))return!1}else o[t]={};return o=o[t],!0});if(i){var s=_.last(a);o[s]=_.has(o,s)?n(o[s],e,e):t(e)}}),r},e._checkSupportedProjection=function(e){if(!_.isObject(e)||_.isArray(e))throw r("fields option must be an object");_.each(e,function(e,t){if(_.contains(t.split("."),"$"))throw r("Minimongo doesn't support $ operator in projections yet.");if(-1===_.indexOf([1,0,!0,!1],e))throw r("Projection values should be one of 1, 0, true, or false")})}}.call(this),function(){e._modify=function(e,t,i){if(i=i||{},!a(t))throw r("Modifier must be an object");var u,l=s(t);if(l)u=y.clone(e),_.each(t,function(e,t){var a=c[t];if(i.isInsert&&"$setOnInsert"===t&&(a=c.$set),!a)throw r("Invalid modifier specified "+t);_.each(e,function(e,s){if(s.length&&"."===s[s.length-1])throw r("Invalid mod field name, may not end in a period");if("_id"===s)throw r("Mod on _id not allowed");var c=s.split("."),l=(_.has(o,t),n(u,c,{noCreate:o[t],forbidArray:"$rename"===t,arrayIndices:i.arrayIndices})),d=c.pop();a(l,d,e,s,u)})});else{if(t._id&&!y.equals(e._id,t._id))throw r("Cannot change the _id of a document");for(var d in t)if(/\./.test(d))throw r("When replacing document, field name may not contain '.'");u=t}_.each(_.keys(e),function(t){("_id"!==t||i.isInsert)&&delete e[t]}),_.each(u,function(t,n){e[n]=t})};var n=function(e,t,n){n=n||{};for(var o=!1,a=0;a<t.length;a++){var s=a===t.length-1,c=t[a],l=i(e);if(!l){if(n.noCreate)return void 0;var d=r("cannot use the part '"+c+"' to traverse "+e);throw d.setPropertyError=!0,d}if(e instanceof Array){if(n.forbidArray)return null;if("$"===c){if(o)throw r("Too many positional (i.e. '$') elements");if(!n.arrayIndices||!n.arrayIndices.length)throw r("The positional operator did not find the match needed from the query");c=n.arrayIndices[0],o=!0}else{if(!u(c)){if(n.noCreate)return void 0;throw r("can't append to array using string field name ["+c+"]")}c=parseInt(c)}if(s&&(t[a]=c),n.noCreate&&c>=e.length)return void 0;for(;e.length<c;)e.push(null);if(!s)if(e.length===c)e.push({});else if("object"!=typeof e[c])throw r("can't modify field '"+t[a+1]+"' of list value "+v.stringify(e[c]))}else{if(c.length&&"$"===c.substr(0,1))throw r("can't set field named "+c);if(!(c in e)){if(n.noCreate)return void 0;s||(e[c]={})}}if(s)return e;e=e[c]}},o={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},c={$inc:function(e,t,n){if("number"!=typeof n)throw r("Modifier $inc allowed for numbers only");if(t in e){if("number"!=typeof e[t])throw r("Cannot apply $inc modifier to non-number");e[t]+=n}else e[t]=n},$set:function(e,t,n){if(!_.isObject(e)){var o=r("Cannot set property on non-object field");throw o.setPropertyError=!0,o}if(null===e){var o=r("Cannot set property on null");throw o.setPropertyError=!0,o}e[t]=y.clone(n)},$setOnInsert:function(){},$unset:function(e,t){void 0!==e&&(e instanceof Array?t in e&&(e[t]=null):delete e[t])},$push:function(n,o,a){if(void 0===n[o]&&(n[o]=[]),!(n[o]instanceof Array))throw r("Cannot apply $push modifier to non-array");if(!a||!a.$each)return void n[o].push(y.clone(a));var i=a.$each;if(!(i instanceof Array))throw r("$each must be an array");var s=void 0;if("$slice"in a){if("number"!=typeof a.$slice)throw r("$slice must be a numeric value");if(a.$slice>0)throw r("$slice in $push must be zero or negative");s=a.$slice}var u=void 0;if(a.$sort){if(void 0===s)throw r("$sort requires $slice to be present");u=new t.Sorter(a.$sort).getComparator();for(var c=0;c<i.length;c++)if(3!==e._f._type(i[c]))throw r("$push like modifiers using $sort require all elements to be objects")}for(var l=0;l<i.length;l++)n[o].push(y.clone(i[l]));u&&n[o].sort(u),void 0!==s&&(n[o]=0===s?[]:n[o].slice(s))},$pushAll:function(e,t,n){if(!("object"==typeof n&&n instanceof Array))throw r("Modifier $pushAll/pullAll allowed for arrays only");var o=e[t];if(void 0===o)e[t]=n;else{if(!(o instanceof Array))throw r("Cannot apply $pushAll modifier to non-array");for(var a=0;a<n.length;a++)o.push(n[a])}},$addToSet:function(t,n,o){var a=t[n];if(void 0===a)t[n]=[o];else{if(!(a instanceof Array))throw r("Cannot apply $addToSet modifier to non-array");var i=!1;if("object"==typeof o)for(var s in o){"$each"===s&&(i=!0);break}var u=i?o.$each:[o];_.each(u,function(t){for(var n=0;n<a.length;n++)if(e._f._equal(t,a[n]))return;a.push(y.clone(t))})}},$pop:function(e,t,n){if(void 0!==e){var o=e[t];if(void 0!==o){if(!(o instanceof Array))throw r("Cannot apply $pop modifier to non-array");"number"==typeof n&&0>n?o.splice(0,1):o.pop()}}},$pull:function(n,o,a){if(void 0!==n){var i=n[o];if(void 0!==i){if(!(i instanceof Array))throw r("Cannot apply $pull/pullAll modifier to non-array");var s=[];if("object"!=typeof a||a instanceof Array)for(var u=0;u<i.length;u++)e._f._equal(i[u],a)||s.push(i[u]);else for(var c=new t.Matcher(a),u=0;u<i.length;u++)c.documentMatches(i[u]).result||s.push(i[u]);n[o]=s}}},$pullAll:function(t,n,o){if(!("object"==typeof o&&o instanceof Array))throw r("Modifier $pushAll/pullAll allowed for arrays only");if(void 0!==t){var a=t[n];if(void 0!==a){if(!(a instanceof Array))throw r("Cannot apply $pull/pullAll modifier to non-array");for(var i=[],s=0;s<a.length;s++){for(var u=!1,c=0;c<o.length;c++)if(e._f._equal(a[s],o[c])){u=!0;break}u||i.push(a[s])}t[n]=i}}},$rename:function(e,t,o,a,i){if(a===o)throw r("$rename source must differ from target");if(null===e)throw r("$rename source field invalid");if("string"!=typeof o)throw r("$rename target must be a string");if(void 0!==e){var s=e[t];delete e[t];var u=o.split("."),c=n(i,u,{forbidArray:!0});if(null===c)throw r("$rename target field invalid");var l=u.pop();c[l]=s}},$bit:function(){throw r("$bit is not supported")}}}.call(this),function(){e._diffQueryChanges=function(t,n,r,o){t?e._diffQueryOrderedChanges(n,r,o):e._diffQueryUnorderedChanges(n,r,o)},e._diffQueryUnorderedChanges=function(t,n,r){if(r.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");n.forEach(function(n,o){var a=t.get(o);if(a)r.changed&&!y.equals(a,n)&&r.changed(o,e._makeChangedFields(n,a));else if(r.added){var i=y.clone(n);delete i._id,r.added(n._id,i)}}),r.removed&&t.forEach(function(e,t){n.has(t)||r.removed(t)})},e._diffQueryOrderedChanges=function(t,n,r){var o={};_.each(n,function(e){o[e._id]&&g._debug("Duplicate _id in new_results"),o[e._id]=!0});var a={};_.each(t,function(e,t){e._id in a&&g._debug("Duplicate _id in old_results"),a[e._id]=t});for(var i=[],s=0,u=n.length,c=new Array(u),l=new Array(u),d=function(e){return a[n[e]._id]},p=0;u>p;p++)if(void 0!==a[n[p]._id]){for(var f=s;f>0&&!(d(c[f-1])<d(p));)f--;l[p]=0===f?-1:c[f-1],c[f]=p,f+1>s&&(s=f+1)}for(var h=0===s?-1:c[s-1];h>=0;)i.push(h),h=l[h];i.reverse(),i.push(n.length),_.each(t,function(e){o[e._id]||r.removed&&r.removed(e._id)});var m=0;_.each(i,function(o){for(var i,s,u,c=n[o]?n[o]._id:null,l=m;o>l;l++)s=n[l],_.has(a,s._id)?(i=t[a[s._id]],u=e._makeChangedFields(s,i),_.isEmpty(u)||r.changed&&r.changed(s._id,u),r.movedBefore&&r.movedBefore(s._id,c)):(u=y.clone(s),delete u._id,r.addedBefore&&r.addedBefore(s._id,u,c),r.added&&r.added(s._id,u));c&&(s=n[o],i=t[a[s._id]],u=e._makeChangedFields(s,i),_.isEmpty(u)||r.changed&&r.changed(s._id,u)),m=o+1})},e._diffObjects=function(e,t,n){_.each(e,function(e,r){_.has(t,r)?n.both&&n.both(r,e,t[r]):n.leftOnly&&n.leftOnly(r,e)}),n.rightOnly&&_.each(t,function(t,r){_.has(e,r)||n.rightOnly(r,t)})}}.call(this),function(){e._IdMap=function(){var t=this;b.call(t,e._idStringify,e._idParse)},g._inherits(e._IdMap,b)}.call(this),function(){e._CachingChangeObserver=function(t){var n=this;t=t||{};var r=t.callbacks&&e._observeChangesCallbacksAreOrdered(t.callbacks);if(_.has(t,"ordered")){if(n.ordered=t.ordered,t.callbacks&&t.ordered!==r)throw Error("ordered option doesn't match callbacks")}else{if(!t.callbacks)throw Error("must provide ordered or callbacks");n.ordered=r}var o=t.callbacks||{};n.ordered?(n.docs=new k(e._idStringify),n.applyChange={addedBefore:function(e,t,r){var a=y.clone(t);a._id=e,o.addedBefore&&o.addedBefore.call(n,e,t,r),o.added&&o.added.call(n,e,t),n.docs.putBefore(e,a,r||null)},movedBefore:function(e,t){n.docs.get(e);o.movedBefore&&o.movedBefore.call(n,e,t),n.docs.moveBefore(e,t||null)}}):(n.docs=new e._IdMap,n.applyChange={added:function(e,t){var r=y.clone(t);o.added&&o.added.call(n,e,t),r._id=e,n.docs.set(e,r)}}),n.applyChange.changed=function(t,r){var a=n.docs.get(t);if(!a)throw new Error("Unknown id for changed: "+t);o.changed&&o.changed.call(n,t,y.clone(r)),e._applyChanges(a,r)},n.applyChange.removed=function(e){o.removed&&o.removed.call(n,e),n.docs.remove(e)}},e._observeFromObserveChanges=function(t,n){var r,o=t.getTransform()||function(e){return e},a=!!n._suppress_initial;if(e._observeCallbacksAreOrdered(n)){var i=!n._no_indices;r={addedBefore:function(e,t,r){var s=this;if(!a&&(n.addedAt||n.added)){var u=o(_.extend(t,{_id:e}));if(n.addedAt){var c=i?r?s.docs.indexOf(r):s.docs.size():-1;n.addedAt(u,c,r)}else n.added(u)}},changed:function(t,r){var a=this;if(n.changedAt||n.changed){var s=y.clone(a.docs.get(t));if(!s)throw new Error("Unknown id for changed: "+t);var u=o(y.clone(s));if(e._applyChanges(s,r),s=o(s),n.changedAt){var c=i?a.docs.indexOf(t):-1;n.changedAt(s,u,c)}else n.changed(s,u)}},movedBefore:function(e,t){var r=this;if(n.movedTo){var a=i?r.docs.indexOf(e):-1,s=i?t?r.docs.indexOf(t):r.docs.size():-1;s>a&&--s,n.movedTo(o(y.clone(r.docs.get(e))),a,s,t||null)}},removed:function(e){var t=this;if(n.removedAt||n.removed){var r=o(t.docs.get(e));if(n.removedAt){var a=i?t.docs.indexOf(e):-1;n.removedAt(r,a)}else n.removed(r)}}}}else r={added:function(e,t){if(!a&&n.added){var r=_.extend(t,{_id:e});n.added(o(r))}},changed:function(t,r){var a=this;if(n.changed){var i=a.docs.get(t),s=y.clone(i);e._applyChanges(s,r),n.changed(o(s),o(i))}},removed:function(e){var t=this;n.removed&&n.removed(o(t.docs.get(e)))}};var s=new e._CachingChangeObserver({callbacks:r}),u=t.observeChanges(s.applyChange);return a=!1,s.ordered&&(u._fetch=function(){var e=[];return s.docs.forEach(function(t){e.push(o(y.clone(t)))}),e}),u}}.call(this),function(){e._looksLikeObjectID=function(e){return 24===e.length&&e.match(/^[0-9a-f]*$/)},e._ObjectID=function(t){var n=this;if(t){if(t=t.toLowerCase(),!e._looksLikeObjectID(t))throw new Error("Invalid hexadecimal string for creating an ObjectID");n._str=t}else n._str=S.hexString(24)},e._ObjectID.prototype.toString=function(){var e=this;return'ObjectID("'+e._str+'")'},e._ObjectID.prototype.equals=function(t){var n=this;return t instanceof e._ObjectID&&n.valueOf()===t.valueOf()},e._ObjectID.prototype.clone=function(){var t=this;return new e._ObjectID(t._str)},e._ObjectID.prototype.typeName=function(){return"oid"},e._ObjectID.prototype.getTimestamp=function(){var e=this;return parseInt(e._str.substr(0,8),16)},e._ObjectID.prototype.valueOf=e._ObjectID.prototype.toJSONValue=e._ObjectID.prototype.toHexString=function(){return this._str},e._selectorIsId=function(t){return"string"==typeof t||"number"==typeof t||t instanceof e._ObjectID},e._selectorIsIdPerhapsAsObject=function(t){return e._selectorIsId(t)||t&&"object"==typeof t&&t._id&&e._selectorIsId(t._id)&&1===_.size(t)},e._idsMatchedBySelector=function(t){if(e._selectorIsId(t))return[t];if(!t)return null;if(_.has(t,"_id"))return e._selectorIsId(t._id)?[t._id]:t._id&&t._id.$in&&_.isArray(t._id.$in)&&!_.isEmpty(t._id.$in)&&_.all(t._id.$in,e._selectorIsId)?t._id.$in:null;if(t.$and&&_.isArray(t.$and))for(var n=0;n<t.$and.length;++n){var r=e._idsMatchedBySelector(t.$and[n]);if(r)return r}return null},y.addType("oid",function(t){return new e._ObjectID(t)})}.call(this),"undefined"==typeof Package&&(Package={}),Package.minimongo={LocalCollection:e,Minimongo:t,MinimongoTest:n}}(),function(){{var e,t,n,r,o,a,i,s,u,c,l,d,p,f=Package.meteor.Meteor,h=(Package.check.check,Package.check.Match,Package.random.Random),m=Package.ejson.EJSON,g=Package.json.JSON,_=Package.underscore._,v=Package.deps.Deps,y=(Package.logging.Log,Package.retry.Retry),b=Package.minimongo.LocalCollection;Package.minimongo.Minimongo}(function(){t={}}).call(this),function(){n=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];-1===n.arrIndexOf(r,t)&&r.push(t)},r.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var r=this._listeners[e],o=n.arrIndexOf(r,t);return-1!==o?void(r.length>1?this._listeners[e]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[e]):void 0}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var o=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var a=function(e){var t=this;t._events=e||[],t._listeners={}};a.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)}},a.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},a.prototype._verifyType=function(e){var t=this;-1===n.arrIndexOf(t._events,e)&&n.log("Event "+g.stringify(e)+" not listed "+g.stringify(t._events)+" in "+t)},a.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var i="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||i.length;var n,r=[];for(n=0;e>n;n++)r.push(i.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var s="_jp";n.polluteGlobalNamespace=function(){s in t||(t[s]={})},n.closeFrame=function(e,t){return"c"+g.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&4999>=e},n.countRTO=function(e){var t;return t=e>100?3*e:e+200},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return-1===e.indexOf("?")&&-1===e.indexOf("#")},n.amendUrl=function(t,r){var o;if(void 0===r)o=e.location;else{var a=/^([a-z0-9.+-]+:)/i.exec(r);if(a){var i=a[0].toLowerCase(),s=r.substring(i.length),u=/[a-z0-9\.-]+(:[0-9]+)?/.exec(s);if(u)var c=u[0]}if(!i||!c)throw new Error("relativeTo must be an absolute url");o={protocol:i,host:c}}if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");0===t.indexOf("//")&&(t=o.protocol+t),0===t.indexOf("/")&&(t=o.protocol+"//"+o.host+t),t=t.replace(/[/]+$/,"");var l=t.split("/");return("http:"===l[0]&&/:80$/.test(l[2])||"https:"===l[0]&&/:443$/.test(l[2]))&&(l[2]=l[2].replace(/:(80|443)$/,"")),t=l.join("/")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(-1===r)return e.slice();var o=e.slice(0,r);return o.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var u,c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\x00":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","﻿":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},d=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,p=g&&g.stringify||function(e){return c.lastIndex=0,c.test(e)&&(e=e.replace(c,function(e){return l[e]})),'"'+e+'"'},f=function(e){var t,n={},r=[];for(t=0;65536>t;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=p(e);return d.lastIndex=0,d.test(t)?(u||(u=f(d)),t.replace(d,function(e){return u[e]})):t};var h=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<h.length;t++){var n=h[t];e[n]=M[n]&&M[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},o=[];t||(t=h);for(var a=0;a<t.length;a++){var i=t[a];r[i]=e[i]}var s=function(e){var t=e.shift();r[t]?o.push(t):e.length>0&&s(e)};return n.websocket!==!1&&s(["websocket"]),r["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?s(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?s(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var m="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(m in t)){var r={};t[m]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[m](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var _={},v=!1,y=function(){for(var e in _)_[e](),delete _[e]},b=function(){v||(v=!0,y())};n.attachEvent("unload",b),n.unload_add=function(e){var t=n.random_string(8);return _[t]=e,v&&n.delay(y),t},n.unload_del=function(e){e in _&&delete _[e]},n.createIframe=function(t,r){var o,a,i=e.createElement("iframe"),s=function(){clearTimeout(o);try{i.onload=null}catch(e){}i.onerror=null},u=function(){i&&(s(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),n.unload_del(a))},c=function(e){i&&(u(),r(e))},l=function(e,t){try{i&&i.contentWindow&&i.contentWindow.postMessage(e,t)}catch(n){}};return i.src=t,i.style.display="none",i.style.position="absolute",i.onerror=function(){c("onerror")},i.onload=function(){clearTimeout(o),o=setTimeout(function(){c("onload timeout")},2e3)},e.body.appendChild(i),o=setTimeout(function(){c("timeout")},15e3),a=n.unload_add(u),{post:l,cleanup:u,loaded:s}},n.createHtmlfile=function(e,r){var o,a,i,u=new ActiveXObject("htmlfile"),c=function(){clearTimeout(o)},l=function(){u&&(c(),n.unload_del(a),i.parentNode.removeChild(i),i=u=null,CollectGarbage())},d=function(e){u&&(l(),r(e))},p=function(e,t){try{i&&i.contentWindow&&i.contentWindow.postMessage(e,t)}catch(n){}};u.open(),u.write('<html><script>document.domain="'+document.domain+'";</script></html>'),u.close(),u.parentWindow[s]=t[s];var f=u.createElement("div");return u.body.appendChild(f),i=u.createElement("iframe"),f.appendChild(i),i.src=e,o=setTimeout(function(){d("timeout")},15e3),a=n.unload_add(l),{post:p,cleanup:l,loaded:c}};var k=function(){};k.prototype=new a(["chunk","finish"]),k.prototype._start=function(e,r,o,a){var i=this;try{i.xhr=new XMLHttpRequest}catch(s){}if(!i.xhr)try{i.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(s){}(t.ActiveXObject||t.XDomainRequest)&&(r+=(-1===r.indexOf("?")?"?":"&")+"t="+ +new Date),i.unload_ref=n.unload_add(function(){i._cleanup(!0)});try{i.xhr.open(e,r,!0)}catch(u){return i.emit("finish",0,""),void i._cleanup()}if(a&&a.no_credentials||(i.xhr.withCredentials="true"),a&&a.headers)for(var c in a.headers)i.xhr.setRequestHeader(c,a.headers[c]);i.xhr.onreadystatechange=function(){if(i.xhr){var e=i.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&i.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),i.emit("finish",t,e.responseText),i._cleanup(!1)}}},i.xhr.send(o)},k.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(r){}t.unload_ref=t.xhr=null}},k.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var w=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};w.prototype=new k;var S=n.XHRLocalObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r,{no_credentials:!0})})};S.prototype=new k;var T=n.XDRObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r)})};T.prototype=new a(["chunk","finish"]),T.prototype._start=function(e,t,r){var o=this,a=new XDomainRequest;t+=(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date;var i=a.ontimeout=a.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};a.onprogress=function(){o.emit("chunk",200,a.responseText)},a.onload=function(){o.emit("finish",200,a.responseText),o._cleanup(!1)},o.xdr=a,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(e,t),o.xdr.send(r)}catch(s){i()}},T.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(r){}t.unload_ref=t.xdr=null}},T.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:H.enabled()?3:4};var M=function(e,t,r){if(!(this instanceof M))return new M(e,t,r);var o,a=this;a._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(a._options,r),a._base_url=n.amendUrl(e),a._server=a._options.server||n.random_number_string(1e3),a._options.protocols_whitelist&&a._options.protocols_whitelist.length?o=a._options.protocols_whitelist:(o="string"==typeof t&&t.length>0?[t]:n.isArray(t)?t:null,o&&a._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),a._protocols=[],a.protocol=null,a.readyState=M.CONNECTING,a._ir=$(a._base_url),a._ir.onfinish=function(e,t){a._ir=null,e?(a._options.info&&(e=n.objectExtend(e,a._options.info)),a._options.rtt&&(t=a._options.rtt),a._applyInfo(e,t,o),a._didClose()):a._didClose(1002,"Can't connect to server",!0)
}};M.prototype=new r,M.version="0.3.4",M.CONNECTING=0,M.OPEN=1,M.CLOSING=2,M.CLOSED=3,M.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},M.prototype._dispatchOpen=function(){var e=this;e.readyState===M.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=M.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},M.prototype._dispatchMessage=function(e){var t=this;t.readyState===M.OPEN&&t.dispatchEvent(new o("message",{data:e}))},M.prototype._dispatchHeartbeat=function(){var e=this;e.readyState===M.OPEN&&e.dispatchEvent(new o("heartbeat",{}))},M.prototype._didClose=function(e,t,r){var a=this;if(a.readyState!==M.CONNECTING&&a.readyState!==M.OPEN&&a.readyState!==M.CLOSING)throw new Error("INVALID_STATE_ERR");a._ir&&(a._ir.nuke(),a._ir=null),a._transport&&(a._transport.doCleanup(),a._transport=null);var i=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&a.readyState===M.CONNECTING&&!r){if(a._try_next_protocol(i))return;i=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:i})}a.readyState=M.CLOSED,n.delay(function(){a.dispatchEvent(i)})},M.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var r=g.parse(e.slice(1)||"[]"),o=0;o<r.length;o++)t._dispatchMessage(r[o]);break;case"m":var r=g.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=g.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},M.prototype._try_next_protocol=function(t){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var o=r.protocol=r._protocols.shift();if(!o)return!1;if(M[o]&&M[o].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return r._protocols.unshift(o),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(M[o]&&M[o].enabled(r._options)){var a=M[o].roundTrips||1,i=(r._options.rto||0)*a||5e3;r._transport_tref=n.delay(i,function(){r.readyState===M.CONNECTING&&r._didClose(2007,"Transport timeouted")});var s=n.random_string(8),u=r._base_url+"/"+r._server+"/"+s;return r._debug("Opening transport:",o," url:"+u," RTO:"+r._options.rto),r._transport=new M[o](r,u,r._base_url),!0}r._debug("Skipping transport:",o)}},M.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return r.readyState!==M.CONNECTING&&r.readyState!==M.OPEN?!1:(r.readyState=M.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},M.prototype.send=function(e){var t=this;if(t.readyState===M.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===M.OPEN&&t._transport.doSend(n.quote(""+e)),!0},M.prototype._applyInfo=function(t,r,o){var a=this;a._options.info=t,a._options.rtt=r,a._options.rto=n.countRTO(r),a._options.info.null_origin=!e.domain,t.base_url&&(a._base_url=n.amendUrl(t.base_url,a._base_url));var i=n.probeProtocols();a._protocols=n.detectProtocols(i,o,t),n.isSameOriginScheme(a._base_url)||2!==n.isXHRCorsCapable()||(a._protocols=["jsonp-polling"])};var L=M.websocket=function(e,r){var o=this,a=r+"/websocket";a="https"===a.slice(0,5)?"wss"+a.slice(5):"ws"+a.slice(4),o.ri=e,o.url=a;var i=t.WebSocket||t.MozWebSocket;o.ws=new i(o.url),o.ws.onmessage=function(e){o.ri._didMessage(e.data)},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};L.prototype.doSend=function(e){this.ws.send("["+e+"]")},L.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},L.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},L.roundTrips=2;var D=function(){};D.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},D.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},D.prototype.send_schedule_wait=function(){var e,t=this;t.send_stop=function(){t.send_stop=null,clearTimeout(e)},e=n.delay(25,function(){t.send_stop=null,t.send_schedule()})},D.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},D.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var P=function(t,r,o){var a=this;if(!("_send_form"in a)){var i=a._send_form=e.createElement("form"),s=a._send_area=e.createElement("textarea");s.name="d",i.style.display="none",i.style.position="absolute",i.method="POST",i.enctype="application/x-www-form-urlencoded",i.acceptCharset="UTF-8",i.appendChild(s),e.body.appendChild(i)}var i=a._send_form,s=a._send_area,u="a"+n.random_string(8);i.target=u,i.action=t+"/jsonp_send?i="+u;var c;try{c=e.createElement('<iframe name="'+u+'">')}catch(l){c=e.createElement("iframe"),c.name=u}c.id=u,i.appendChild(c),c.style.display="none";try{s.value=r}catch(d){n.log("Your browser is seriously broken. Go home! "+d.message)}i.submit();var p=function(){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,n.delay(500,function(){c.parentNode.removeChild(c),c=null}),s.value="",o(!0))};return c.onerror=c.onload=p,c.onreadystatechange=function(){"complete"==c.readyState&&p()},p},C=function(e){return function(t,n,r){var o=new e("POST",t+"/xhr_send",n);return o.onfinish=function(e){r(200===e||204===e,"http status "+e)},function(e){r(!1,e)}}},E=function(t,r){var o,a,i=e.createElement("script"),s=function(e){a&&(a.parentNode.removeChild(a),a=null),i&&(clearTimeout(o),i.parentNode.removeChild(i),i.onreadystatechange=i.onerror=i.onload=i.onclick=null,i=null,r(e),r=null)},u=!1,c=null;if(i.id="a"+n.random_string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=function(){c||(c=setTimeout(function(){u||s(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},i.onload=function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){u=!0;try{i.onclick()}catch(e){}}i&&s(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof i.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))a=e.createElement("script"),a.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=a.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(l){}i.async=!0}"undefined"!=typeof i.async&&(i.async=!0),o=setTimeout(function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var d=e.getElementsByTagName("head")[0];return d.insertBefore(i,d.firstChild),a&&d.insertBefore(a,d.firstChild),s},x=M["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(P),r._schedule_recv()};x.prototype=new D,x.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=I(e.trans_url+"/jsonp",E,t)},x.enabled=function(){return!0},x.need_body=!0,x.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var I=function(e,r,o){var a="a"+n.random_string(6),i=e+"?c="+escape(s+"."+a),u=0,c=function(e){switch(u){case 0:delete t[s][a],o(e);break;case 1:o(e),u=2;break;case 2:delete t[s][a]}},l=r(i,c);t[s][a]=l;var d=function(){t[s][a]&&(u=1,t[s][a](n.closeFrame(1e3,"JSONP user aborted read")))};return d},A=function(){};A.prototype=new D,A.prototype.run=function(e,t,n,r,o){var a=this;a.ri=e,a.trans_url=t,a.send_constructor(C(o)),a.poll=new Z(e,r,t+n,o)},A.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var O=M["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",ot,n.XHRCorsObject)};O.prototype=new A,O.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},O.roundTrips=2,O.need_body=!0;var N=M["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",ot,n.XDRObject)};N.prototype=new A,N.enabled=function(){return!!t.XDomainRequest},N.roundTrips=2;var Y=M["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XHRCorsObject)};Y.prototype=new A,Y.enabled=O.enabled,Y.roundTrips=2;var F=M["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XDRObject)};F.prototype=new A,F.enabled=N.enabled,F.roundTrips=2;var H=function(){};H.prototype.i_constructor=function(e,t,r){var o=this;o.ri=e,o.origin=n.getOrigin(r),o.base_url=r,o.trans_url=t;var a=r+"/iframe.html";o.ri._options.devel&&(a+="?t="+ +new Date),o.window_id=n.random_string(8),a+="#"+o.window_id,o.iframeObj=n.createIframe(a,function(e){o.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},H.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},H.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),r=e.data.slice(8,9),o=e.data.slice(9);if(n===t.window_id)switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",g.stringify([M.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(o)}}},H.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},H.prototype.doSend=function(e){this.postMessage("m",e)},H.enabled=function(){var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var V,B=function(e,r){parent!==t?parent.postMessage(V+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},R=function(){};R.prototype._didClose=function(e,t){B("t",n.closeFrame(e,t))},R.prototype._didMessage=function(e){B("t",e)},R.prototype._doSend=function(e){this._transport.doSend(e)},R.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,M.bootstrap_iframe=function(){var r;V=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),a=e.data.slice(8,9),i=e.data.slice(9);if(o===V)switch(a){case"s":var s=g.parse(i),u=s[0],c=s[1],l=s[2],d=s[3];if(u!==M.version&&n.log('Incompatibile SockJS! Main site uses: "'+u+'", the iframe: "'+M.version+'".'),!n.flatUrl(l)||!n.flatUrl(d))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(l)||!n.isSameOriginUrl(d))return void n.log("Can't connect to different domain from within an iframe. ("+g.stringify([t.location.href,l,d])+")");r=new R,r._transport=new R[c](r,l,d);break;case"m":r._doSend(i);break;case"c":r&&r._doCleanup(),r=null}}};n.attachMessage(o),B("s")};var U=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};U.prototype=new a(["finish"]),U.prototype.doXhr=function(e,t){var r=this,o=(new Date).getTime(),a=new t("GET",e+"/info?cb="+n.random_string(10)),i=n.delay(8e3,function(){a.ontimeout()});a.onfinish=function(e,t){if(clearTimeout(i),i=null,200===e){var n=(new Date).getTime()-o,a=g.parse(t);"object"!=typeof a&&(a={}),r.emit("finish",a,n)}else r.emit("finish")},a.ontimeout=function(){a.close(),r.emit("finish")}};var j=function(t){var r=this,o=function(){var e=new H;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=g.parse(t.substr(1)),o=n[0],a=n[1];r.emit("finish",o,a)}else r.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};j.prototype=new a(["finish"]);var z=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};z.prototype=new a(["finish"]);var $=function(e){if(n.isSameOriginUrl(e))return new U(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new U(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new U(e,n.XDRObject):new z;case 3:return new j(e);default:return new z}},q=R["w-iframe-info-receiver"]=function(e,t,r){var o=new U(r,n.XHRLocalObject);o.onfinish=function(t,n){e._didMessage("m"+g.stringify([t,n])),e._didClose()}};q.prototype.doCleanup=function(){};var W=M["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};W.prototype=new H,W.enabled=function(){return"EventSource"in t&&H.enabled()},W.need_body=!0,W.roundTrips=3;var G=R["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",et,n.XHRLocalObject)};G.prototype=new A;var K=M["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};K.prototype=new H,K.enabled=function(){return t.XMLHttpRequest&&H.enabled()},K.need_body=!0,K.roundTrips=3;var J=R["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XHRLocalObject)};J.prototype=new A;var Q=M["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};Q.prototype=new H,Q.enabled=function(){return H.enabled()},Q.need_body=!0,Q.roundTrips=3;var X=R["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",rt,n.XHRLocalObject)};X.prototype=new A;var Z=function(e,t,n,r){var o=this;o.ri=e,o.Receiver=t,o.recv_url=n,o.AjaxObject=r,o._scheduleRecv()};Z.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},Z.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var et=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,a){var i=a?"user":2!==r.readyState?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:i}))})}};et.prototype=new r,et.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var tt,nt=function(){if(void 0===tt)if("ActiveXObject"in t)try{tt=!!new ActiveXObject("htmlfile")}catch(e){}else tt=!1;return tt},rt=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(-1===e.indexOf("?")?"?":"&")+"c="+escape(s+"."+r.id);var a,i=nt()?n.createHtmlfile:n.createIframe;t[s][r.id]={start:function(){a.loaded()},message:function(e){r.dispatchEvent(new o("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){a.cleanup(),r.iframe_close=a=null,delete t[s][r.id],r.dispatchEvent(new o("close",{reason:n}))},a=i(e,function(){r.iframe_close({},"permanent")})};rt.prototype=new r,rt.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var ot=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var a=t.slice(r),i=a.indexOf("\n");if(-1===i)break;r+=i+1;var s=a.slice(0,i);n.dispatchEvent(new o("message",{data:s}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:r}))}};return ot.prototype=new r,ot.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},M.getUtils=function(){return n},M.getIframeTransport=function(){return H},M}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return n})}.call(this),function(){t.ClientStream=function(e,t){var n=this;n.options=_.extend({retry:!0},t),n._initCommon(),n.HEARTBEAT_TIMEOUT=1e5,n.rawUrl=e,n.socket=null,n.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",_.bind(n._online,n),!1),n._launchConnection()},_.extend(t.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){var t=this;t.rawUrl=e},_connected:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.currentStatus.connected||(e.currentStatus.status="connected",e.currentStatus.connected=!0,e.currentStatus.retryCount=0,e.statusChanged(),_.each(e.eventCallbacks.reset,function(e){e()}))},_cleanup:function(){var e=this;e._clearConnectionAndHeartbeatTimers(),e.socket&&(e.socket.onmessage=e.socket.onclose=e.socket.onerror=e.socket.onheartbeat=function(){},e.socket.close(),e.socket=null),_.each(e.eventCallbacks.disconnect,function(e){e()})},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var e=this;f._debug("Connection timeout. No sockjs heartbeat received."),e._lostConnection()},_heartbeat_received:function(){var e=this;e._forcedToDisconnect||(e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(_.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT))},_sockjsProtocolsWhitelist:function(){var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],t=navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent);return t||(e=["websocket"].concat(e)),e},_launchConnection:function(){var e=this;e._cleanup();var t=_.extend({protocols_whitelist:e._sockjsProtocolsWhitelist()},e.options._sockjsOptions);e.socket=new n(r(e.rawUrl),void 0,t),e.socket.onopen=function(){e._connected()},e.socket.onmessage=function(t){e._heartbeat_received(),e.currentStatus.connected&&_.each(e.eventCallbacks.message,function(e){e(t.data)})},e.socket.onclose=function(){e._lostConnection()},e.socket.onerror=function(){f._debug("stream error",_.toArray(arguments),(new Date).toDateString())},e.socket.onheartbeat=function(){e._heartbeat_received()},e.connectionTimer&&clearTimeout(e.connectionTimer),e.connectionTimer=setTimeout(_.bind(e._lostConnection,e),e.CONNECT_TIMEOUT)}})}.call(this),function(){var e=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},n=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},a=function(t,r,o){r||(r="http");var a,i=t.match(/^ddp(i?)\+sockjs:\/\//),s=t.match(/^http(s?):\/\//);if(i){var u=t.substr(i[0].length);a="i"===i[1]?r:r+"s";var c=u.indexOf("/"),l=-1===c?u:u.substr(0,c),d=-1===c?"":u.substr(c);return l=l.replace(/\*/g,function(){return Math.floor(10*h.fraction())}),a+"://"+l+d}if(s){a=s[1]?r+"s":r;var p=t.substr(s[0].length);t=a+"://"+p}return-1!==t.indexOf("://")||e(t,"/")||(t=r+"://"+t),t=f._relativeToSiteRootUrl(t),n(t,"/")?t+o:t+"/"+o};r=function(e){return a(e,"http","sockjs")},o=function(e){var t=a(e,"ws","websocket");return t},t.toSockjsUrl=r,_.extend(t.ClientStream.prototype,{on:function(e,t){var n=this;if("message"!==e&&"reset"!==e&&"disconnect"!==e)throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(){var e=this;e.CONNECT_TIMEOUT=1e4,e.eventCallbacks={},e._forcedToDisconnect=!1,e.currentStatus={status:"connecting",connected:!1,retryCount:0},e.statusListeners="undefined"!=typeof v&&new v.Dependency,e.statusChanged=function(){e.statusListeners&&e.statusListeners.changed()},e._retry=new y,e.connectionTimer=null},reconnect:function(e){var t=this;return e=e||{},e.url&&t._changeUrl(e.url),e._sockjsOptions&&(t.options._sockjsOptions=e._sockjsOptions),t.currentStatus.connected?void((e._force||e.url)&&t._lostConnection()):("connecting"===t.currentStatus.status&&t._lostConnection(),t._retry.clear(),t.currentStatus.retryCount-=1,void t._retryNow())},disconnect:function(e){var t=this;e=e||{},t._forcedToDisconnect||(e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t._retry.clear(),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged())},_lostConnection:function(){var e=this;e._cleanup(),e._retryLater()},_online:function(){"offline"!=this.currentStatus.status&&this.reconnect()},_retryLater:function(){var e=this,t=0;e.options.retry&&(t=e._retry.retryLater(e.currentStatus.retryCount,_.bind(e._retryNow,e))),e.currentStatus.status="waiting",e.currentStatus.connected=!1,e.currentStatus.retryTime=(new Date).getTime()+t,e.statusChanged()},_retryNow:function(){var e=this;e._forcedToDisconnect||(e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection())},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}})}.call(this),function(){a=function(e){var t=this;t.heartbeatInterval=e.heartbeatInterval,t.heartbeatTimeout=e.heartbeatTimeout,t._sendPing=e.sendPing,t._onTimeout=e.onTimeout,t._heartbeatIntervalHandle=null,t._heartbeatTimeoutHandle=null},_.extend(a.prototype,{stop:function(){var e=this;e._clearHeartbeatIntervalTimer(),e._clearHeartbeatTimeoutTimer()},start:function(){var e=this;e.stop(),e._startHeartbeatIntervalTimer()},_startHeartbeatIntervalTimer:function(){var e=this;e._heartbeatIntervalHandle=f.setTimeout(_.bind(e._heartbeatIntervalFired,e),e.heartbeatInterval)},_startHeartbeatTimeoutTimer:function(){var e=this;e._heartbeatTimeoutHandle=f.setTimeout(_.bind(e._heartbeatTimeoutFired,e),e.heartbeatTimeout)},_clearHeartbeatIntervalTimer:function(){var e=this;e._heartbeatIntervalHandle&&(f.clearTimeout(e._heartbeatIntervalHandle),e._heartbeatIntervalHandle=null)},_clearHeartbeatTimeoutTimer:function(){var e=this;e._heartbeatTimeoutHandle&&(f.clearTimeout(e._heartbeatTimeoutHandle),e._heartbeatTimeoutHandle=null)},_heartbeatIntervalFired:function(){var e=this;e._heartbeatIntervalHandle=null,e._sendPing(),e._startHeartbeatTimeoutTimer()},_heartbeatTimeoutFired:function(){var e=this;e._heartbeatTimeoutHandle=null,e._onTimeout()},pingReceived:function(){var e=this;e._heartbeatIntervalHandle&&(e._clearHeartbeatIntervalTimer(),e._startHeartbeatIntervalTimer())},pongReceived:function(){var e=this;e._heartbeatTimeoutHandle&&(e._clearHeartbeatTimeoutTimer(),e._startHeartbeatIntervalTimer())}})}.call(this),function(){e={},i=["pre2","pre1"],t.SUPPORTED_DDP_VERSIONS=i,s=function(e){this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null},_.extend(s.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)}}),u=function(e){try{var t=g.parse(e)}catch(n){return f._debug("Discarding message with invalid JSON",e),null}return null===t||"object"!=typeof t?(f._debug("Discarding non-object DDP message",e),null):(_.has(t,"cleared")&&(_.has(t,"fields")||(t.fields={}),_.each(t.cleared,function(e){t.fields[e]=void 0}),delete t.cleared),_.each(["fields","params","result"],function(e){_.has(t,e)&&(t[e]=m._adjustTypesFromJSONValue(t[e]))}),t)},c=function(e){var t=m.clone(e);if(_.has(e,"fields")){var n=[];_.each(e.fields,function(e,r){void 0===e&&(n.push(r),delete t.fields[r])}),_.isEmpty(n)||(t.cleared=n),_.isEmpty(t.fields)&&delete t.fields}if(_.each(["fields","params","result"],function(e){_.has(t,e)&&(t[e]=m._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return g.stringify(t)},e._CurrentInvocation=new f.EnvironmentVariable}.call(this),function(){function t(){return h.hexString(20)}l=function(e){this.seed=[].concat(e.seed||t()),this.sequences={}},l.get=function(e,t){if(t||(t="default"),!e)return h;var n=e.randomStream;return n||(e.randomStream=n=new l({seed:e.randomSeed})),n._sequence(t)},e.randomStream=function(t){var n=e._CurrentInvocation.get();return l.get(n,t)},d=function(e,t){var n=l.get(e,"/rpc/"+t);return n.hexString(20)},_.extend(l.prototype,{_sequence:function(e){var t=this,n=t.sequences[e]||null;if(null===n){for(var r=t.seed.concat(e),o=0;o<r.length;o++)_.isFunction(r[o])&&(r[o]=r[o]());t.sequences[e]=n=h.createWithSeeds.apply(null,r)}return n}})}.call(this),function(){if(f.isServer)var n=Npm.require("path"),r=(Npm.require("fibers"),Npm.require(n.join("fibers","future")));var o=function(e,n){var r=this;n=_.extend({onConnected:function(){},onDDPVersionNegotiationFailure:function(e){f._debug(e)},heartbeatInterval:35e3,heartbeatTimeout:15e3,reloadWithOutstanding:!1,supportedDDPVersions:i,retry:!0,respondToPings:!0},n),r.onReconnect=null,r._stream="object"==typeof e?e:new t.ClientStream(e,{retry:n.retry,headers:n.headers,_sockjsOptions:n._sockjsOptions,_dontPrintErrors:n._dontPrintErrors}),r._lastSessionId=null,r._versionSuggestion=null,r._version=null,r._stores={},r._methodHandlers={},r._nextMethodId=1,r._supportedDDPVersions=n.supportedDDPVersions,r._heartbeatInterval=n.heartbeatInterval,r._heartbeatTimeout=n.heartbeatTimeout,r._methodInvokers={},r._outstandingMethodBlocks=[],r._documentsWrittenByStub={},r._serverDocuments={},r._afterUpdateCallbacks=[],r._messagesBufferedUntilQuiescence=[],r._methodsBlockingQuiescence={},r._subsBeingRevived={},r._resetStores=!1,r._updatesForUnknownStores={},r._retryMigrate=null,r._subscriptions={},r._userId=null,r._userIdDeps=new v.Dependency,f.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate(function(e){if(r._readyToMigrate())return[!0];if(r._retryMigrate)throw new Error("Two migrations in progress?");return r._retryMigrate=e,!1});var o=function(e){try{var t=u(e)}catch(o){return void f._debug("Exception while parsing DDP",o)}if(null===t||!t.msg)return void(t&&t.server_id||f._debug("discarding invalid livedata message",t));if("connected"===t.msg)r._version=r._versionSuggestion,r._livedata_connected(t),n.onConnected();else if("failed"==t.msg)if(_.contains(r._supportedDDPVersions,t.version))r._versionSuggestion=t.version,r._stream.reconnect({_force:!0});else{var a="DDP version negotiation failed; server requested version "+t.version;r._stream.disconnect({_permanent:!0,_error:a}),n.onDDPVersionNegotiationFailure(a)}else"ping"===t.msg?(n.respondToPings&&r._send({msg:"pong",id:t.id}),r._heartbeat&&r._heartbeat.pingReceived()):"pong"===t.msg?r._heartbeat&&r._heartbeat.pongReceived():_.include(["added","changed","removed","ready","updated"],t.msg)?r._livedata_data(t):"nosub"===t.msg?r._livedata_nosub(t):"result"===t.msg?r._livedata_result(t):"error"===t.msg?r._livedata_error(t):f._debug("discarding unknown livedata message type",t)},a=function(){var e={msg:"connect"};r._lastSessionId&&(e.session=r._lastSessionId),e.version=r._versionSuggestion||r._supportedDDPVersions[0],r._versionSuggestion=e.version,e.support=r._supportedDDPVersions,r._send(e),!_.isEmpty(r._outstandingMethodBlocks)&&_.isEmpty(r._outstandingMethodBlocks[0].methods)&&r._outstandingMethodBlocks.shift(),_.each(r._methodInvokers,function(e){e.sentMessage=!1}),r.onReconnect?r._callOnReconnectAndSendAppropriateOutstandingMethods():r._sendOutstandingMethods(),_.each(r._subscriptions,function(e,t){r._send({msg:"sub",id:t,name:e.name,params:e.params})})},s=function(){r._heartbeat&&(r._heartbeat.stop(),r._heartbeat=null)};f.isServer?(r._stream.on("message",f.bindEnvironment(o,f._debug)),r._stream.on("reset",f.bindEnvironment(a,f._debug)),r._stream.on("disconnect",f.bindEnvironment(s,f._debug))):(r._stream.on("message",o),r._stream.on("reset",a),r._stream.on("disconnect",s))},l=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};_.extend(l.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),_.extend(o.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var r={};_.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals"],function(e){r[e]=function(){return t[e]?t[e].apply(t,arguments):void 0}}),n._stores[e]=r;var o=n._updatesForUnknownStores[e];return o&&(r.beginUpdate(o.length,!1),_.each(o,function(e){r.update(e)}),r.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),r={};if(n.length){var o=n[n.length-1];"function"==typeof o?r.onReady=n.pop():!o||"function"!=typeof o.onReady&&"function"!=typeof o.onError||(r=n.pop())}var a,i=_.find(t._subscriptions,function(t){return t.inactive&&t.name===e&&m.equals(t.params,n)});i?(a=i.id,i.inactive=!1,r.onReady&&(i.ready||(i.readyCallback=r.onReady)),r.onError&&(i.errorCallback=r.onError)):(a=h.id(),t._subscriptions[a]={id:a,name:e,params:m.clone(n),inactive:!1,ready:!1,readyDeps:new v.Dependency,readyCallback:r.onReady,errorCallback:r.onError,connection:t,remove:function(){delete this.connection._subscriptions[this.id],this.ready&&this.readyDeps.changed()},stop:function(){this.connection._send({msg:"unsub",id:a}),this.remove()}},t._send({msg:"sub",id:a,name:e,params:n}));var s={stop:function(){_.has(t._subscriptions,a)&&t._subscriptions[a].stop()},ready:function(){if(!_.has(t._subscriptions,a))return!1;var e=t._subscriptions[a];return e.readyDeps.depend(),e.ready}};return v.active&&v.onInvalidate(function(){_.has(t._subscriptions,a)&&(t._subscriptions[a].inactive=!0),v.afterFlush(function(){_.has(t._subscriptions,a)&&t._subscriptions[a].inactive&&s.stop()})}),s},_subscribeAndWait:function(e,t,n){var o,a=this,i=new r,s=!1;return t=t||[],t.push({onReady:function(){s=!0,i["return"]()},onError:function(e){s?n&&n.onLateError&&n.onLateError(e):i["throw"](e)}}),o=a.subscribe.apply(a,[e].concat(t)),i.wait(),o},methods:function(e){var t=this;_.each(e,function(e,n){if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)},apply:function(t,n,o,a){var i=this;a||"function"!=typeof o||(a=o,o={}),o=o||{},a&&(a=f.bindEnvironment(a,"delivering result of invoking '"+t+"'")),n=m.clone(n);var u=function(){var e;return function(){return void 0===e&&(e=""+i._nextMethodId++),e}}(),c=e._CurrentInvocation.get(),p=c&&c.isSimulation,h=null,g=function(){return null===h&&(h=d(c,t)),h},v=i._methodHandlers[t];if(v){var y=function(e){i.setUserId(e)},b=new s({isSimulation:!0,userId:i.userId(),setUserId:y,randomSeed:function(){return g()
}});p||i._saveOriginals();try{var k=e._CurrentInvocation.withValue(b,function(){return f.isServer?f._noYieldsAllowed(function(){return v.apply(b,m.clone(n))}):v.apply(b,m.clone(n))})}catch(w){var S=w}p||i._retrieveAndStoreOriginals(u())}if(p){if(a)return void a(S,k);if(S)throw S;return k}if(S&&!S.expected&&f._debug("Exception while simulating the effect of invoking '"+t+"'",S,S.stack),!a)if(f.isClient)a=function(e){e&&f._debug("Error invoking Method '"+t+"':",e.message)};else{var T=new r;a=T.resolver()}var M={msg:"method",method:t,params:n,id:u()};null!==h&&(M.randomSeed=h);var L=new l({methodId:u(),callback:a,connection:i,onResultReceived:o.onResultReceived,wait:!!o.wait,message:M});return o.wait?i._outstandingMethodBlocks.push({wait:!0,methods:[L]}):((_.isEmpty(i._outstandingMethodBlocks)||_.last(i._outstandingMethodBlocks).wait)&&i._outstandingMethodBlocks.push({wait:!1,methods:[]}),_.last(i._outstandingMethodBlocks).methods.push(L)),1===i._outstandingMethodBlocks.length&&L.sendMessage(),T?T.wait():o.returnStubValue?k:void 0},_saveOriginals:function(){var e=this;_.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];_.each(t._stores,function(r,o){var a=r.retrieveOriginals();a&&a.forEach(function(r,a){n.push({collection:o,id:a}),_.has(t._serverDocuments,o)||(t._serverDocuments[o]=new b._IdMap);var i=t._serverDocuments[o].setDefault(a,{});i.writtenByStubs?i.writtenByStubs[e]=!0:(i.document=r,i.flushCallbacks=[],i.writtenByStubs={},i.writtenByStubs[e]=!0)})}),_.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},_unsubscribeAll:function(){var e=this;_.each(_.clone(e._subscriptions),function(t,n){"meteor_autoupdate_clientVersions"!==t.name&&e._subscriptions[n].stop()})},_send:function(e){var t=this;t._stream.send(c(e))},_lostConnection:function(){var e=this;e._stream._lostConnection()},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){var e=this;return e._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;t._userId!==e&&(t._userId=e,t._userIdDeps&&t._userIdDeps.changed())},_waitingForQuiescence:function(){var e=this;return!_.isEmpty(e._subsBeingRevived)||!_.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return _.any(_.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;if("pre1"!==t._version&&0!==t._heartbeatInterval&&(t._heartbeat=new a({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout:function(){f.isClient&&!t._stream._isStub&&f._debug("Connection timeout. No DDP heartbeat received."),t._lostConnection()},sendPing:function(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}n||(t._updatesForUnknownStores={},t._resetStores&&(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},_.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&_.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(_.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(_.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks()))},_processOneDataMessage:function(e,t){var n=this;n["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this,n={};if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],_.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),_.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;_.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,n)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,n);(t._resetStores||!_.isEmpty(n))&&(_.each(t._stores,function(e,r){e.beginUpdate(_.has(n,r)?n[r].length:0,t._resetStores)}),t._resetStores=!1,_.each(n,function(e,n){var r=t._stores[n];r?_.each(e,function(e){r.update(e)}):(_.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),_.each(t._stores,function(e){e.endUpdate()})),t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],_.each(t,function(e){e()})},_pushUpdate:function(e,t,n){_.has(e,t)||(e[t]=[]),e[t].push(n)},_getServerDoc:function(e,t){var n=this;if(!_.has(n._serverDocuments,e))return null;var r=n._serverDocuments[e];return r.get(t)||null},_process_added:function(e,t){var n=this,r=b._idParse(e.id),o=n._getServerDoc(e.collection,r);if(o){if(void 0!==o.document)throw new Error("Server sent add for existing id: "+e.id);o.document=e.fields||{},o.document._id=r}else n._pushUpdate(t,e.collection,e)},_process_changed:function(e,t){var n=this,r=n._getServerDoc(e.collection,b._idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent changed for nonexisting id: "+e.id);b._applyChanges(r.document,e.fields)}else n._pushUpdate(t,e.collection,e)},_process_removed:function(e,t){var n=this,r=n._getServerDoc(e.collection,b._idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent removed for nonexisting id:"+e.id);r.document=void 0}else n._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})},_process_updated:function(e,t){var n=this;_.each(e.methods,function(e){_.each(n._documentsWrittenByStub[e],function(r){var o=n._getServerDoc(r.collection,r.id);if(!o)throw new Error("Lost serverDoc for "+g.stringify(r));if(!o.writtenByStubs[e])throw new Error("Doc "+g.stringify(r)+" not written by  method "+e);delete o.writtenByStubs[e],_.isEmpty(o.writtenByStubs)&&(n._pushUpdate(t,r.collection,{msg:"replace",id:b._idStringify(r.id),replace:o.document}),_.each(o.flushCallbacks,function(e){e()}),n._serverDocuments[r.collection].remove(r.id))}),delete n._documentsWrittenByStub[e];var r=n._methodInvokers[e];if(!r)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(_.bind(r.dataVisible,r))})},_process_ready:function(e){var t=this;_.each(e.subs,function(e){t._runWhenAllServerDocsAreFlushed(function(){var n=t._subscriptions[e];n&&(n.ready||(n.readyCallback&&n.readyCallback(),n.ready=!0,n.readyDeps.changed()))})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,o=function(){--r,0===r&&n()};_.each(t._serverDocuments,function(e){e.forEach(function(e){var n=_.any(e.writtenByStubs,function(e,n){var r=t._methodInvokers[n];return r&&r.sentMessage});n&&(++r,e.flushCallbacks.push(o))})}),0===r&&n()},_livedata_nosub:function(e){var t=this;if(t._livedata_data(e),_.has(t._subscriptions,e.id)){var n=t._subscriptions[e.id].errorCallback;t._subscriptions[e.id].remove(),n&&e.error&&n(new f.Error(e.error.error,e.error.reason,e.error.details))}},_process_nosub:function(){},_livedata_result:function(e){var t=this;if(_.isEmpty(t._outstandingMethodBlocks))return void f._debug("Received method result but no methods outstanding");for(var n,r=t._outstandingMethodBlocks[0].methods,o=0;o<r.length&&(n=r[o],n.methodId!==e.id);o++);return n?(r.splice(o,1),void(_.has(e,"error")?n.receiveResult(new f.Error(e.error.error,e.error.reason,e.error.details)):n.receiveResult(void 0,e.result))):void f._debug("Can't match method response to original method call",e)},_outstandingMethodFinished:function(){var e=this;if(!e._anyMethodsAreOutstanding()){if(!_.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!_.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+g.stringify(t));_.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()}},_sendOutstandingMethods:function(){var e=this;_.isEmpty(e._outstandingMethodBlocks)||_.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(e){f._debug("Received error from server: ",e.reason),e.offendingMessage&&f._debug("For: ",e.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect(),!_.isEmpty(t)){if(_.isEmpty(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,void e._sendOutstandingMethods();_.last(e._outstandingMethodBlocks).wait||t[0].wait||(_.each(t[0].methods,function(t){_.last(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),_.each(t,function(t){e._outstandingMethodBlocks.push(t)})}},_readyToMigrate:function(){var e=this;return _.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),t.Connection=o,e.connect=function(e,t){var n=new o(e,t);return p.push(n),n},p=[],e._allSubscriptionsReady=function(){return _.all(p,function(e){return _.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){if(f.refresh=function(){},f.isClient){var t="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var n=new y,r=function(e){if(f._debug(e),Package.reload){var t=Package.reload.Reload._migrationData("livedata")||{},r=t.DDPVersionNegotiationFailures||0;++r,Package.reload.Reload._onMigrate("livedata",function(){return[!0,{DDPVersionNegotiationFailures:r}]}),n.retryLater(r,function(){Package.reload.Reload._reload()})}};f.connection=e.connect(t,{onDDPVersionNegotiationFailure:r}),_.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(e){f[e]=_.bind(f.connection[e],f.connection)})}else f.connection=null;f.default_connection=f.connection,f.connect=e.connect}.call(this),"undefined"==typeof Package&&(Package={}),Package.livedata={DDP:e,LivedataTest:t}}(),function(){{var e;Package.meteor.Meteor,Package.logging.Log,Package.underscore._,Package.livedata.DDP,Package.ejson.EJSON}"undefined"==typeof Package&&(Package={}),Package["follower-livedata"]={Follower:e}}(),function(){Package.meteor.Meteor,Package.logging.Log,Package.underscore._,Package.livedata.DDP,Package.ejson.EJSON,Package["follower-livedata"].Follower;"undefined"==typeof Package&&(Package={}),Package["application-configuration"]={}}(),function(){var e,t=Package.meteor.Meteor,n=Package.random.Random,r=Package.ejson.EJSON,o=(Package.json.JSON,Package.underscore._),a=Package.minimongo.LocalCollection,i=(Package.minimongo.Minimongo,Package.logging.Log,Package.livedata.DDP),s=(Package.deps.Deps,Package.check.check),u=Package.check.Match;(function(){e=function(){var e=this;e.noConnCollections={}};var t=function(e,t){return e in t||(t[e]=new a(e)),t[e]};o.extend(e.prototype,{open:function(e,n){var r=this;return e?n?(n._mongo_livedata_collections||(n._mongo_livedata_collections={}),t(e,n._mongo_livedata_collections)):t(e,r.noConnCollections):new a}}),e=new e}).call(this),function(){t.Collection=function(r,s){var u=this;if(!(u instanceof t.Collection))throw new Error('use "new" to construct a Meteor.Collection');if(r||null===r||(t._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),r=null),null!==r&&"string"!=typeof r)throw new Error("First argument to new Meteor.Collection must be a string or null");switch(s&&s.methods&&(s={connection:s}),s&&s.manager&&!s.connection&&(s.connection=s.manager),s=o.extend({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},s),s.idGeneration){case"MONGO":u._makeNewID=function(){var e=r?i.randomStream("/collection/"+r):n;return new t.Collection.ObjectID(e.hexString(24))};break;case"STRING":default:u._makeNewID=function(){var e=r?i.randomStream("/collection/"+r):n;return e.id()}}if(u._transform=a.wrapTransform(s.transform),u._connection=r&&null!==s.connection?s.connection?s.connection:t.isClient?t.connection:t.server:null,s._driver||(s._driver=r&&u._connection===t.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver?MongoInternals.defaultRemoteCollectionDriver():e),u._collection=s._driver.open(r,u._connection),u._name=r,u._connection&&u._connection.registerStore){var c=u._connection.registerStore(r,{beginUpdate:function(e,t){(e>1||t)&&u._collection.pauseObservers(),t&&u._collection.remove({})},update:function(e){var t=a._idParse(e.id),n=u._collection.findOne(t);if("replace"===e.msg){var r=e.replace;return void(r?n?u._collection.update(t,r):u._collection.insert(r):n&&u._collection.remove(t))}if("added"===e.msg){if(n)throw new Error("Expected not to find a document already present for an add");u._collection.insert(o.extend({_id:t},e.fields))}else if("removed"===e.msg){if(!n)throw new Error("Expected to find a document already present for removed");u._collection.remove(t)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!n)throw new Error("Expected to find a document to change");if(!o.isEmpty(e.fields)){var i={};o.each(e.fields,function(e,t){void 0===e?(i.$unset||(i.$unset={}),i.$unset[t]=1):(i.$set||(i.$set={}),i.$set[t]=e)}),u._collection.update(t,i)}}},endUpdate:function(){u._collection.resumeObservers()},saveOriginals:function(){u._collection.saveOriginals()},retrieveOriginals:function(){return u._collection.retrieveOriginals()}});if(!c)throw new Error("There is already a collection named '"+r+"'")}u._defineMutationMethods(),Package.autopublish&&!s._preventAutopublish&&u._connection&&u._connection.publish&&u._connection.publish(null,function(){return u.find()},{is_auto:!0})},o.extend(t.Collection.prototype,{_getFindSelector:function(e){return 0==e.length?{}:e[0]},_getFindOptions:function(e){var t=this;return e.length<2?{transform:t._transform}:(s(e[1],u.Optional(u.ObjectIncluding({fields:u.Optional(u.OneOf(Object,void 0)),sort:u.Optional(u.OneOf(Object,Array,void 0)),limit:u.Optional(u.OneOf(Number,void 0)),skip:u.Optional(u.OneOf(Number,void 0))}))),o.extend({transform:t._transform},e[1]))},find:function(){var e=this,t=o.toArray(arguments);return e._collection.find(e._getFindSelector(t),e._getFindOptions(t))},findOne:function(){var e=this,t=o.toArray(arguments);return e._collection.findOne(e._getFindSelector(t),e._getFindOptions(t))}}),t.Collection._publishCursor=function(e,t,n){var r=e.observeChanges({added:function(e,r){t.added(n,e,r)},changed:function(e,r){t.changed(n,e,r)},removed:function(e){t.removed(n,e)}});t.onStop(function(){r.stop()})},t.Collection._rewriteSelector=function(e){if(a._selectorIsId(e)&&(e={_id:e}),!e||"_id"in e&&!e._id)return{_id:n.id()};var r={};return o.each(e,function(e,n){e instanceof RegExp?r[n]=c(e):e&&e.$regex instanceof RegExp?(r[n]=c(e.$regex),void 0!==e.$options&&(r[n].$options=e.$options)):r[n]=o.contains(["$or","$and","$nor"],n)?o.map(e,function(e){return t.Collection._rewriteSelector(e)}):e}),r};var c=function(e){s(e,RegExp);var t={$regex:e.source},n="";return e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),n&&(t.$options=n),t},l=function(e,n){if(!a._selectorIsIdPerhapsAsObject(e))throw new t.Error(403,"Not permitted. Untrusted code may only "+n+" documents by ID.")};o.each(["insert","update","remove"],function(e){t.Collection.prototype[e]=function(){var n,r,a,s=this,u=o.toArray(arguments);if(u.length&&u[u.length-1]instanceof Function&&(n=u.pop()),"insert"===e){if(!u.length)throw new Error("insert requires an argument");if(u[0]=o.extend({},u[0]),"_id"in u[0]){if(r=u[0]._id,!r||!("string"==typeof r||r instanceof t.Collection.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{var c=!0;if(s._connection&&s._connection!==t.server){var d=i._CurrentInvocation.get();d||(c=!1)}c&&(r=u[0]._id=s._makeNewID())}}else if(u[0]=t.Collection._rewriteSelector(u[0]),"update"===e){var p=u[2]=o.clone(u[2])||{};if(p&&"function"!=typeof p&&p.upsert)if(p.insertedId){if(!("string"==typeof p.insertedId||p.insertedId instanceof t.Collection.ObjectID))throw new Error("insertedId must be string or ObjectID")}else p.insertedId=s._makeNewID()}var f,h=function(t){return"insert"===e?(!r&&t&&(r=t),r):t};if(n&&(f=function(e,t){n(e,!e&&h(t))}),s._connection&&s._connection!==t.server){var d=i._CurrentInvocation.get(),m=d&&d.isSimulation;!t.isClient||f||m||(f=function(n){n&&t._debug(e+" failed: "+(n.reason||n.stack))}),m||"insert"===e||l(u[0],e),a=h(s._connection.apply(s._prefix+e,u,{returnStubValue:!0},f))}else{u.push(f);try{var g=s._collection[e].apply(s._collection,u);a=h(g)}catch(_){if(n)return n(_),null;throw _}}return a}}),t.Collection.prototype.upsert=function(e,t,n,r){var a=this;return r||"function"!=typeof n||(r=n,n={}),a.update(e,t,o.extend({},n,{_returnObject:!0,upsert:!0}),r)},t.Collection.prototype._ensureIndex=function(e,t){var n=this;if(!n._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");n._collection._ensureIndex(e,t)},t.Collection.prototype._dropIndex=function(e){var t=this;if(!t._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");t._collection._dropIndex(e)},t.Collection.prototype._dropCollection=function(){var e=this;if(!e._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");e._collection.dropCollection()},t.Collection.prototype._createCappedCollection=function(e){var t=this;if(!t._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");t._collection._createCappedCollection(e)},t.Collection.ObjectID=a._ObjectID,function(){var e=function(e,t){var n=["insert","update","remove","fetch","transform"];o.each(o.keys(t),function(t){if(!o.contains(n,t))throw new Error(e+": Invalid key: "+t)});var r=this;if(r._restricted=!0,o.each(["insert","update","remove"],function(n){if(t[n]){if(!(t[n]instanceof Function))throw new Error(e+": Value for `"+n+"` must be a function");t[n].transform=void 0===t.transform?r._transform:a.wrapTransform(t.transform),r._validators[n][e].push(t[n])}}),t.update||t.remove||t.fetch){if(t.fetch&&!(t.fetch instanceof Array))throw new Error(e+": Value for `fetch` must be an array");r._updateFetch(t.fetch)}};t.Collection.prototype.allow=function(t){e.call(this,"allow",t)},t.Collection.prototype.deny=function(t){e.call(this,"deny",t)}}(),t.Collection.prototype._defineMutationMethods=function(){var e=this;if(e._restricted=!1,e._insecure=void 0,e._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},e._name&&(e._prefix="/"+e._name+"/",e._connection)){var n={};o.each(["insert","update","remove"],function(r){n[e._prefix+r]=function(){s(arguments,[u.Any]);var n=o.toArray(arguments);try{var a=null;if("insert"!==r||o.has(n[0],"_id")||(a=e._makeNewID()),this.isSimulation)return null!==a&&(n[0]._id=a),e._collection[r].apply(e._collection,n);if("insert"!==r&&l(n[0],r),e._restricted){if(0===e._validators[r].allow.length)throw new t.Error(403,"Access denied. No allow validators set on restricted collection for method '"+r+"'.");var i="_validated"+r.charAt(0).toUpperCase()+r.slice(1);return n.unshift(this.userId),"insert"===r&&n.push(a),e[i].apply(e,n)}if(e._isInsecure())return null!==a&&(n[0]._id=a),e._collection[r].apply(e._collection,n);throw new t.Error(403,"Access denied")}catch(c){throw"MongoError"===c.name||"MinimongoError"===c.name?new t.Error(409,c.toString()):c}}}),(t.isClient||e._connection===t.server)&&e._connection.methods(n)}},t.Collection.prototype._updateFetch=function(e){var t=this;t._validators.fetchAllFields||(e?t._validators.fetch=o.union(t._validators.fetch,e):(t._validators.fetchAllFields=!0,t._validators.fetch=null))},t.Collection.prototype._isInsecure=function(){var e=this;return void 0===e._insecure?!!Package.insecure:e._insecure};var d=function(e,t,n){var o=t;return e.transform&&(o=r.clone(t),null!==n&&(o._id=n),o=e.transform(o)),o};t.Collection.prototype._validatedInsert=function(e,n,r){var a=this;if(o.any(a._validators.insert.deny,function(t){return t(e,d(t,n,r))}))throw new t.Error(403,"Access denied");if(o.all(a._validators.insert.allow,function(t){return!t(e,d(t,n,r))}))throw new t.Error(403,"Access denied");null!==r&&(n._id=r),a._collection.insert.call(a._collection,n)};var p=function(e,t){return e.transform?e.transform(t):t};t.Collection.prototype._validatedUpdate=function(e,n,r,i){var s=this;if(i=i||{},!a._selectorIsIdPerhapsAsObject(n))throw new Error("validated update should be of a single ID");if(i.upsert)throw new t.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var u=[];o.each(r,function(e,n){if("$"!==n.charAt(0))throw new t.Error(403,"Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.");if(!o.has(f,n))throw new t.Error(403,"Access denied. Operator "+n+" not allowed in a restricted collection.");o.each(o.keys(e),function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),o.contains(u,e)||u.push(e)})});var c={transform:null};s._validators.fetchAllFields||(c.fields={},o.each(s._validators.fetch,function(e){c.fields[e]=1}));var l=s._collection.findOne(n,c);if(!l)return 0;var d;if(o.any(s._validators.update.deny,function(t){return d||(d=p(t,l)),t(e,d,u,r)}))throw new t.Error(403,"Access denied");if(o.all(s._validators.update.allow,function(t){return d||(d=p(t,l)),!t(e,d,u,r)}))throw new t.Error(403,"Access denied");return s._collection.update.call(s._collection,n,r,i)};var f={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};t.Collection.prototype._validatedRemove=function(e,n){var r=this,a={transform:null};r._validators.fetchAllFields||(a.fields={},o.each(r._validators.fetch,function(e){a.fields[e]=1}));var i=r._collection.findOne(n,a);if(!i)return 0;if(o.any(r._validators.remove.deny,function(t){return t(e,p(t,i))}))throw new t.Error(403,"Access denied");if(o.all(r._validators.remove.allow,function(t){return!t(e,p(t,i))}))throw new t.Error(403,"Access denied");return r._collection.remove.call(r._collection,n)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["mongo-livedata"]={}}(),function(){var e,t=(Package.meteor.Meteor,Package.deps.Deps),n=Package.minimongo.LocalCollection,r=(Package.minimongo.Minimongo,Package.underscore._),o=Package.random.Random;(function(){var a=function(){e._suppressWarnings?e._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),e._loggedWarnings++)},i=n._idStringify,s=n._idParse;e={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,n){var s=null,d=null,p=[],f=t.autorun(function(){var f=e();t.nonreactive(function(){var e;if(d&&(p=r.map(d._fetch(),function(e){return{_id:e._id,item:e}}),d.stop(),d=null),f)if(f instanceof Array){var t={};e=r.map(f,function(e,n){var r;if("string"==typeof e)r="-"+e;else if("number"==typeof e||"boolean"==typeof e||void 0===e)r=e;else{if("object"!=typeof e)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof e);r=e&&e._id||n}var s=i(r);return t[s]?("object"==typeof e&&"_id"in e&&a("duplicate id "+r+" in",f),r=o.id()):t[s]=!0,{_id:r,item:e}}),l(p,e,n)}else{if(!c(f))throw u();var h=f;e=[];var m=!0;d=h.observe({addedAt:function(t,r,o){if(m){if(null!==o)throw new Error("Expected initial data from observe in order");e.push({_id:t._id,item:t})}else n.addedAt(t._id,t,r,o)},changedAt:function(e,t,r){n.changedAt(e._id,e,t,r)},removedAt:function(e,t){n.removedAt(e._id,e,t)},movedTo:function(e,t,r,o){n.movedTo(e._id,e,t,r,o)}}),m=!1,l(p,e,n)}else e=[],l(p,e,n);s=f,p=e})});return{stop:function(){f.stop(),d&&d.stop()}}},fetch:function(e){if(e){if(e instanceof Array)return e;if(c(e))return e.fetch();throw u()}return[]}};var u=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},c=function(e){return e&&r.isObject(e)&&r.isFunction(e.observe)&&r.isFunction(e.fetch)},l=function(e,t,n){var o=Package.minimongo.LocalCollection._diffQueryOrderedChanges,a=[],u=[],c={},l={},d={},p=e.length;r.each(t,function(e,t){u.push({_id:e._id}),l[i(e._id)]=t}),r.each(e,function(e,t){a.push({_id:e._id}),c[i(e._id)]=t,d[i(e._id)]=t}),o(a,u,{addedBefore:function(e,o,a){var s=a?d[i(a)]:p;r.each(d,function(e,t){e>=s&&d[t]++}),p++,d[i(e)]=s,n.addedAt(e,t[l[i(e)]].item,s,a)},movedBefore:function(e,o){var a=d[i(e)],s=o?d[i(o)]:p-1;r.each(d,function(e,t){e>=a&&s>=e?d[t]--:a>=e&&e>=s&&d[t]++}),d[i(e)]=s,n.movedTo(e,t[l[i(e)]].item,a,s,o)},removed:function(t){var o=d[i(t)];r.each(d,function(e,t){e>=o&&d[t]--}),delete d[i(t)],p--,n.removedAt(t,e[c[i(t)]].item,o)}}),r.each(l,function(o,a){var i=s(a);if(r.has(c,a)){var u=t[o].item,l=e[c[a]].item;("object"==typeof u||u!==l)&&n.changedAt(i,u,l,o)}})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["observe-sequence"]={ObserveSequence:e}}(),function(){{var e,t,n;Package.meteor.Meteor}(function(){e={},t=function(e){return e},n=Array.prototype.slice}).call(this),function(){var r=Object.prototype.hasOwnProperty,o=function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e};e.Visitor=function(e){o(this,e)},e.Visitor.def=function(e){o(this.prototype,e)},e.Visitor.extend=function(t){var n=this,r=function(){e.Visitor.apply(this,arguments)};return r.prototype=new n,r.extend=n.extend,r.def=n.def,t&&o(r.prototype,t),r},e.Visitor.def({visit:function(t){if(null==t)return this.visitNull.apply(this,arguments);if("object"==typeof t){if(t.htmljsType)switch(t.htmljsType){case e.Tag.htmljsType:return this.visitTag.apply(this,arguments);case e.CharRef.htmljsType:return this.visitCharRef.apply(this,arguments);case e.Comment.htmljsType:return this.visitComment.apply(this,arguments);case e.Raw.htmljsType:return this.visitRaw.apply(this,arguments);default:throw new Error("Unknown htmljs type: "+t.htmljsType)}return e.isArray(t)?this.visitArray.apply(this,arguments):this.visitObject.apply(this,arguments)}if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)return this.visitPrimitive.apply(this,arguments);if("function"==typeof t)return this.visitFunction.apply(this,arguments);throw new Error("Unexpected object in htmljs: "+t)},visitNull:function(){},visitPrimitive:function(){},visitArray:function(){},visitComment:function(){},visitCharRef:function(){},visitRaw:function(){},visitTag:function(){},visitObject:function(e){throw new Error("Unexpected object in htmljs: "+e)},visitFunction:function(e){throw new Error("Unexpected function in htmljs: "+e)}}),e.TransformingVisitor=e.Visitor.extend(),e.TransformingVisitor.def({visitNull:t,visitPrimitive:t,visitArray:function(e){for(var t=n.call(arguments),r=e,o=0;o<e.length;o++){var a=e[o];t[0]=a;var i=this.visit.apply(this,t);i!==a&&(r===e&&(r=e.slice()),r[o]=i)}return r},visitComment:t,visitCharRef:t,visitRaw:t,visitObject:t,visitFunction:t,visitTag:function(t){var r=t.children,o=n.call(arguments);o[0]=r;var a=this.visitChildren.apply(this,o),i=t.attrs;o[0]=i;var s=this.visitAttributes.apply(this,o);if(s===i&&a===r)return t;var u=e.getTag(t.tagName).apply(null,a);return u.attrs=s,u},visitChildren:function(){return this.visitArray.apply(this,arguments)},visitAttributes:function(t){if(e.isArray(t)){for(var r=n.call(arguments),a=t,i=0;i<t.length;i++){var s=t[i];r[0]=s;var u=this.visitAttributes.apply(this,r);u!==s&&(a===t&&(a=t.slice()),a[i]=u)}return a}if(t&&e.isConstructedObject(t))throw new Error("The basic HTML.TransformingVisitor does not support foreign objects in attributes.  Define a custom visitAttributes for this case.");var c=t,l=c;if(c){var d=[null,null];d.push.apply(d,arguments);for(var p in c){var f=c[p];d[0]=p,d[1]=f;var h=this.visitAttribute.apply(this,d);h!==f&&(l===c&&(l=o({},c)),l[p]=h)}}return l},visitAttribute:function(e,t){var r=n.call(arguments,2);return r[0]=t,this.visit.apply(this,r)}}),e.ToTextVisitor=e.Visitor.extend(),e.ToTextVisitor.def({visitNull:function(){return""},visitPrimitive:function(t){var n=String(t);return this.textMode===e.TEXTMODE.RCDATA?n.replace(/&/g,"&amp;").replace(/</g,"&lt;"):this.textMode===e.TEXTMODE.ATTRIBUTE?n.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):n},visitArray:function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.visit(e[n]));return t.join("")},visitComment:function(){throw new Error("Can't have a comment here")},visitCharRef:function(t){return this.textMode===e.TEXTMODE.RCDATA||this.textMode===e.TEXTMODE.ATTRIBUTE?t.html:t.str},visitRaw:function(e){return e.value},visitTag:function(e){return this.visit(this.toHTML(e))},visitObject:function(e){throw new Error("Unexpected object in htmljs in toText: "+e)},toHTML:function(t){return e.toHTML(t)}}),e.ToHTMLVisitor=e.Visitor.extend(),e.ToHTMLVisitor.def({visitNull:function(){return""},visitPrimitive:function(e){var t=String(e);return t.replace(/&/g,"&amp;").replace(/</g,"&lt;")},visitArray:function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.visit(e[n]));return t.join("")},visitComment:function(e){return"<!--"+e.sanitizedValue+"-->"},visitCharRef:function(e){return e.html},visitRaw:function(e){return e.value},visitTag:function(t){var n=[],r=t.tagName,o=t.children,a=t.attrs;if(a){a=e.flattenAttributes(a);for(var i in a)if("value"===i&&"textarea"===r)o=[a[i],o];else{var s=this.toText(a[i],e.TEXTMODE.ATTRIBUTE);n.push(" "+i+'="'+s+'"')}}var u,c="<"+r+n.join("")+">",l=[];if("textarea"===r){for(var d=0;d<o.length;d++)l.push(this.toText(o[d],e.TEXTMODE.RCDATA));u=l.join(""),"\n"===u.slice(0,1)&&(u="\n"+u)}else{for(var d=0;d<o.length;d++)l.push(this.visit(o[d]));u=l.join("")}var p=c+u;return(o.length||!e.isVoidElement(r))&&(p+="</"+r+">"),p},visitObject:function(e){throw new Error("Unexpected object in htmljs in toHTML: "+e)},toText:function(t,n){return e.toText(t,n)}})}.call(this),function(){e.Tag=function(){},e.Tag.prototype.tagName="",e.Tag.prototype.attrs=null,e.Tag.prototype.children=Object.freeze?Object.freeze([]):[],e.Tag.prototype.htmljsType=e.Tag.htmljsType=["Tag"];var t=function(t){var r=function(){var t=this instanceof e.Tag?this:new r,o=0,a=arguments.length&&arguments[0];if(a&&"object"==typeof a)if(e.isConstructedObject(a)){if(a instanceof e.Attrs){var i=a.value;1===i.length?t.attrs=i[0]:i.length>1&&(t.attrs=i),o++}}else t.attrs=a,o++;return o<arguments.length&&(t.children=n.call(arguments,o)),t};return r.prototype=new e.Tag,r.prototype.constructor=r,r.prototype.tagName=t,r},r=e.Attrs=function(){var e=this instanceof r?this:new r;return e.value=n.call(arguments),e};e.getTag=function(n){var r=e.getSymbolName(n);if(r===n)throw new Error("Use the lowercase or camelCase form of '"+n+"' here");return e[r]||(e[r]=t(n)),e[r]},e.ensureTag=function(t){e.getTag(t)},e.isTagEnsured=function(t){return e.isKnownElement(t)},e.getSymbolName=function(e){return e.toUpperCase().replace(/-/g,"_")},e.knownElementNames="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol optgroup option p param pre q s samp script select small span strike strong style sub sup table tbody td textarea tfoot th thead title tr tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),e.knownSVGElementNames="altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph path pattern polygon polyline radialGradient rect script set stop style svg switch symbol text textPath title tref tspan use view vkern".split(" "),e.knownElementNames=e.knownElementNames.concat(e.knownSVGElementNames),e.voidElementNames="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");
var o={yes:!0},a=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=o;return t},i=a(e.voidElementNames),s=a(e.knownElementNames),u=a(e.knownSVGElementNames);e.isKnownElement=function(e){return s[e]===o},e.isKnownSVGElement=function(e){return u[e]===o},e.isVoidElement=function(e){return i[e]===o};for(var c=0;c<e.knownElementNames.length;c++)e.ensureTag(e.knownElementNames[c]);var l=e.CharRef=function(e){if(!(this instanceof l))return new l(e);if(!(e&&e.html&&e.str))throw new Error("HTML.CharRef must be constructed with ({html:..., str:...})");this.html=e.html,this.str=e.str};l.prototype.htmljsType=l.htmljsType=["CharRef"];var d=e.Comment=function(e){if(!(this instanceof d))return new d(e);if("string"!=typeof e)throw new Error("HTML.Comment must be constructed with a string");this.value=e,this.sanitizedValue=e.replace(/^-|--+|-$/g,"")};d.prototype.htmljsType=d.htmljsType=["Comment"];var p=e.Raw=function(e){if(!(this instanceof p))return new p(e);if("string"!=typeof e)throw new Error("HTML.Raw must be constructed with a string");this.value=e};p.prototype.htmljsType=p.htmljsType=["Raw"],e.isArray=function(e){return e instanceof Array},e.isConstructedObject=function(e){return e&&"object"==typeof e&&e.constructor!==Object&&!Object.prototype.hasOwnProperty.call(e,"constructor")},e.isNully=function(t){if(null==t)return!0;if(e.isArray(t)){for(var n=0;n<t.length;n++)if(!e.isNully(t[n]))return!1;return!0}return!1},e.isValidAttributeName=function(e){return/^[:_A-Za-z][:_A-Za-z0-9.\-]*/.test(e)},e.flattenAttributes=function(t){if(!t)return t;var n=e.isArray(t);if(n&&0===t.length)return null;for(var r={},o=0,a=n?t.length:1;a>o;o++){var i=n?t[o]:t;if("object"!=typeof i||e.isConstructedObject(i))throw new Error("Expected plain JS object as attrs, found: "+i);for(var s in i){if(!e.isValidAttributeName(s))throw new Error("Illegal HTML attribute name: "+s);var u=i[s];e.isNully(u)||(r[s]=u)}}return r},e.toHTML=function(t){return(new e.ToHTMLVisitor).visit(t)},e.TEXTMODE={STRING:1,RCDATA:2,ATTRIBUTE:3},e.toText=function(t,n){if(!n)throw new Error("textMode required for HTML.toText");if(n!==e.TEXTMODE.STRING&&n!==e.TEXTMODE.RCDATA&&n!==e.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+n);var r=new e.ToTextVisitor({textMode:n});return r.visit(t)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.htmljs={HTML:e}}(),function(){var e,t,n,r,o=Package.meteor.Meteor,a=Package.jquery.$,i=Package.jquery.jQuery,s=Package.deps.Deps,u=Package.underscore._,c=Package.htmljs.HTML,l=Package["observe-sequence"].ObserveSequence;(function(){e={}}).call(this),function(){var t={};e.DOMBackend=t;var n="undefined"!=typeof i?i:"undefined"!=typeof Package?Package.jquery&&Package.jquery.jQuery:null;if(!n)throw new Error("jQuery not found");t._$jq=n,t.parseHTML=function(e){return n.parseHTML(e)||[]},t.Events={delegateEvents:function(e,t,r,o){n(e).on(t,r,o)},undelegateEvents:function(e,t,r){n(e).off(t,"**",r)},bindEventCapturer:function(e,r,o,a){var i=n(e),s=function(t){t=n.event.fix(t),t.currentTarget=t.target;var r=n(t.currentTarget);r.is(i.find(o))&&a.call(e,t)};a._meteorui_wrapper=s,r=t.Events.parseEventType(r),e.addEventListener(r,s,!0)},unbindEventCapturer:function(e,n,r){n=t.Events.parseEventType(n),e.removeEventListener(n,r._meteorui_wrapper,!0)},parseEventType:function(e){var t=e.indexOf(".");return t>=0?e.slice(0,t):e}};var r=function(){},o=function(e){this.next=this,this.prev=this,this.func=e};o.prototype.linkBefore=function(e){this.prev=e.prev,this.next=e,e.prev.next=this,e.prev=this},o.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},o.prototype.go=function(){var e=this.func;e&&e()},o.prototype.stop=o.prototype.unlink,t.Teardown={_JQUERY_EVENT_NAME:"blaze_teardown_watcher",_CB_PROP:"$blaze_teardown_callbacks",onElementTeardown:function(e,a){var i=new o(a),s=t.Teardown._CB_PROP;return e[s]||(e[s]=new o,n(e).on(t.Teardown._JQUERY_EVENT_NAME,r)),i.linkBefore(e[s]),i},tearDownElement:function(e){for(var t=[],r=e.getElementsByTagName("*"),o=0;o<r.length;o++)t.push(r[o]);t.push(e),n.cleanData(t)}},n.event.special[t.Teardown._JQUERY_EVENT_NAME]={setup:function(){},teardown:function(){var e=this,n=e[t.Teardown._CB_PROP];if(n){for(var r=n.next;r!==n;)r.go(),r=r.next;n.go(),e[t.Teardown._CB_PROP]=null}}},t.findBySelector=function(e,t){return n(e,t)}}.call(this),function(){var t=Object.freeze?Object.freeze([]):[];e.DOMRange=function(e){if(!(this instanceof n))return new n(e);var r=e||t;if(!r||"number"!=typeof r.length)throw new Error("Expected array");for(var o=0;o<r.length;o++)this._memberIn(r[o]);this.members=r,this.emptyRangePlaceholder=null,this.attached=!1,this.parentElement=null,this.parentRange=null,this.attachedCallbacks=t};var n=e.DOMRange;n._USE_COMMENT_PLACEHOLDERS=function(){var e=!1,t=document.createTextNode("");try{t.someProp=!0}catch(n){e=!0}return e}(),n._insert=function(e,t,r,o){var a=e;a instanceof n?a.attach(t,r,o):o?n._moveNodeWithHooks(a,t,r):n._insertNodeWithHooks(a,t,r)},n._remove=function(e){var t=e;t instanceof n?t.detach():n._removeNodeWithHooks(t)},n._removeNodeWithHooks=function(e){e.parentNode&&(1===e.nodeType&&e.parentNode._uihooks&&e.parentNode._uihooks.removeElement?e.parentNode._uihooks.removeElement(e):e.parentNode.removeChild(e))},n._insertNodeWithHooks=function(e,t,n){n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.insertElement?t._uihooks.insertElement(e,n):t.insertBefore(e,n)},n._moveNodeWithHooks=function(e,t,n){e.parentNode===t&&(n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.moveElement?t._uihooks.moveElement(e,n):t.insertBefore(e,n))},n.forElement=function(e){if(1!==e.nodeType)throw new Error("Expected element, found: "+e);for(var t=null;e&&!t;)t=e.$blaze_range||null,t||(e=e.parentNode);return t},n.prototype.attach=function(e,t,r){if(r&&(this.parentElement!==e||!this.attached))throw new Error("Can only move an attached DOMRange, and only under the same parent element");var o=this.members;if(o.length){this.emptyRangePlaceholder=null;for(var a=0;a<o.length;a++)n._insert(o[a],e,t,r)}else{var i=n._USE_COMMENT_PLACEHOLDERS?document.createComment(""):document.createTextNode("");this.emptyRangePlaceholder=i,e.insertBefore(i,t||null)}if(this.attached=!0,this.parentElement=e,!r)for(var a=0;a<this.attachedCallbacks.length;a++){var s=this.attachedCallbacks[a];s.attached&&s.attached(this,e)}},n.prototype.setMembers=function(e){var t=e;if(!t||"number"!=typeof t.length)throw new Error("Expected array");for(var n=this.members,r=0;r<n.length;r++)this._memberOut(n[r]);for(var r=0;r<t.length;r++)this._memberIn(t[r]);if(this.attached){if(t.length||n.length){var o=this.lastNode().nextSibling,a=this.parentElement;this.detach(),this.members=t,this.attach(a,o)}}else this.members=t},n.prototype.firstNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[0];return e instanceof n?e.firstNode():e},n.prototype.lastNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[this.members.length-1];return e instanceof n?e.lastNode():e},n.prototype.detach=function(){if(!this.attached)throw new Error("Must be attached");var e=this.parentElement,t=this.members;if(t.length)for(var r=0;r<t.length;r++)n._remove(t[r]);else{var o=this.emptyRangePlaceholder;this.parentElement.removeChild(o),this.emptyRangePlaceholder=null}this.attached=!1,this.parentElement=null;for(var r=0;r<this.attachedCallbacks.length;r++){var a=this.attachedCallbacks[r];a.detached&&a.detached(this,e)}},n.prototype.addMember=function(e,t,r){var o=this.members;if(!(t>=0&&t<=o.length))throw new Error("Bad index in range.addMember: "+t);if(r||this._memberIn(e),this.attached)if(0===o.length)this.setMembers([e]);else{var a;if(t===o.length)a=this.lastNode().nextSibling;else{var i=o[t];a=i instanceof n?i.firstNode():i}o.splice(t,0,e),n._insert(e,this.parentElement,a,r)}else o.splice(t,0,e)},n.prototype.removeMember=function(e,r){var o=this.members;if(!(e>=0&&e<o.length))throw new Error("Bad index in range.removeMember: "+e);if(r)o.splice(e,1);else{var a=o[e];this._memberOut(a),1===o.length?this.setMembers(t):(o.splice(e,1),this.attached&&n._remove(a))}},n.prototype.moveMember=function(e,t){var n=this.members[e];this.removeMember(e,!0),this.addMember(n,t,!0)},n.prototype.getMember=function(e){var t=this.members;if(!(e>=0&&e<t.length))throw new Error("Bad index in range.getMember: "+e);return this.members[e]},n.prototype._memberIn=function(e){e instanceof n?e.parentRange=this:1===e.nodeType&&(e.$blaze_range=this)},n._destroy=function(t,r){t instanceof n?(t.view&&e.destroyView(t.view,r),t.parentRange=null):r||1!==t.nodeType||t.$blaze_range&&(e.destroyNode(t),t.$blaze_range=null)},n.prototype._memberOut=n._destroy,n.prototype.destroyMembers=function(e){for(var t=this.members,n=0;n<t.length;n++)this._memberOut(t[n],e)},n.prototype.destroy=function(e){n._destroy(this,e)},n.prototype.containsElement=function(t){if(!this.attached)throw new Error("Must be attached");if(!e._elementContains(this.parentElement,t))return!1;for(;t.parentNode!==this.parentElement;)t=t.parentNode;for(var n=t.$blaze_range;n&&n!==this;)n=n.parentRange;return n===this},n.prototype.containsRange=function(e){if(!this.attached)throw new Error("Must be attached");if(!e.attached)return!1;if(e.parentElement!==this.parentElement)return this.containsElement(e.parentElement);if(e===this)return!1;for(;e&&e!==this;)e=e.parentRange;return e===this},n.prototype.onAttached=function(e){this.onAttachedDetached({attached:e})},n.prototype.onAttachedDetached=function(e){this.attachedCallbacks===t&&(this.attachedCallbacks=[]),this.attachedCallbacks.push(e)},n.prototype.$=function(t){var n=this,r=this.parentElement;if(!r)throw new Error("Can't select in removed DomRange");if(11===r.nodeType)throw new Error("Can't use $ on an offscreen range");var o=e.DOMBackend.findBySelector(t,r),a=function(e){return"number"==typeof e&&(e=this),n.containsElement(e)};if(o.filter)o=o.filter(a);else{for(var i=[],s=0;s<o.length;s++){var u=o[s];a(u)&&i.push(u)}o=i}return o},e._elementContains=function(e,t){return 1!==e.nodeType?!1:e===t?!1:e.compareDocumentPosition?16&e.compareDocumentPosition(t):(t=t.parentNode,t&&1===t.nodeType?e===t?!0:e.contains(t):!1)}}.call(this),function(){var t=e.EventSupport={},n=e.DOMBackend,r=t.eventsToDelegate={blur:1,change:1,click:1,focus:1,focusin:1,focusout:1,reset:1,submit:1},o=t.EVENT_MODE={TBD:0,BUBBLING:1,CAPTURING:2},a=1,i=function(e,t,i,s,c){this.elem=e,this.type=t,this.selector=i,this.handler=s,this.recipient=c,this.id=a++,this.mode=o.TBD,this.delegatedHandler=function(e){return function(t){return e.selector||t.currentTarget===t.target?e.handler.apply(e.recipient,arguments):void 0}}(this);var l=e.addEventListener&&!u.has(r,n.Events.parseEventType(t));l?this.capturingHandler=function(e){return function(t){if(e.mode===o.TBD){if(t.bubbles)return e.mode=o.BUBBLING,void n.Events.unbindEventCapturer(e.elem,e.type,e.capturingHandler);e.mode=o.CAPTURING,n.Events.undelegateEvents(e.elem,e.type,e.delegatedHandler)}e.delegatedHandler(t)}}(this):this.mode=o.BUBBLING};t.HandlerRec=i,i.prototype.bind=function(){this.mode!==o.BUBBLING&&n.Events.bindEventCapturer(this.elem,this.type,this.selector||"*",this.capturingHandler),this.mode!==o.CAPTURING&&n.Events.delegateEvents(this.elem,this.type,this.selector||"*",this.delegatedHandler)},i.prototype.unbind=function(){this.mode!==o.BUBBLING&&n.Events.unbindEventCapturer(this.elem,this.type,this.capturingHandler),this.mode!==o.CAPTURING&&n.Events.undelegateEvents(this.elem,this.type,this.delegatedHandler)},t.listen=function(e,t,n,r,o,a){var s=[];t.replace(/[^ /]+/g,function(e){s.push(e)});for(var u=[],c=0,l=s.length;l>c;c++){var d=s[c],p=e.$blaze_events;p||(p=e.$blaze_events={});var f=p[d];f||(f=p[d]={},f.handlers=[]);var h=f.handlers,m=new i(e,d,n,r,o);if(u.push(m),m.bind(),h.push(m),a)for(var g=a(o);g;g=a(g))for(var _=0,v=h.length;v>_;_++){var y=h[_];y.recipient===g&&(y.unbind(),y.bind(),h.splice(_,1),h.push(y),_--,v--)}}return{stop:function(){var t=e.$blaze_events;if(t){for(var n=0;n<u.length;n++){var r=u[n],o=t[r.type];if(o)for(var a=o.handlers,i=a.length-1;i>=0;i--)a[i]===r&&(r.unbind(),a.splice(i,1))}u.length=0}}}}}.call(this),function(){t=function(e,t){this.name=e,this.value=t},t.prototype.update=function(e,t,n){null===n?null!==t&&e.removeAttribute(this.name):e.setAttribute(this.name,n)},t.extend=function(e){var n=this,r=function(){t.apply(this,arguments)};return r.prototype=new n,r.extend=n.extend,e&&u.extend(r.prototype,e),r};var e=t.extend({update:function(e,t,n){if(!this.getCurrentValue||!this.setValue||!this.parseValue)throw new Error("Missing methods in subclass of 'DiffingAttributeHandler'");var r=t?this.parseValue(t):{},o=n?this.parseValue(n):{},a=this.getCurrentValue(e),i=a?this.parseValue(a):{};u.each(u.keys(r),function(e){e in o||delete i[e]}),u.each(u.keys(o),function(e){i[e]=o[e]}),this.setValue(e,u.values(i).join(" "))}}),i=e.extend({getCurrentValue:function(e){return e.className},setValue:function(e,t){e.className=t},parseValue:function(e){var t={};return u.each(e.split(" "),function(e){e&&(t[e]=e)}),t}}),s=i.extend({getCurrentValue:function(e){return e.className.baseVal},setValue:function(e,t){e.setAttribute("class",t)}}),c=e.extend({getCurrentValue:function(e){return e.getAttribute("style")},setValue:function(e,t){""===t?e.removeAttribute("style"):e.setAttribute("style",t)},parseValue:function(e){for(var t={},n=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*(?:\'(?:\\\'|.)*?\'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+[;\s]*/g,r=n.exec(e);r;)t[" "+r[1]]=r[0].trim?r[0].trim():a.trim(r[0]),r=n.exec(e);return t}}),l=t.extend({update:function(e,t,n){var r=this.name;null==n?null!=t&&(e[r]=!1):e[r]=!0}}),d=t.extend({update:function(e,t,n){e.value=n}}),p=t.extend({update:function(e,t,n){var r="http://www.w3.org/1999/xlink";null===n?null!==t&&e.removeAttributeNS(r,this.name):e.setAttributeNS(r,this.name,this.value)}}),f=function(e){return"ownerSVGElement"in e},h=function(e,t){var n={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]};if("itemid"===t)return!0;var r=n[e]||[];return u.contains(r,t)};if(o.isClient)var m=document.createElement("A");var g=function(e){if(o.isClient)return m.href=e,(m.protocol||"").toLowerCase();throw new Error("getUrlProtocol not implemented on the server")},_=t.prototype.update,v=t.extend({update:function(e,t,n){var r=this,a=arguments;if(UI._javascriptUrlsAllowed())_.apply(r,a);else{var i="javascript:"===g(n);i?(o._debug("URLs that use the 'javascript:' protocol are not allowed in URL attribute values. Call UI._allowJavascriptUrls() to enable them."),_.apply(r,[e,t,null])):_.apply(r,a)}}});n=function(e,n,r){return"class"===n?f(e)?new s(n,r):new i(n,r):"style"===n?new c(n,r):"OPTION"===e.tagName&&"selected"===n||"INPUT"===e.tagName&&"checked"===n?new l(n,r):"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||"value"!==n?"xlink:"===n.substring(0,6)?new p(n.substring(6),r):h(e.tagName,n)?new v(n,r):new t(n,r):new d(n,r)},r=function(e){this.elem=e,this.handlers={}},r.prototype.update=function(e){var t=this.elem,r=this.handlers;for(var o in r)if(!u.has(e,o)){var a=r[o],i=a.value;a.value=null,a.update(t,i,null),delete r[o]}for(var o in e){var i,a=null,s=e[o];u.has(r,o)?(a=r[o],i=a.value):null!==s&&(a=n(t,o,s),r[o]=a,i=null),i!==s&&(a.value=s,a.update(t,i,s),null===s&&delete r[o])}}}.call(this),function(){e.DOMMaterializer=c.Visitor.extend(),e.DOMMaterializer.def({visitNull:function(e,t){return t},visitPrimitive:function(e,t){var n=String(e);return t.push(document.createTextNode(n)),t},visitCharRef:function(e,t){return this.visitPrimitive(e.str,t)},visitArray:function(e,t){for(var n=0;n<e.length;n++)this.visit(e[n],t);return t},visitComment:function(e,t){return t.push(document.createComment(e.sanitizedValue)),t},visitRaw:function(t,n){for(var r=e.DOMBackend.parseHTML(t.value),o=0;o<r.length;o++)n.push(r[o]);return n},visitTag:function(n,o){var a,i=this,l=n.tagName;a=(c.isKnownSVGElement(l)||t(n))&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l);var d=n.attrs,p=n.children;if("textarea"===l&&n.children.length&&!(d&&"value"in d)){if("function"==typeof d||c.isArray(d))throw new Error("Can't have reactive children of TEXTAREA node; use the 'value' attribute instead.");d=u.extend({},d||null),d.value=e._expand(p,i.parentView),p=[]}if(d){var f,h=new r(a),m=function(){var t=i.parentView,n=e._expandAttributes(d,t),r=c.flattenAttributes(n),o={};for(var a in r)o[a]=e.toText(r[a],t,c.TEXTMODE.STRING);h.update(o)};f=i.parentView?i.parentView.autorun(m):s.nonreactive(function(){return s.autorun(function(){s.withCurrentView(i.parentView,m)})}),e.DOMBackend.Teardown.onElementTeardown(a,function(){f.stop()})}for(var g=i.visit(p,[]),_=0;_<g.length;_++){var v=g[_];v instanceof e.DOMRange?v.attach(a):a.appendChild(v)}return o.push(a),o},visitObject:function(t,n){return e.isTemplate(t)&&(t=e.runTemplate(t)),t instanceof e.View?(n.push(e.materializeView(t,this.parentView)),n):c.Visitor.prototype.visitObject.call(this,t)}});var t=function(e){return"a"===e.tagName&&e.attrs&&void 0!==e.attrs["xlink:href"]}}.call(this),function(){var t;e._throwNextException=!1,e.reportException=function(n,r){if(e._throwNextException)throw e._throwNextException=!1,n;t||(t=function(){return"undefined"!=typeof o?o._debug:"undefined"!=typeof console&&console.log?console.log:function(){}}),t()(r||"Exception caught in template:",n.stack||n.message)},e.wrapCatchingExceptions=function(t,n){return"function"!=typeof t?t:function(){try{return t.apply(this,arguments)}catch(r){e.reportException(r,"Exception in "+n+":")}}}}.call(this),function(){e.ReactiveVar=function(t,n){return this instanceof e.ReactiveVar?(this.curValue=t,this.equalsFunc=n,void(this.dep=new s.Dependency)):new e.ReactiveVar(t,n)},e.ReactiveVar._isEqual=function(e,t){var n=e,r=t;return n!==r?!1:!n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n},e.ReactiveVar.prototype.get=function(){return s.active&&this.dep.depend(),this.curValue},e.ReactiveVar.prototype.set=function(t){var n=this.curValue;(this.equalsFunc||e.ReactiveVar._isEqual)(n,t)||(this.curValue=t,this.dep.changed())},e.ReactiveVar.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"}}.call(this),function(){e.View=function(t,n){return this instanceof e.View?("function"==typeof t&&(n=t,t=""),this.kind=t,this.render=n,this._callbacks={created:null,materialized:null,rendered:null,destroyed:null},this.isCreated=!1,this.isCreatedForExpansion=!1,this.isDestroyed=!1,this.isInRender=!1,this.parentView=null,this.domrange=null,void(this.renderCount=0)):new e.View(t,n)},e.View.prototype.render=function(){return null},e.View.prototype.onCreated=function(e){this._callbacks.created=this._callbacks.created||[],this._callbacks.created.push(e)},e.View.prototype.onMaterialized=function(e){this._callbacks.materialized=this._callbacks.materialized||[],this._callbacks.materialized.push(e)},e.View.prototype.onRendered=function(e){this._callbacks.rendered=this._callbacks.rendered||[],this._callbacks.rendered.push(e)},e.View.prototype.onDestroyed=function(e){this._callbacks.destroyed=this._callbacks.destroyed||[],this._callbacks.destroyed.push(e)},e.View.prototype.autorun=function(t,n){var r=this;if(!r.isCreated)throw new Error("View#autorun must be called from the created callback at the earliest");if(this.isInRender)throw new Error("Can't call View#autorun from inside render(); try calling it from the created or rendered callback");if(s.active)throw new Error("Can't call View#autorun from a Deps Computation; try calling it from the created or rendered callback");var o=s.autorun(function(o){return e.withCurrentView(n||r,function(){return t.call(r,o)})});return r.onDestroyed(function(){o.stop()}),o},e._fireCallbacks=function(t,n){e.withCurrentView(t,function(){s.nonreactive(function(){for(var e=t._callbacks[n],r=0,o=e&&e.length;o>r;r++)e[r].call(t)})})},e.materializeView=function(t,n){if(t.parentView=n||null,t.isCreated)throw new Error("Can't render the same View twice");t.isCreated=!0,e._fireCallbacks(t,"created");var r,o,a=!1,i=function(){a&&!t.isDestroyed&&t._callbacks.rendered&&t._callbacks.rendered.length&&s.afterFlush(function(){a&&!t.isDestroyed&&(a=!1,e._fireCallbacks(t,"rendered"))})};return s.nonreactive(function(){t.autorun(function(n){t.renderCount++,t.isInRender=!0;var u=t.render();t.isInRender=!1,s.nonreactive(function(){var s=new e.DOMMaterializer({parentView:t}),c=s.visit(u,[]);(n.firstRun||!e._isContentEqual(o,u))&&(n.firstRun?(r=new e.DOMRange(c),t.domrange=r,r.view=t):r.setMembers(c),e._fireCallbacks(t,"materialized"),a=!0,n.firstRun||i())}),o=u,s.onInvalidate(function(){r.destroyMembers()})});var n=null;r.onAttached(function(r,o){n=e.DOMBackend.Teardown.onElementTeardown(o,function(){e.destroyView(t,!0)}),i()}),t.onDestroyed(function(){n&&n.stop(),n=null})}),r},e._expandView=function(t,n){if(t.parentView=n||null,t.isCreated)throw new Error("Can't render the same View twice");t.isCreated=!0,t.isCreatedForExpansion=!0,e._fireCallbacks(t,"created"),t.isInRender=!0;var r=e.withCurrentView(t,function(){return t.render()});t.isInRender=!1;var o=e._expand(r,t);return s.active?s.onInvalidate(function(){e.destroyView(t)}):e.destroyView(t),o},e.HTMLJSExpander=c.TransformingVisitor.extend(),e.HTMLJSExpander.def({visitObject:function(t){return e.isTemplate(t)&&(t=e.runTemplate(t)),t instanceof e.View?e._expandView(t,this.parentView):c.TransformingVisitor.prototype.visitObject.call(this,t)},visitAttributes:function(t){return"function"==typeof t&&(t=e.withCurrentView(this.parentView,t)),c.TransformingVisitor.prototype.visitAttributes.call(this,t)},visitAttribute:function(t,n,r){return"function"==typeof n&&(n=e.withCurrentView(this.parentView,n)),c.TransformingVisitor.prototype.visitAttribute.call(this,t,n,r)}});var t=function(){var t=e.currentView;return t&&t.isInRender?t:null};e._expand=function(n,r){return r=r||t(),new e.HTMLJSExpander({parentView:r}).visit(n)},e._expandAttributes=function(n,r){return r=r||t(),new e.HTMLJSExpander({parentView:r}).visitAttributes(n)},e.destroyView=function(t){t.isDestroyed||(t.isDestroyed=!0,e._fireCallbacks(t,"destroyed"),t.domrange&&t.domrange.destroyMembers())},e.destroyNode=function(t){1===t.nodeType&&e.DOMBackend.Teardown.tearDownElement(t)},e._isContentEqual=function(e,t){return e instanceof c.Raw?t instanceof c.Raw&&e.value===t.value:null==e?null==t:e===t&&("number"==typeof e||"boolean"==typeof e||"string"==typeof e)},e.currentView=null,e.withCurrentView=function(t,n){var r=e.currentView;try{return e.currentView=t,n()}finally{e.currentView=r}},e.isTemplate=function(e){return e&&"function"==typeof e.__makeView},e.runTemplate=function(t){if(!e.isTemplate(t))throw new Error("Not a template: "+t);var n=Array.prototype.slice.call(arguments,1);return t.__makeView.apply(t,n)},e.render=function(n,r){r=r||t();var o;if("function"==typeof n)o=e.View("render",n);else if(e.isTemplate(n))o=e.runTemplate(n);else{if(!(n instanceof e.View))throw new Error("Expected a function, template, or View in Blaze.render");o=n}return e.materializeView(o,r)},e.toHTML=function(n,r){if("function"==typeof n)throw new Error("Blaze.toHTML doesn't take a function, just HTMLjs");return r=r||t(),c.toHTML(e._expand(n,r))},e.toText=function(n,r,o){if("function"==typeof n)throw new Error("Blaze.toText doesn't take a function, just HTMLjs");if(null==r||r instanceof e.View||(o=r,r=null),r=r||t(),!o)throw new Error("textMode required");if(o!==c.TEXTMODE.STRING&&o!==c.TEXTMODE.RCDATA&&o!==c.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+o);return c.toText(e._expand(n,r),o)},e.getCurrentData=function(){var t=e.getCurrentView("with");return t?t.dataVar.get():null},e.getCurrentView=function(t){var n=e.currentView;if(!n)throw new Error("There is no current view");if(t){for(;n&&n.kind!==t;)n=n.parentView;return n||null}return n},e.getCurrentTemplateView=function(){for(var t=e.getCurrentView();t&&!t.template;)t=t.parentView;return t||null},e.getParentView=function(e,t){var n=e.parentView;if(t)for(;n&&n.kind!==t;)n=n.parentView;return n||null},e.getElementView=function(t,n){for(var r=e.DOMRange.forElement(t),o=null;r&&!o;)o=r.view||null,o||(r=r.parentRange?r.parentRange:e.DOMRange.forElement(r.parentElement));if(n){for(;o&&o.kind!==n;)o=o.parentView;return o||null}return o},e.getElementData=function(t){var n=e.getElementView(t,"with");return n?n.dataVar.get():null},e.getViewData=function(t){var n=e.getParentView(t,"with");return n?n.dataVar.get():null},e._addEventMap=function(t,n,r){r=r||null;var o=[];if(!t.domrange)throw new Error("View must have a DOMRange");t.domrange.onAttached(function(a,i){u.each(n,function(n,s){var c=s.split(/,\s+/);u.each(c,function(s){var u=s.split(/\s+/);if(0!==u.length){var c=u.shift(),l=u.join(" ");o.push(e.EventSupport.listen(i,c,l,function(o){if(!a.containsElement(o.currentTarget))return null;var i=r||this,s=arguments;return e.withCurrentView(t,function(){return n.apply(i,s)})},a,function(e){return e.parentRange}))}})})}),t.onDestroyed(function(){u.each(o,function(e){e.stop()}),o.length=0})}}.call(this),function(){e._calculateCondition=function(e){return e instanceof Array&&0===e.length&&(e=!1),!!e},e.With=function(t,n){var r=e.View("with",n);return r.dataVar=new e.ReactiveVar,r.onCreated(function(){"function"==typeof t?r.autorun(function(){r.dataVar.set(t())},r.parentView):r.dataVar.set(t)}),r},e.If=function(t,n,r,o){var a=new e.ReactiveVar,i=e.View(o?"unless":"if",function(){return a.get()?n():r?r():null});return i.__conditionVar=a,i.onCreated(function(){this.autorun(function(){var n=e._calculateCondition(t());a.set(o?!n:n)},this.parentView)}),i},e.Unless=function(t,n,r){return e.If(t,n,r,!0)},e.Each=function(t,n,r){var o=e.View("each",function(){var e=this.initialSubviews;return this.initialSubviews=null,this.isCreatedForExpansion&&(this.expandedValueDep=new s.Dependency,this.expandedValueDep.depend()),e});return o.initialSubviews=[],o.numItems=0,o.inElseMode=!1,o.stopHandle=null,o.contentFunc=n,o.elseFunc=r,o.argVar=new e.ReactiveVar,o.onCreated(function(){o.autorun(function(){o.argVar.set(t())},o.parentView),o.stopHandle=l.observe(function(){return o.argVar.get()},{addedAt:function(t,n,r){s.nonreactive(function(){var t=e.With(n,o.contentFunc);if(o.numItems++,o.expandedValueDep)o.expandedValueDep.changed();else if(o.domrange){o.inElseMode&&(o.domrange.removeMember(0),o.inElseMode=!1);var a=e.materializeView(t,o);o.domrange.addMember(a,r)}else o.initialSubviews.splice(r,0,t)})},removedAt:function(t,n,r){s.nonreactive(function(){o.numItems--,o.expandedValueDep?o.expandedValueDep.changed():o.domrange?(o.domrange.removeMember(r),o.elseFunc&&0===o.numItems&&(o.inElseMode=!0,o.domrange.addMember(e.materializeView(e.View("each_else",o.elseFunc),o),0))):o.initialSubviews.splice(r,1)})},changedAt:function(e,t,n,r){s.nonreactive(function(){var e;o.expandedValueDep?o.expandedValueDep.changed():e=o.domrange?o.domrange.getMember(r).view:o.initialSubviews[r],e.dataVar.set(t)})},movedTo:function(e,t,n,r){s.nonreactive(function(){if(o.expandedValueDep)o.expandedValueDep.changed();else if(o.domrange)o.domrange.moveMember(n,r);else{var e=o.initialSubviews,t=e[n];e.splice(n,1),e.splice(r,0,t)}})}}),o.elseFunc&&0===o.numItems&&(o.inElseMode=!0,o.initialSubviews[0]=e.View("each_else",o.elseFunc))}),o.onDestroyed(function(){o.stopHandle&&o.stopHandle.stop()}),o},e.InOuterTemplateScope=function(t,n){var r=e.View("InOuterTemplateScope",n),o=t.parentView;return o.__isTemplateWith&&(o=o.parentView),r.onCreated(function(){this.originalParentView=this.parentView,this.parentView=o}),r}}.call(this),function(){var t=function(t){return"function"==typeof t?function(){var n=e.getCurrentData();return null==n&&(n={}),t.apply(n,arguments)}:t},n=function(t){return e.wrapCatchingExceptions(t,"template helper")};e.View.prototype.lookup=function(r,o){var a=this.template,i=o&&o.template;if(/^\./.test(r)){if(!/^(\.)+$/.test(r))throw new Error("id starting with dot must be a series of dots");return e._parentData(r.length-1,!0)}return a&&r in a?n(t(a[r])):i&&Template.__lookup__(r)?Template.__lookup__(r):UI._globalHelpers[r]?n(t(UI._globalHelpers[r])):function(){var t=arguments.length>0,n=e.getCurrentData();if(i&&(!n||!n[r]))throw new Error("No such template: "+r);if(t&&(!n||!n[r]))throw new Error("No such function: "+r);if(!n)return null;var o=n[r];if("function"!=typeof o){if(t)throw new Error("Can't call non-function: "+o);return o}return o.apply(n,arguments)}},e._parentData=function(t,n){for(var r=e.getCurrentView("with"),o=0;t>o&&r;o++)r=e.getParentView(r,"with");return r?n?function(){return r.dataVar.get()}:r.dataVar.get():null},e.View.prototype.lookupTemplate=function(e){return this.lookup(e,{template:!0})}}.call(this),"undefined"==typeof Package&&(Package={}),Package.blaze={Blaze:e}}(),function(){var e,t,n=(Package.meteor.Meteor,Package.jquery.$,Package.jquery.jQuery,Package.deps.Deps,Package.random.Random,Package.ejson.EJSON,Package.underscore._,Package["ordered-dict"].OrderedDict,Package.minimongo.LocalCollection,Package.minimongo.Minimongo,Package["observe-sequence"].ObserveSequence,Package.htmljs.HTML,Package.blaze.Blaze);(function(){e={},e._globalHelpers={},e.registerHelper=function(t,n){e._globalHelpers[t]=n},e._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}();var t=!1;e._allowJavascriptUrls=function(){t=!0},e._javascriptUrlsAllowed=function(){return t},e._parentData=n._parentData,e.getElementData=n.getElementData}).call(this),function(){t={},t.registerHelper=e.registerHelper,t._escape=e._escape,t.SafeString=function(e){this.string=e},t.SafeString.prototype.toString=function(){return this.string.toString()}}.call(this),"undefined"==typeof Package&&(Package={}),Package.ui={UI:e,Handlebars:t}}(),function(){var e,t,n,r,o,a,i,s,u,c,l,d=Package.meteor.Meteor,p=Package.underscore._,f=Package.deps.Deps,h=Package.random.Random,m=Package.livedata.DDP;(function(){e={},e._options={};var o=90,a=3600;t=6e5,n=1e4,e.config=function(t){if(d.isServer?__meteor_runtime_config__.accountsConfigCalled=!0:__meteor_runtime_config__.accountsConfigCalled||d._debug("Accounts.config was called on the client but not on the server; some configuration options may not take effect."),p.has(t,"oauthSecretKey")){if(d.isClient)throw new Error("The oauthSecretKey option may only be specified on the server");if(!Package["oauth-encryption"])throw new Error("The oauth-encryption package must be loaded to set oauthSecretKey");Package["oauth-encryption"].OAuthEncryption.loadKey(t.oauthSecretKey),t=p.omit(t,"oauthSecretKey")}var n=["sendVerificationEmail","forbidClientAccountCreation","restrictCreationByEmailDomain","loginExpirationInDays"];p.each(p.keys(t),function(e){if(!p.contains(n,e))throw new Error("Accounts.config: Invalid key: "+e)}),p.each(n,function(n){if(n in t){if(n in e._options)throw new Error("Can't set `"+n+"` more than once");e._options[n]=t[n]}}),d.isServer&&maybeStopExpireTokensInterval()},d.isClient&&(e.connection=d.connection,"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL&&(e.connection=m.connect(__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL))),d.users=new d.Collection("users",{_preventAutopublish:!0,connection:d.isClient?e.connection:d.connection}),d.startup(function(){var t=Package["service-configuration"].ServiceConfiguration;
e.loginServiceConfiguration=t.configurations,e.ConfigError=t.ConfigError}),e.LoginCancelledError=function(e){this.message=e},e.LoginCancelledError.numericError=145546287,e.LoginCancelledError.prototype=new Error,e.LoginCancelledError.prototype.name="Accounts.LoginCancelledError",r=function(){return 24*(e._options.loginExpirationInDays||o)*60*60*1e3},e._tokenExpiration=function(e){return new Date(new Date(e).getTime()+r())},e._tokenExpiresSoon=function(e){var t=.1*r(),n=1e3*a;return t>n&&(t=n),new Date>new Date(e)-t}}).call(this),function(){o=!0;var t;t=window.location.hash.match(/^\#\/reset-password\/(.*)$/),t&&(o=!1,e._resetPasswordToken=t[1],window.location.hash=""),t=window.location.hash.match(/^\#\/verify-email\/(.*)$/),t&&(o=!1,e._verifyEmailToken=t[1],window.location.hash=""),t=window.location.hash.match(/^\#\/enroll-account\/(.*)$/),t&&(o=!1,e._enrollAccountToken=t[1],window.location.hash="")}.call(this),function(){d.userId=function(){return e.connection.userId()};var t=!1,n=new f.Dependency;e._setLoggingIn=function(e){t!==e&&(t=e,n.changed())},d.loggingIn=function(){return n.depend(),t},d.user=function(){var e=d.userId();return e?d.users.findOne(e):null},e.callLoginMethod=function(t){t=p.extend({methodName:"login",methodArguments:[],_suppressLoggingIn:!1},t),p.each(["validateResult","userCallback"],function(e){t[e]||(t[e]=function(){})});var n=p.once(t.userCallback),r=!1,o=function(t,o){e.connection.onReconnect=!t&&o&&o.token?function(){r=!0;var t=c();t&&(o={token:t,tokenExpires:l()}),o.tokenExpires||(o.tokenExpires=e._tokenExpiration(new Date)),e._tokenExpiresSoon(o.tokenExpires)?a():e.callLoginMethod({methodArguments:[{resume:o.token}],_suppressLoggingIn:!0,userCallback:function(e){var t=c();e&&t&&t===o.token&&a(),n(e)}})}:null},s=function(o,a){if(!r){if(e._setLoggingIn(!1),o||!a)return o=o||new Error("No result from call to "+t.methodName),void n(o);try{t.validateResult(a)}catch(s){return void n(s)}i(a.id,a.token,a.tokenExpires),n()}};t._suppressLoggingIn||e._setLoggingIn(!0),e.connection.apply(t.methodName,t.methodArguments,{wait:!0,onResultReceived:o},s)},a=function(){u(),e.connection.setUserId(null),e.connection.onReconnect=null},i=function(t,n,r){s(t,n,r),e.connection.setUserId(t)},d.logout=function(t){e.connection.apply("logout",[],{wait:!0},function(e){e?t&&t(e):(a(),t&&t())})},d.logoutOtherClients=function(t){e.connection.apply("getNewToken",[],{wait:!0},function(e,t){e||s(d.userId(),t.token,t.tokenExpires)}),e.connection.apply("removeOtherTokens",[],{wait:!0},function(e){t&&t(e)})};var r=e.connection.subscribe("meteor.loginServiceConfiguration");e.loginServicesConfigured=function(){return r.ready()},Package.ui&&(Package.ui.UI.registerHelper("currentUser",function(){return d.user()}),Package.ui.UI.registerHelper("loggingIn",function(){return d.loggingIn()}))}.call(this),function(){var t;d.loginWithToken=function(t,n){e.callLoginMethod({methodArguments:[{resume:t}],userCallback:n})},e._enableAutoLogin=function(){o=!0,_()};var n="Meteor.loginToken",r="Meteor.loginTokenExpires",i="Meteor.userId";e._isolateLoginTokenForTest=function(){n+=h.id(),i+=h.id()},s=function(o,a,s){d._localStorage.setItem(i,o),d._localStorage.setItem(n,a),s||(s=e._tokenExpiration(new Date)),d._localStorage.setItem(r,s),t=a},u=function(){d._localStorage.removeItem(i),d._localStorage.removeItem(n),d._localStorage.removeItem(r),t=null},c=e._storedLoginToken=function(){return d._localStorage.getItem(n)},l=function(){return d._localStorage.getItem(r)};var p=function(){return d._localStorage.getItem(i)},f=function(){var t=d._localStorage.getItem(r);t&&e._tokenExpiresSoon(new Date(t))&&u()};if(o){f();var m=c();if(m){var g=p();g&&e.connection.setUserId(g),d.loginWithToken(m,function(e){e&&(d._debug("Error logging in with token: "+e),a())})}}t=m;var _=function(){if(o){var e=c();t!=e&&(e?d.loginWithToken(e,function(e){e&&a()}):d.logout()),t=e}};setInterval(_,3e3)}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-base"]={Accounts:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package["accounts-base"].Accounts;(function(){"undefined"==typeof e&&(e={}),e.configurations=new t.Collection("meteor_accounts_loginServiceConfiguration",{_preventAutopublish:!0,connection:t.isClient?n.connection:t.connection}),e.ConfigError=function(e){this.message=t.isClient&&!n.loginServicesConfigured()?"Login service configuration not yet loaded":e?"Service "+e+" not configured":"Service not configured"},e.ConfigError.prototype=new Error,e.ConfigError.prototype.name="ServiceConfiguration.ConfigError"}).call(this),"undefined"==typeof Package&&(Package={}),Package["service-configuration"]={ServiceConfiguration:e}}(),function(){var e,t=(Package.meteor.Meteor,Package.ui.UI),n=(Package.ui.Handlebars,Package.htmljs.HTML,Package.blaze.Blaze);(function(){e={},e.prototype=function(){return function(){}.prototype}(),e.prototype.helpers=function(e){for(var t in e)this[t]=e[t]},e.__updateTemplateInstance=function(e){var t=e._templateInstance;return t||(t=e._templateInstance={$:function(t){if(!e.domrange)throw new Error("Can't use $ on component with no DOM");return e.domrange.$(t)},findAll:function(e){return Array.prototype.slice.call(this.$(e))},find:function(e){var t=this.$(e);return t[0]||null},data:null,firstNode:null,lastNode:null,autorun:function(t){return e.autorun(t)},__view__:e}),t.data=n.getViewData(e),e.domrange&&!e.isDestroyed?(t.firstNode=e.domrange.firstNode(),t.lastNode=e.domrange.lastNode()):(t.firstNode=null,t.lastNode=null),t},t._templateInstance=function(){var t=n.getCurrentTemplateView();if(!t)throw new Error("No current template");return e.__updateTemplateInstance(t)},e.prototype.events=function(t){var r=this;r.__eventMaps=r.__eventMaps||[];var o={};for(var a in t)o[a]=function(t,r){return function(t){var o=this,a=n.getElementData(t.currentTarget);null==a&&(a={});var i=Array.prototype.slice.call(arguments),s=e.__updateTemplateInstance(o);return i.splice(1,0,s),r.apply(a,i)}}(a,t[a]);r.__eventMaps.push(o)},e.prototype.__makeView=function(t,r){var o=this,a=n.View(this.__viewName,this.__render);return a.template=o,a.templateContentBlock=t?e.__create__("(contentBlock)",t):null,a.templateElseBlock=r?e.__create__("(elseBlock)",r):null,(o.__eventMaps||"object"==typeof o.events)&&a.onMaterialized(function(){o.__eventMaps||"object"!=typeof o.events||e.prototype.events.call(o,o.events),_.each(o.__eventMaps,function(e){n._addEventMap(a,e,a)})}),o.__initView&&o.__initView(a),o.created&&a.onCreated(function(){var t=e.__updateTemplateInstance(a);o.created.call(t)}),o.rendered&&a.onRendered(function(){var t=e.__updateTemplateInstance(a);o.rendered.call(t)}),o.destroyed&&a.onDestroyed(function(){var t=e.__updateTemplateInstance(a);o.destroyed.call(t)}),a};var r=Object.prototype.hasOwnProperty;e.__lookup__=function(t){if(!r.call(e,t))return null;var n=e[t];return e.__isTemplate__(n)?n:null},e.__create__=function(t,n,r){var o=new e.prototype.constructor;return o.__viewName=t,o.__render=n,r&&(o.__initView=r),o},e.__define__=function(t,n){if(r.call(e,t)){if(e[t].__makeView)throw new Error("There are multiple templates named '"+t+"'. Each template needs a unique name.");throw new Error("This template name is reserved: "+t)}var o=e.__create__("Template."+t,n);return o.__templateName=t,e[t]=o,o},e.__isTemplate__=function(e){return e&&e.__makeView},e.__define__("__body__",function(){for(var t=e.__body__.__contentParts,n=0;n<t.length;n++)t[n].template=e.__body__;return t}),e.__body__.__contentParts=[],e.__body__.__isInstantiated=!1;var o=function(){if(!e.__body__.__isInstantiated){e.__body__.__isInstantiated=!0;var t=n.render(e.__body__);e.__body__.__view=t.view,t.attach(document.body)}};e.__body__.__instantiate=o,t.render=function(t){if(!e.__isTemplate__(t))throw new Error("Template required here");return n.render(t)},t.renderWithData=function(t,r){if(!e.__isTemplate__(t))throw new Error("Template required here");if("function"==typeof r)throw new Error("Data argument can't be a function");return n.render(n.With(r,function(){return t}))},t.insert=function(e,t,r){if(!t||"number"!=typeof t.nodeType)throw new Error("'parentElement' must be a DOM node");if(r&&"number"!=typeof r.nodeType)throw new Error("'nextNode' must be a DOM node");if(!e instanceof n.DOMRange)throw new Error("Expected template rendered with UI.render");e.attach(t,r)},t.remove=function(e){if(!e instanceof n.DOMRange)throw new Error("Expected template rendered with UI.render");e.attached&&e.detach(),e.destroy()},t.body=e.__body__}).call(this),"undefined"==typeof Package&&(Package={}),Package.templating={Template:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,r=Package.deps.Deps,o=Package.ejson.EJSON;(function(){var a=function(e){return void 0===e?"undefined":o.stringify(e)},i=function(e){return void 0===e||"undefined"===e?void 0:o.parse(e)};e=function(e){this.keys=e||{},this.keyDeps={},this.keyValueDeps={}},n.extend(e.prototype,{set:function(e,t){var r=this;t=a(t);var o="undefined";if(n.has(r.keys,e)&&(o=r.keys[e]),t!==o){r.keys[e]=t;var i=function(e){e&&e.changed()};i(r.keyDeps[e]),r.keyValueDeps[e]&&(i(r.keyValueDeps[e][o]),i(r.keyValueDeps[e][t]))}},setDefault:function(e,t){var n=this;void 0===n.keys[e]&&n.set(e,t)},get:function(e){var t=this;return t._ensureKey(e),t.keyDeps[e].depend(),i(t.keys[e])},equals:function(e,s){var u=this,c=Package["mongo-livedata"]&&t.Collection.ObjectID;if(!("string"==typeof s||"number"==typeof s||"boolean"==typeof s||"undefined"==typeof s||s instanceof Date||c&&s instanceof c||null===s))throw new Error("ReactiveDict.equals: value must be scalar");var l=a(s);if(r.active){u._ensureKey(e),n.has(u.keyValueDeps[e],l)||(u.keyValueDeps[e][l]=new r.Dependency);var d=u.keyValueDeps[e][l].depend();d&&r.onInvalidate(function(){u.keyValueDeps[e][l].hasDependents()||delete u.keyValueDeps[e][l]})}var p=void 0;return n.has(u.keys,e)&&(p=i(u.keys[e])),o.equals(p,s)},_ensureKey:function(e){var t=this;e in t.keyDeps||(t.keyDeps[e]=new r.Dependency,t.keyValueDeps[e]={})},getMigrationData:function(){return this.keys}})}).call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-dict"]={ReactiveDict:e}}(),function(){{var e,t=(Package.meteor.Meteor,Package.underscore._,Package["reactive-dict"].ReactiveDict);Package.ejson.EJSON}(function(){var n={};if(Package.reload){var r=Package.reload.Reload._migrationData("session");r&&r.keys&&(n=r.keys)}e=new t(n),Package.reload&&Package.reload.Reload._onMigrate("session",function(){return[!0,{keys:e.keys}]})}).call(this),"undefined"==typeof Package&&(Package={}),Package.session={Session:e}}(),function(){var e,t,n=Package.meteor.Meteor;(function(){var t={};e={},e.showPopup=function(e,t,n){var o=r(e,n&&n.width||650,n&&n.height||331),a=setInterval(function(){try{var e=o.closed||void 0===o.closed}catch(n){return}e&&(clearInterval(a),t())},100)};var r=function(e,t,n){var r="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,o="undefined"!=typeof window.screenY?window.screenY:window.screenTop,a="undefined"!=typeof window.outerWidth?window.outerWidth:document.body.clientWidth,i="undefined"!=typeof window.outerHeight?window.outerHeight:document.body.clientHeight-22,s=r+(a-t)/2,u=o+(i-n)/2,c="width="+t+",height="+n+",left="+s+",top="+u+",scrollbars=yes",l=window.open(e,"Login",c);return l.focus&&l.focus(),l};e.initiateLogin=function(t,n,r,o){e.showPopup(n,_.bind(r,null,t),o)},e._handleCredentialSecret=function(e,n){if(check(e,String),check(n,String),_.has(t,e))throw new Error("Duplicate credential token from OAuth login");t[e]=n},e._retrieveCredentialSecret=function(r){var o=t[r];if(o)delete t[r];else{var a=e._localStorageTokenPrefix+r;o=n._localStorage.getItem(a),n._localStorage.removeItem(a)}return o}}).call(this),function(){e._localStorageTokenPrefix="Meteor.oauth."}.call(this),function(){t=e}.call(this),"undefined"==typeof Package&&(Package={}),Package.oauth={OAuth:e,Oauth:t}}(),function(){{var e=Package.meteor.Meteor,t=Package.underscore._,n=(Package.random.Random,Package.check.check,Package.check.Match,Package["accounts-base"].Accounts),r=Package.oauth.OAuth;Package.oauth.Oauth}(function(){n.oauth={};var r={};n.oauth.registerService=function(n){if(t.has(r,n))throw new Error("Duplicate service: "+n);r[n]=!0,e.server&&e.users._ensureIndex("services."+n+".id",{unique:1,sparse:1})},n.oauth.serviceNames=function(){return t.keys(r)}}).call(this),function(){n.oauth.tryLoginAfterPopupClosed=function(t,o){var a=r._retrieveCredentialSecret(t)||null;n.callLoginMethod({methodArguments:[{oauth:{credentialToken:t,credentialSecret:a}}],userCallback:o&&function(t){o(t&&t instanceof e.Error&&t.error===n.LoginCancelledError.numericError?new n.LoginCancelledError(t.reason):t)}})},n.oauth.credentialRequestCompleteHandler=function(e){return function(t){t&&t instanceof Error?e&&e(t):n.oauth.tryLoginAfterPopupClosed(t,e)}}}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-oauth"]={}}(),function(){{var e;Package.meteor.Meteor}(function(){e=function(){function e(e){function t(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function n(e,t){return e>>>t|e<<32-t}function r(e,t){return e>>>t}function o(e,t,n){return e&t^~e&n}function a(e,t,n){return e&t^e&n^t&n}function i(e){return n(e,2)^n(e,13)^n(e,22)}function s(e){return n(e,6)^n(e,11)^n(e,25)}function u(e){return n(e,7)^n(e,18)^r(e,3)}function c(e){return n(e,17)^n(e,19)^r(e,10)}function l(e,n){var r,l,d,p,f,h,m,g,_,v,y,b,k=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),w=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),S=new Array(64);e[n>>5]|=128<<24-n%32,e[(n+64>>9<<4)+15]=n;for(var _=0;_<e.length;_+=16){r=w[0],l=w[1],d=w[2],p=w[3],f=w[4],h=w[5],m=w[6],g=w[7];for(var v=0;64>v;v++)S[v]=16>v?e[v+_]:t(t(t(c(S[v-2]),S[v-7]),u(S[v-15])),S[v-16]),y=t(t(t(t(g,s(f)),o(f,h,m)),k[v]),S[v]),b=t(i(r),a(r,l,d)),g=m,m=h,h=f,f=t(p,y),p=d,d=l,l=r,r=t(y,b);w[0]=t(r,w[0]),w[1]=t(l,w[1]),w[2]=t(d,w[2]),w[3]=t(p,w[3]),w[4]=t(f,w[4]),w[5]=t(h,w[5]),w[6]=t(m,w[6]),w[7]=t(g,w[7])}return w}function d(e){for(var t=Array(),n=(1<<h)-1,r=0;r<e.length*h;r+=h)t[r>>5]|=(e.charCodeAt(r/h)&n)<<24-r%32;return t}function p(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}function f(e){for(var t=m?"0123456789ABCDEF":"0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>8*(3-r%4)+4&15)+t.charAt(e[r>>2]>>8*(3-r%4)&15);return n}var h=8,m=0;return e=p(e),f(l(d(e),e.length*h))}return e}()}).call(this),"undefined"==typeof Package&&(Package={}),Package.sha={SHA256:e}}(),function(){var e,t,n=(Package.meteor.Meteor,Package.random.Random),r=(Package.check.check,Package.check.Match,Package.sha.SHA256),o=Package.underscore._;(function(){t=function(){function e(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function t(){return new e(null)}function n(e,t,n,r,o,a){for(var i=16383&t,s=t>>14;--a>=0;){var u=16383&this[e],c=this[e++]>>14,l=s*u+c*i;u=i*u+((16383&l)<<14)+n[r]+o,o=(u>>28)+(l>>14)+s*c,n[r++]=268435455&u}return o}function r(e){return Zt.charAt(e)}function o(e,t){var n=en[e.charCodeAt(t)];return null==n?-1:n}function a(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function i(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+DV:this.t=0}function s(e){var n=t();return n.fromInt(e),n}function u(t,n){var r;if(16==n)r=4;else if(8==n)r=3;else if(256==n)r=8;else if(2==n)r=1;else if(32==n)r=5;else{if(4!=n)return void this.fromRadix(t,n);r=2}this.t=0,this.s=0;for(var a=t.length,i=!1,s=0;--a>=0;){var u=8==r?255&t[a]:o(t,a);0>u?"-"==t.charAt(a)&&(i=!0):(i=!1,0==s?this[this.t++]=u:s+r>this.DB?(this[this.t-1]|=(u&(1<<this.DB-s)-1)<<s,this[this.t++]=u>>this.DB-s):this[this.t-1]|=u<<s,s+=r,s>=this.DB&&(s-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&e.ZERO.subTo(this,this)}function c(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function l(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,o=(1<<t)-1,a=!1,i="",s=this.t,u=this.DB-s*this.DB%t;if(s-->0)for(u<this.DB&&(n=this[s]>>u)>0&&(a=!0,i=r(n));s>=0;)t>u?(n=(this[s]&(1<<u)-1)<<t-u,n|=this[--s]>>(u+=this.DB-t)):(n=this[s]>>(u-=t)&o,0>=u&&(u+=this.DB,--s)),n>0&&(a=!0),a&&(i+=r(n));return a?i:"0"}function d(){var n=t();return e.ZERO.subTo(this,n),n}function p(){return this.s<0?this.negate():this}function f(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(t=n-e.t,0!=t)return t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function h(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function m(){return this.t<=0?0:this.DB*(this.t-1)+h(this[this.t-1]^this.s&this.DM)}function g(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function _(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function v(e,t){var n,r=e%this.DB,o=this.DB-r,a=(1<<o)-1,i=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+i+1]=this[n]>>o|s,s=(this[n]&a)<<r;for(n=i-1;n>=0;--n)t[n]=0;t[i]=s,t.t=this.t+i+1,t.s=this.s,t.clamp()}function y(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return void(t.t=0);var r=e%this.DB,o=this.DB-r,a=(1<<r)-1;t[0]=this[n]>>r;for(var i=n+1;i<this.t;++i)t[i-n-1]|=(this[i]&a)<<o,t[i-n]=this[i]>>r;r>0&&(t[this.t-n-1]|=(this.s&a)<<o),t.t=this.t-n,t.clamp()}function b(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);o>n;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=0>r?-1:0,-1>r?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function k(t,n){var r=this.abs(),o=t.abs(),a=r.t;for(n.t=a+o.t;--a>=0;)n[a]=0;for(a=0;a<o.t;++a)n[a+r.t]=r.am(0,o[a],n,a,0,r.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)}function w(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function S(n,r,o){var a=n.abs();if(!(a.t<=0)){var i=this.abs();if(i.t<a.t)return null!=r&&r.fromInt(0),void(null!=o&&this.copyTo(o));null==o&&(o=t());var s=t(),u=this.s,c=n.s,l=this.DB-h(a[a.t-1]);l>0?(a.lShiftTo(l,s),i.lShiftTo(l,o)):(a.copyTo(s),i.copyTo(o));var d=s.t,p=s[d-1];if(0!=p){var f=p*(1<<this.F1)+(d>1?s[d-2]>>this.F2:0),m=this.FV/f,g=(1<<this.F1)/f,_=1<<this.F2,v=o.t,y=v-d,b=null==r?t():r;for(s.dlShiftTo(y,b),o.compareTo(b)>=0&&(o[o.t++]=1,o.subTo(b,o)),e.ONE.dlShiftTo(d,b),b.subTo(s,s);s.t<d;)s[s.t++]=0;for(;--y>=0;){var k=o[--v]==p?this.DM:Math.floor(o[v]*m+(o[v-1]+_)*g);if((o[v]+=s.am(0,k,o,y,0,d))<k)for(s.dlShiftTo(y,b),o.subTo(b,o);o[v]<--k;)o.subTo(b,o)}null!=r&&(o.drShiftTo(d,r),u!=c&&e.ZERO.subTo(r,r)),o.t=d,o.clamp(),l>0&&o.rShiftTo(l,o),0>u&&e.ZERO.subTo(o,o)}}}function T(n){var r=t();return this.abs().divRemTo(n,null,r),this.s<0&&r.compareTo(e.ZERO)>0&&n.subTo(r,r),r}function M(e){this.m=e}function L(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function D(e){return e}function P(e){e.divRemTo(this.m,null,e)}function C(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function E(e,t){e.squareTo(t),this.reduce(t)}function x(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function I(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function A(n){var r=t();return n.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),n.s<0&&r.compareTo(e.ZERO)>0&&this.m.subTo(r,r),r}function O(e){var n=t();return e.copyTo(n),this.reduce(n),n}function N(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function Y(e,t){e.squareTo(t),this.reduce(t)}function F(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function H(){return 0==(this.t>0?1&this[0]:this.s)}function V(n,r){if(n>4294967295||1>n)return e.ONE;var o=t(),a=t(),i=r.convert(this),s=h(n)-1;for(i.copyTo(o);--s>=0;)if(r.sqrTo(o,a),(n&1<<s)>0)r.mulTo(a,i,o);else{var u=o;o=a,a=u}return r.revert(o)}function B(e,t){var n;return n=256>e||t.isEven()?new M(t):new I(t),this.exp(e,n)}function R(){var e=t();return this.copyTo(e),e}function U(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function j(){return 0==this.t?this.s:this[0]<<24>>24}function z(){return 0==this.t?this.s:this[0]<<16>>16}function $(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function q(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function W(e){if(null==e&&(e=10),0==this.signum()||2>e||e>36)return"0";var n=this.chunkSize(e),r=Math.pow(e,n),o=s(r),a=t(),i=t(),u="";for(this.divRemTo(o,a,i);a.signum()>0;)u=(r+i.intValue()).toString(e).substr(1)+u,a.divRemTo(o,a,i);return i.intValue().toString(e)+u}function G(t,n){this.fromInt(0),null==n&&(n=10);for(var r=this.chunkSize(n),a=Math.pow(n,r),i=!1,s=0,u=0,c=0;c<t.length;++c){var l=o(t,c);0>l?"-"==t.charAt(c)&&0==this.signum()&&(i=!0):(u=n*u+l,++s>=r&&(this.dMultiply(a),this.dAddOffset(u,0),s=0,u=0))}s>0&&(this.dMultiply(Math.pow(n,s)),this.dAddOffset(u,0)),i&&e.ZERO.subTo(this,this)}function K(t,n,r){if("number"==typeof n)if(2>t)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),rt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var o=new Array,a=7&t;o.length=(t>>3)+1,n.nextBytes(o),a>0?o[0]&=(1<<a)-1:o[0]=0,this.fromString(o,256)}}function J(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,o=0;if(e-->0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[o++]=n|this.s<<this.DB-r);e>=0;)8>r?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,0>=r&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==o&&(128&this.s)!=(128&n)&&++o,(o>0||n!=this.s)&&(t[o++]=n);return t}function Q(e){return 0==this.compareTo(e)}function X(e){return this.compareTo(e)<0?this:e}function Z(e){return this.compareTo(e)>0?this:e}function et(e,t,n){var r,o,a=Math.min(e.t,this.t);for(r=0;a>r;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(o=e.s&this.DM,r=a;r<this.t;++r)n[r]=t(this[r],o);n.t=this.t}else{for(o=this.s&this.DM,r=a;r<e.t;++r)n[r]=t(o,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function tt(e,t){return e&t}function nt(e){var n=t();return this.bitwiseTo(e,tt,n),n}function rt(e,t){return e|t}function ot(e){var n=t();return this.bitwiseTo(e,rt,n),n}function at(e,t){return e^t}function it(e){var n=t();return this.bitwiseTo(e,at,n),n}function st(e,t){return e&~t}function ut(e){var n=t();return this.bitwiseTo(e,st,n),n}function ct(){for(var e=t(),n=0;n<this.t;++n)e[n]=this.DM&~this[n];return e.t=this.t,e.s=~this.s,e}function lt(e){var n=t();return 0>e?this.rShiftTo(-e,n):this.lShiftTo(e,n),n}function dt(e){var n=t();return 0>e?this.lShiftTo(-e,n):this.rShiftTo(e,n),n}function pt(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function ft(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+pt(this[e]);return this.s<0?this.t*this.DB:-1}function ht(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function mt(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=ht(this[n]^t);return e}function gt(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function _t(t,n){var r=e.ONE.shiftLeft(t);return this.bitwiseTo(r,n,r),r}function vt(e){return this.changeBit(e,rt)}function yt(e){return this.changeBit(e,st)}function bt(e){return this.changeBit(e,at)}function kt(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);o>n;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=0>r?-1:0,r>0?t[n++]=r:-1>r&&(t[n++]=this.DV+r),t.t=n,t.clamp()}function wt(e){var n=t();return this.addTo(e,n),n}function St(e){var n=t();return this.subTo(e,n),n}function Tt(e){var n=t();return this.multiplyTo(e,n),n}function Mt(e){var n=t();return this.divRemTo(e,n,null),n}function Lt(e){var n=t();return this.divRemTo(e,null,n),n}function Dt(e){var n=t(),r=t();return this.divRemTo(e,n,r),new Array(n,r)}function Pt(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Ct(e,t){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}function Et(){}function xt(e){return e}function It(e,t,n){e.multiplyTo(t,n)}function At(e,t){e.squareTo(t)}function Ot(e){return this.exp(e,new Et)}function Nt(e,t,n){var r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n[--r]=0;var o;for(o=n.t-this.t;o>r;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(o=Math.min(e.t,t);o>r;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()}function Yt(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)}function Ft(n){this.r2=t(),this.q3=t(),e.ONE.dlShiftTo(2*n.t,this.r2),this.mu=this.r2.divide(n),this.m=n}function Ht(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var n=t();return e.copyTo(n),this.reduce(n),n}function Vt(e){return e}function Bt(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function Rt(e,t){e.squareTo(t),this.reduce(t)}function Ut(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function jt(e,n){var r,o,a=e.bitLength(),i=s(1);if(0>=a)return i;r=18>a?1:48>a?3:144>a?4:768>a?5:6,o=8>a?new M(n):n.isEven()?new Ft(n):new I(n);var u=new Array,c=3,l=r-1,d=(1<<r)-1;if(u[1]=o.convert(this),r>1){var p=t();for(o.sqrTo(u[1],p);d>=c;)u[c]=t(),o.mulTo(p,u[c-2],u[c]),c+=2}var f,m,g=e.t-1,_=!0,v=t();for(a=h(e[g])-1;g>=0;){for(a>=l?f=e[g]>>a-l&d:(f=(e[g]&(1<<a+1)-1)<<l-a,g>0&&(f|=e[g-1]>>this.DB+a-l)),c=r;0==(1&f);)f>>=1,--c;if((a-=c)<0&&(a+=this.DB,--g),_)u[f].copyTo(i),_=!1;else{for(;c>1;)o.sqrTo(i,v),o.sqrTo(v,i),c-=2;c>0?o.sqrTo(i,v):(m=i,i=v,v=m),o.mulTo(v,u[f],i)}for(;g>=0&&0==(e[g]&1<<a);)o.sqrTo(i,v),m=i,i=v,v=m,--a<0&&(a=this.DB-1,--g)}return o.revert(i)}function zt(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var o=t.getLowestSetBit(),a=n.getLowestSetBit();if(0>a)return t;for(a>o&&(a=o),a>0&&(t.rShiftTo(a,t),n.rShiftTo(a,n));t.signum()>0;)(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return a>0&&n.lShiftTo(a,n),n}function $t(e){if(0>=e)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n}function qt(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;for(var r=t.clone(),o=this.clone(),a=s(1),i=s(0),u=s(0),c=s(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),n?(a.isEven()&&i.isEven()||(a.addTo(this,a),i.subTo(t,i)),a.rShiftTo(1,a)):i.isEven()||i.subTo(t,i),i.rShiftTo(1,i);for(;o.isEven();)o.rShiftTo(1,o),n?(u.isEven()&&c.isEven()||(u.addTo(this,u),c.subTo(t,c)),u.rShiftTo(1,u)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);r.compareTo(o)>=0?(r.subTo(o,r),n&&a.subTo(u,a),i.subTo(c,i)):(o.subTo(r,o),n&&u.subTo(a,u),c.subTo(i,c))}return 0!=o.compareTo(e.ONE)?e.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c}function Wt(e){var t,n=this.abs();if(1==n.t&&n[0]<=tn[tn.length-1]){for(t=0;t<tn.length;++t)if(n[0]==tn[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<tn.length;){for(var r=tn[t],o=t+1;o<tn.length&&nn>r;)r*=tn[o++];for(r=n.modInt(r);o>t;)if(r%tn[t++]==0)return!1}return n.millerRabin(e)}function Gt(n){var r=this.subtract(e.ONE),o=r.getLowestSetBit();if(0>=o)return!1;var a=r.shiftRight(o);n=n+1>>1,n>tn.length&&(n=tn.length);for(var i=t(),s=0;n>s;++s){i.fromInt(tn[s]);var u=i.modPow(a,this);if(0!=u.compareTo(e.ONE)&&0!=u.compareTo(r)){for(var c=1;c++<o&&0!=u.compareTo(r);)if(u=u.modPowInt(2,this),0==u.compareTo(e.ONE))return!1;if(0!=u.compareTo(r))return!1}}return!0}var Kt;e.prototype.am=n,Kt=28,e.prototype.DB=Kt,e.prototype.DM=(1<<Kt)-1,e.prototype.DV=1<<Kt;var Jt=52;e.prototype.FV=Math.pow(2,Jt),e.prototype.F1=Jt-Kt,e.prototype.F2=2*Kt-Jt;var Qt,Xt,Zt="0123456789abcdefghijklmnopqrstuvwxyz",en=new Array;for(Qt="0".charCodeAt(0),Xt=0;9>=Xt;++Xt)en[Qt++]=Xt;for(Qt="a".charCodeAt(0),Xt=10;36>Xt;++Xt)en[Qt++]=Xt;for(Qt="A".charCodeAt(0),Xt=10;36>Xt;++Xt)en[Qt++]=Xt;M.prototype.convert=L,M.prototype.revert=D,M.prototype.reduce=P,M.prototype.mulTo=C,M.prototype.sqrTo=E,I.prototype.convert=A,I.prototype.revert=O,I.prototype.reduce=N,I.prototype.mulTo=F,I.prototype.sqrTo=Y,e.prototype.copyTo=a,e.prototype.fromInt=i,e.prototype.fromString=u,e.prototype.clamp=c,e.prototype.dlShiftTo=g,e.prototype.drShiftTo=_,e.prototype.lShiftTo=v,e.prototype.rShiftTo=y,e.prototype.subTo=b,e.prototype.multiplyTo=k,e.prototype.squareTo=w,e.prototype.divRemTo=S,e.prototype.invDigit=x,e.prototype.isEven=H,e.prototype.exp=V,e.prototype.toString=l,e.prototype.negate=d,e.prototype.abs=p,e.prototype.compareTo=f,e.prototype.bitLength=m,e.prototype.mod=T,e.prototype.modPowInt=B,e.ZERO=s(0),e.ONE=s(1),Et.prototype.convert=xt,Et.prototype.revert=xt,Et.prototype.mulTo=It,Et.prototype.sqrTo=At,Ft.prototype.convert=Ht,Ft.prototype.revert=Vt,Ft.prototype.reduce=Bt,Ft.prototype.mulTo=Ut,Ft.prototype.sqrTo=Rt;var tn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],nn=(1<<26)/tn[tn.length-1];return e.prototype.chunkSize=$,e.prototype.toRadix=W,e.prototype.fromRadix=G,e.prototype.fromNumber=K,e.prototype.bitwiseTo=et,e.prototype.changeBit=_t,e.prototype.addTo=kt,e.prototype.dMultiply=Pt,e.prototype.dAddOffset=Ct,e.prototype.multiplyLowerTo=Nt,e.prototype.multiplyUpperTo=Yt,e.prototype.modInt=$t,e.prototype.millerRabin=Gt,e.prototype.clone=R,e.prototype.intValue=U,e.prototype.byteValue=j,e.prototype.shortValue=z,e.prototype.signum=q,e.prototype.toByteArray=J,e.prototype.equals=Q,e.prototype.min=X,e.prototype.max=Z,e.prototype.and=nt,e.prototype.or=ot,e.prototype.xor=it,e.prototype.andNot=ut,e.prototype.not=ct,e.prototype.shiftLeft=lt,e.prototype.shiftRight=dt,e.prototype.getLowestSetBit=ft,e.prototype.bitCount=mt,e.prototype.testBit=gt,e.prototype.setBit=vt,e.prototype.clearBit=yt,e.prototype.flipBit=bt,e.prototype.add=wt,e.prototype.subtract=St,e.prototype.multiply=Tt,e.prototype.divide=Mt,e.prototype.remainder=Lt,e.prototype.divideAndRemainder=Dt,e.prototype.modPow=jt,e.prototype.modInverse=qt,e.prototype.pow=Ot,e.prototype.gcd=zt,e.prototype.isProbablePrime=Wt,e
}()}).call(this),function(){e={},e.generateVerifier=function(e,r){var o,a=i(r),s=r&&r.salt||n.secret(),u=r&&r.hashedIdentityAndPassword;u||(o=r&&r.identity||n.secret(),u=a.hash(o+":"+e));var c=a.hash(s+u),l=new t(c,16),d=a.g.modPow(l,a.N);return{identity:o,salt:s,verifier:d.toString(16)}},e.matchVerifier={identity:String,salt:String,verifier:String};var a={hash:function(e){return r(e).toLowerCase()},N:new t("EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",16),g:new t("2")};a.k=new t(a.hash(a.N.toString(16)+a.g.toString(16)),16);var i=function(e){if(!e)return a;var n=o.extend({},a);return o.each(["N","g","k"],function(r){if(e[r])if("string"==typeof e[r])n[r]=new t(e[r],16);else{if(!(e[r]instanceof t))throw new Error("Invalid parameter: "+r);n[r]=e[r]}}),e.hash&&(n.hash=function(t){return e.hash(t).toLowerCase()}),!e.k&&(e.N||e.g||e.hash)&&(n.k=n.hash(n.N.toString(16)+n.g.toString(16))),n}}.call(this),"undefined"==typeof Package&&(Package={}),Package.srp={SRP:e}}(),function(){{var e=Package.meteor.Meteor,t=Package["accounts-base"].Accounts,n=(Package.srp.SRP,Package.sha.SHA256),r=Package.underscore._;Package.livedata.DDP}(function(){e.loginWithPassword=function(e,n,r){"string"==typeof e&&(e=-1===e.indexOf("@")?{username:e}:{email:e}),t.callLoginMethod({methodArguments:[{user:e,password:o(n)}],userCallback:function(t){t&&400===t.error&&"old password format"===t.reason?a({upgradeError:t,userSelector:e,plaintextPassword:n},r):t?r&&r(t):r&&r()}})};var o=function(e){return{digest:n(e),algorithm:"sha-256"}},a=function(r,a){var i;try{i=EJSON.parse(r.upgradeError.details)}catch(s){}i&&"srp"===i.format?t.callLoginMethod({methodArguments:[{user:r.userSelector,srp:n(i.identity+":"+r.plaintextPassword),password:o(r.plaintextPassword)}],userCallback:a}):a&&a(new e.Error(400,"Password is old. Please reset your password."))};t.createUser=function(e,n){if(e=r.clone(e),!e.password)throw new Error("Must set options.password");e.password=o(e.password),t.callLoginMethod({methodName:"createUser",methodArguments:[e],userCallback:n})},t.changePassword=function(n,r,i){return e.user()?void t.connection.apply("changePassword",[n?o(n):null,o(r)],function(o,s){o||!s?o&&400===o.error&&"old password format"===o.reason?a({upgradeError:o,userSelector:{id:e.userId()},plaintextPassword:n},function(e){e?i&&i(e):t.changePassword(n,r,i)}):i&&i(o||new Error("No result from changePassword.")):i&&i()}):void(i&&i(new Error("Must be logged in to change password.")))},t.forgotPassword=function(e,n){if(!e.email)throw new Error("Must pass options.email");t.connection.call("forgotPassword",e,n)},t.resetPassword=function(e,n,r){if(!e)throw new Error("Need to pass token");if(!n)throw new Error("Need to pass newPassword");t.callLoginMethod({methodName:"resetPassword",methodArguments:[e,o(n)],userCallback:r})},t.verifyEmail=function(e,n){if(!e)throw new Error("Need to pass token");t.callLoginMethod({methodName:"verifyEmail",methodArguments:[e],userCallback:n})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-password"]={}}(),function(){var e,t,n,r,o,a,i,s,u=Package.meteor.Meteor,c=Package.deps.Deps,l=Package["service-configuration"].ServiceConfiguration,d=Package["accounts-base"].Accounts,p=Package.underscore._,f=Package.templating.Template,h=Package.session.Session,m=Package.ui.UI,g=(Package.ui.Handlebars,Package.htmljs.HTML),_=Package.blaze.Blaze;(function(){d.ui={},d.ui._options={requestPermissions:{},requestOfflineToken:{}},d.ui.config=function(e){var t=["passwordSignupFields","requestPermissions","requestOfflineToken"];if(p.each(p.keys(e),function(e){if(!p.contains(t,e))throw new Error("Accounts.ui.config: Invalid key: "+e)}),e.passwordSignupFields){if(!p.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY","EMAIL_ONLY"],e.passwordSignupFields))throw new Error("Accounts.ui.config: Invalid option for `passwordSignupFields`: "+e.passwordSignupFields);if(d.ui._options.passwordSignupFields)throw new Error("Accounts.ui.config: Can't set `passwordSignupFields` more than once");d.ui._options.passwordSignupFields=e.passwordSignupFields}e.requestPermissions&&p.each(e.requestPermissions,function(e,t){if(d.ui._options.requestPermissions[t])throw new Error("Accounts.ui.config: Can't set `requestPermissions` more than once for "+t);if(!(e instanceof Array))throw new Error("Accounts.ui.config: Value for `requestPermissions` must be an array");d.ui._options.requestPermissions[t]=e}),e.requestOfflineToken&&p.each(e.requestOfflineToken,function(e,t){if("google"!==t)throw new Error("Accounts.ui.config: `requestOfflineToken` only supported for Google login at the moment.");if(d.ui._options.requestOfflineToken[t])throw new Error("Accounts.ui.config: Can't set `requestOfflineToken` more than once for "+t);d.ui._options.requestOfflineToken[t]=e})},e=function(){return d.ui._options.passwordSignupFields||"EMAIL_ONLY"}}).call(this),function(){f.__define__("loginButtons",function(){var e=this;return g.DIV({id:"login-buttons","class":function(){return["login-buttons-dropdown-align-",Spacebars.mustache(e.lookup("align"))]}},"\n    ",_.If(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return["\n      ",_.If(function(){return Spacebars.call(e.lookup("loggingIn"))},function(){return["\n        \n        ",_.If(function(){return Spacebars.call(e.lookup("dropdown"))},function(){return["\n          ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggingIn")),"\n        "]},function(){return["\n          ",g.DIV({"class":"login-buttons-with-only-one-button"},"\n            ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggingInSingleLoginButton")),"\n          "),"\n        "]}),"\n      "]},function(){return["\n        ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedIn")),"\n      "]}),"\n    "]},function(){return["\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOut")),"\n    "]}),"\n  ")}),f.__define__("_loginButtonsLoggedIn",function(){var e=this;return _.If(function(){return Spacebars.call(e.lookup("dropdown"))},function(){return["\n    ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedInDropdown")),"\n  "]},function(){return["\n    ",g.DIV({"class":"login-buttons-with-only-one-button"},"\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedInSingleLogoutButton")),"\n    "),"\n  "]})}),f.__define__("_loginButtonsLoggedOut",function(){var e=this;return _.If(function(){return Spacebars.call(e.lookup("services"))},function(){return[" \n    ",_.If(function(){return Spacebars.call(e.lookup("configurationLoaded"))},function(){return["\n      ",_.If(function(){return Spacebars.call(e.lookup("dropdown"))},function(){return[" \n        ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutDropdown")),"\n      "]},function(){return["\n        ",Spacebars.With(function(){return Spacebars.call(e.lookup("singleService"))},function(){return[" \n          ",g.DIV({"class":"login-buttons-with-only-one-button"},"\n            ",_.If(function(){return Spacebars.call(e.lookup("loggingIn"))},function(){return["\n              ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggingInSingleLoginButton")),"\n            "]},function(){return["\n              ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutSingleLoginButton")),"\n            "]}),"\n          "),"\n        "]}),"\n      "]}),"\n    "]}),"\n  "]},function(){return["\n    ",g.DIV({"class":"no-services"},"No login services configured"),"\n  "]})}),f.__define__("_loginButtonsMessages",function(){var e=this;return[_.If(function(){return Spacebars.call(e.lookup("errorMessage"))},function(){return["\n    ",g.DIV({"class":"message error-message"},_.View(function(){return Spacebars.mustache(e.lookup("errorMessage"))})),"\n  "]}),"\n  ",_.If(function(){return Spacebars.call(e.lookup("infoMessage"))},function(){return["\n    ",g.DIV({"class":"message info-message"},_.View(function(){return Spacebars.mustache(e.lookup("infoMessage"))})),"\n  "]})]}),f.__define__("_loginButtonsLoggingIn",function(){var e=this;return[Spacebars.include(e.lookupTemplate("_loginButtonsLoggingInPadding")),g.Raw('\n  <div class="loading">&nbsp;</div>\n  '),Spacebars.include(e.lookupTemplate("_loginButtonsLoggingInPadding"))]}),f.__define__("_loginButtonsLoggingInPadding",function(){var e=this;return _.Unless(function(){return Spacebars.call(e.lookup("dropdown"))},function(){return["\n    \n    ",g.DIV({"class":"login-buttons-padding"},"\n      ",g.DIV({"class":"login-button single-login-button",style:"visibility: hidden;",id:"login-buttons-logout"},g.CharRef({html:"&nbsp;",str:" "})),"\n    "),"\n  "]},function(){return["\n    \n    ",g.DIV({"class":"login-buttons-padding"}),"\n  "]})})}.call(this),function(){f.__define__("_loginButtonsLoggedOutSingleLoginButton",function(){var e=this;return g.DIV({"class":"login-text-and-button"},"\n    ",g.DIV({"class":function(){return["login-button single-login-button ",_.Unless(function(){return Spacebars.call(e.lookup("configured"))},function(){return"configure-button"})]},id:function(){return["login-buttons-",Spacebars.mustache(e.lookup("name"))]}},"\n      ",g.DIV({"class":"login-image",id:function(){return["login-buttons-image-",Spacebars.mustache(e.lookup("name"))]}}),"\n      ",_.If(function(){return Spacebars.call(e.lookup("configured"))},function(){return["\n        ",g.SPAN({"class":function(){return["text-besides-image sign-in-text-",Spacebars.mustache(e.lookup("name"))]}},"Sign in with ",_.View(function(){return Spacebars.mustache(e.lookup("capitalizedName"))})),"\n      "]},function(){return["\n        ",g.SPAN({"class":function(){return["text-besides-image configure-text-",Spacebars.mustache(e.lookup("name"))]}},"Configure ",_.View(function(){return Spacebars.mustache(e.lookup("capitalizedName"))})," Login"),"\n      "]}),"\n    "),"\n  ")}),f.__define__("_loginButtonsLoggingInSingleLoginButton",function(){var e=this;return g.DIV({"class":"login-text-and-button"},"\n    ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggingIn")),"\n  ")}),f.__define__("_loginButtonsLoggedInSingleLogoutButton",function(){var e=this;return g.DIV({"class":"login-text-and-button"},"\n    ",g.DIV({"class":"login-display-name"},"\n      ",_.View(function(){return Spacebars.mustache(e.lookup("displayName"))}),"\n    "),g.Raw('\n    <div class="login-button single-login-button" id="login-buttons-logout">Sign Out</div>\n  '))})}.call(this),function(){f.__define__("_loginButtonsLoggedInDropdown",function(){var e=this;return g.DIV({"class":"login-link-and-dropdown-list"},"\n    ",g.A({"class":"login-link-text",id:"login-name-link"},"\n      ",_.View(function(){return Spacebars.mustache(e.lookup("displayName"))})," ▾\n    "),"\n\n    ",_.If(function(){return Spacebars.call(e.lookup("dropdownVisible"))},function(){return["\n      ",g.DIV({id:"login-dropdown-list","class":"accounts-dialog"},"\n        ",g.A({"class":"login-close-text"},"Close"),"\n        ",g.DIV({"class":"login-close-text-clear"}),"\n\n        ",_.If(function(){return Spacebars.call(e.lookup("inMessageOnlyFlow"))},function(){return["\n          ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n        "]},function(){return["\n          ",_.If(function(){return Spacebars.call(e.lookup("inChangePasswordFlow"))},function(){return["\n            ",Spacebars.include(e.lookupTemplate("_loginButtonsChangePassword")),"\n          "]},function(){return["\n            ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedInDropdownActions")),"\n          "]}),"\n        "]}),"\n      "),"\n    "]}),"\n  ")}),f.__define__("_loginButtonsLoggedInDropdownActions",function(){var e=this;return[_.If(function(){return Spacebars.call(e.lookup("allowChangingPassword"))},function(){return["\n    ",g.DIV({"class":"login-button",id:"login-buttons-open-change-password"},"\n      Change password\n    "),"\n  "]}),g.Raw('\n\n  <div class="login-button" id="login-buttons-logout">\n    Sign out\n  </div>\n\n  '),Spacebars.include(e.lookupTemplate("_loginButtonsMessages"))]}),f.__define__("_loginButtonsLoggedOutDropdown",function(){var e=this;return g.DIV({"class":function(){return["login-link-and-dropdown-list ",Spacebars.mustache(e.lookup("additionalClasses"))]}},"\n    ",_.If(function(){return Spacebars.call(e.lookup("dropdownVisible"))},function(){return["\n      \n      ",g.A({"class":"login-link-text",id:"login-sign-in-link"},"Sign in ▾"),"\n      ",g.DIV({id:"login-dropdown-list","class":"accounts-dialog"},"\n        ",g.A({"class":"login-close-text"},"Close"),"\n        ",_.If(function(){return Spacebars.call(e.lookup("loggingIn"))},function(){return["\n          ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggingIn")),"\n        "]}),"\n        ",g.DIV({"class":"login-close-text-clear"}),"\n        ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutAllServices")),"\n      "),"\n    "]},function(){return["\n      ",_.If(function(){return Spacebars.call(e.lookup("loggingIn"))},function(){return["\n        \n        ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggingIn")),"\n      "]},function(){return["\n        ",g.A({"class":"login-link-text",id:"login-sign-in-link"},"Sign in ▾"),"\n      "]}),"\n    "]}),"\n  ")}),f.__define__("_loginButtonsLoggedOutAllServices",function(){var e=this;return[_.Each(function(){return Spacebars.call(e.lookup("services"))},function(){return["\n    ",_.If(function(){return Spacebars.call(e.lookup("isPasswordService"))},function(){return["\n      ",_.If(function(){return Spacebars.call(e.lookup("hasOtherServices"))},function(){return[" \n        ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutPasswordServiceSeparator")),"\n      "]}),"\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutPasswordService")),"\n    "]},function(){return["\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsLoggedOutSingleLoginButton")),"\n    "]}),"\n  "]}),"\n\n  ",_.Unless(function(){return Spacebars.call(e.lookup("hasPasswordService"))},function(){return["\n    ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n  "]})]}),f.__define__("_loginButtonsLoggedOutPasswordServiceSeparator",function(){return g.Raw('<div class="or">\n    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n    <span class="or-text">or</span>\n    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n  </div>')}),f.__define__("_loginButtonsLoggedOutPasswordService",function(){var e=this;return _.If(function(){return Spacebars.call(e.lookup("inForgotPasswordFlow"))},function(){return["\n    ",Spacebars.include(e.lookupTemplate("_forgotPasswordForm")),"\n  "]},function(){return["\n    ",g.DIV({"class":"login-form login-password-form"},"\n      ",_.Each(function(){return Spacebars.call(e.lookup("fields"))},function(){return["\n        ",Spacebars.include(e.lookupTemplate("_loginButtonsFormField")),"\n      "]}),"\n\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n\n      ",g.DIV({"class":"login-button login-button-form-submit",id:"login-buttons-password"},"\n        ",_.If(function(){return Spacebars.call(e.lookup("inSignupFlow"))},function(){return"\n          Create account\n        "},function(){return"\n          Sign in\n        "}),"\n      "),"\n\n      ",_.If(function(){return Spacebars.call(e.lookup("inLoginFlow"))},function(){return["\n        ",_.If(function(){return Spacebars.call(e.lookup("showCreateAccountLink"))},function(){return["\n          ",g.DIV({"class":"additional-link-container"},"\n            ",g.A({id:"signup-link","class":"additional-link"},"Create account"),"\n          "),"\n        "]}),"\n\n        ",_.If(function(){return Spacebars.call(e.lookup("showForgotPasswordLink"))},function(){return["\n          ",g.DIV({"class":"additional-link-container"},"\n            ",g.A({id:"forgot-password-link","class":"additional-link"},"Forgot password"),"\n          "),"\n        "]}),"\n      "]}),"\n\n      ",_.If(function(){return Spacebars.call(e.lookup("inSignupFlow"))},function(){return["\n        ",Spacebars.include(e.lookupTemplate("_loginButtonsBackToLoginLink")),"\n      "]}),"\n    "),"\n  "]})}),f.__define__("_forgotPasswordForm",function(){var e=this;return g.DIV({"class":"login-form"},g.Raw('\n    <div id="forgot-password-email-label-and-input"> \n      <label id="forgot-password-email-label" for="forgot-password-email">Email</label>\n      <input id="forgot-password-email" type="email">\n    </div>\n\n    '),Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),g.Raw('\n\n    <div class="login-button login-button-form-submit" id="login-buttons-forgot-password">\n      Reset password\n    </div>\n\n    '),Spacebars.include(e.lookupTemplate("_loginButtonsBackToLoginLink")),"\n  ")}),f.__define__("_loginButtonsBackToLoginLink",function(){return g.Raw('<div class="additional-link-container">\n    <a id="back-to-login-link" class="additional-link">Sign in</a>\n  </div>')}),f.__define__("_loginButtonsFormField",function(){var e=this;return _.If(function(){return Spacebars.call(e.lookup("visible"))},function(){return["\n    ",g.DIV({id:function(){return["login-",Spacebars.mustache(e.lookup("fieldName")),"-label-and-input"]}},"\n      ",g.LABEL({id:function(){return["login-",Spacebars.mustache(e.lookup("fieldName")),"-label"]},"for":function(){return["login-",Spacebars.mustache(e.lookup("fieldName"))]}},"\n        ",_.View(function(){return Spacebars.mustache(e.lookup("fieldLabel"))}),"\n      "),"\n      ",g.INPUT({id:function(){return["login-",Spacebars.mustache(e.lookup("fieldName"))]},type:function(){return Spacebars.mustache(e.lookup("inputType"))}}),"\n    "),"\n  "]})}),f.__define__("_loginButtonsChangePassword",function(){var e=this;return[_.Each(function(){return Spacebars.call(e.lookup("fields"))},function(){return["\n    ",Spacebars.include(e.lookupTemplate("_loginButtonsFormField")),"\n  "]}),"\n\n  ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),g.Raw('\n\n  <div class="login-button login-button-form-submit" id="login-buttons-do-change-password">\n    Change password\n  </div>')]})}.call(this),function(){f.__body__.__contentParts.push(_.View("body_content_"+f.__body__.__contentParts.length,function(){var e=this;return[Spacebars.include(e.lookupTemplate("_resetPasswordDialog")),"\n  ",Spacebars.include(e.lookupTemplate("_justResetPasswordDialog")),"\n  ",Spacebars.include(e.lookupTemplate("_enrollAccountDialog")),"\n  ",Spacebars.include(e.lookupTemplate("_justVerifiedEmailDialog")),"\n  ",Spacebars.include(e.lookupTemplate("_configureLoginServiceDialog")),g.Raw("\n\n  <!-- if we're not showing a dropdown, we need some other place to show messages -->\n  "),Spacebars.include(e.lookupTemplate("_loginButtonsMessagesDialog"))]})),u.startup(f.__body__.__instantiate),f.__define__("_resetPasswordDialog",function(){var e=this;return _.If(function(){return Spacebars.call(e.lookup("inResetPasswordFlow"))},function(){return["\n    ",g.DIV({"class":"hide-background"}),"\n\n    ",g.DIV({"class":"accounts-dialog accounts-centered-dialog"},"\n      ",g.LABEL({id:"reset-password-new-password-label","for":"reset-password-new-password"},"\n        New password\n      "),"\n\n      ",g.DIV({"class":"reset-password-new-password-wrapper"},"\n        ",g.INPUT({id:"reset-password-new-password",type:"password"}),"\n      "),"\n\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n\n      ",g.DIV({"class":"login-button login-button-form-submit",id:"login-buttons-reset-password-button"},"\n        Set password\n      "),"\n\n      ",g.A({"class":"accounts-close",id:"login-buttons-cancel-reset-password"},g.CharRef({html:"&times;",str:"×"})),"\n    "),"\n  "]})}),f.__define__("_justResetPasswordDialog",function(){var e=this;return _.If(function(){return Spacebars.call(e.lookup("visible"))},function(){return["\n    ",g.DIV({"class":"accounts-dialog accounts-centered-dialog"},"\n      Password reset.\n      You are now logged in as ",_.View(function(){return Spacebars.mustache(e.lookup("displayName"))}),".\n      ",g.DIV({"class":"login-button",id:"just-verified-dismiss-button"},"Dismiss"),"\n    "),"\n  "]})}),f.__define__("_enrollAccountDialog",function(){var e=this;return _.If(function(){return Spacebars.call(e.lookup("inEnrollAccountFlow"))},function(){return["\n    ",g.DIV({"class":"hide-background"}),"\n\n    ",g.DIV({"class":"accounts-dialog accounts-centered-dialog"},"\n      ",g.LABEL({id:"enroll-account-password-label","for":"enroll-account-password"},"\n        Choose a password\n      "),"\n\n      ",g.DIV({"class":"enroll-account-password-wrapper"},"\n        ",g.INPUT({id:"enroll-account-password",type:"password"}),"\n      "),"\n\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n\n      ",g.DIV({"class":"login-button login-button-form-submit",id:"login-buttons-enroll-account-button"},"\n        Create account\n      "),"\n\n      ",g.A({"class":"accounts-close",id:"login-buttons-cancel-enroll-account"},g.CharRef({html:"&times;",str:"×"})),"\n    "),"\n  "]})}),f.__define__("_justVerifiedEmailDialog",function(){var e=this;return _.If(function(){return Spacebars.call(e.lookup("visible"))},function(){return["\n    ",g.DIV({"class":"accounts-dialog accounts-centered-dialog"},"\n      Email verified.\n      You are now logged in as ",_.View(function(){return Spacebars.mustache(e.lookup("displayName"))}),".\n      ",g.DIV({"class":"login-button",id:"just-verified-dismiss-button"},"Dismiss"),"\n    "),"\n  "]})}),f.__define__("_configureLoginServiceDialog",function(){var e=this;return _.If(function(){return Spacebars.call(e.lookup("visible"))},function(){return["\n    ",g.DIV({id:"configure-login-service-dialog","class":"accounts-dialog accounts-centered-dialog"},"\n      ",Spacebars.include(e.lookupTemplate("configurationSteps")),"\n\n      ",g.P("\n        Now, copy over some details.\n      "),"\n      ",g.P("\n        ",g.TABLE("\n          ",g.COLGROUP("\n            ",g.COL({span:"1","class":"configuration_labels"}),"\n            ",g.COL({span:"1","class":"configuration_inputs"}),"\n          "),"\n          ",_.Each(function(){return Spacebars.call(e.lookup("configurationFields"))},function(){return["\n            ",g.TR("\n              ",g.TD("\n                ",g.LABEL({"for":function(){return["configure-login-service-dialog-",Spacebars.mustache(e.lookup("property"))]}},_.View(function(){return Spacebars.mustache(e.lookup("label"))})),"\n              "),"\n              ",g.TD("\n                ",g.INPUT({id:function(){return["configure-login-service-dialog-",Spacebars.mustache(e.lookup("property"))]},type:"text"}),"\n              "),"\n            "),"\n          "]}),"\n        "),"\n      "),"\n      ",g.DIV({"class":"new-section"},"\n        ",g.DIV({"class":"login-button configure-login-service-dismiss-button"},"\n          I'll do this later\n        "),"\n        ",g.A({"class":"accounts-close configure-login-service-dismiss-button"},g.CharRef({html:"&times;",str:"×"})),"\n\n        ",g.DIV({"class":function(){return["login-button login-button-configure ",_.If(function(){return Spacebars.call(e.lookup("saveDisabled"))},function(){return"login-button-disabled"})]},id:"configure-login-service-dialog-save-configuration"},"\n          Save Configuration\n        "),"\n      "),"\n    "),"\n  "]})}),f.__define__("_loginButtonsMessagesDialog",function(){var e=this;return _.If(function(){return Spacebars.call(e.lookup("visible"))},function(){return["\n    ",g.DIV({"class":"accounts-dialog accounts-centered-dialog",id:"login-buttons-message-dialog"},"\n      ",Spacebars.include(e.lookupTemplate("_loginButtonsMessages")),"\n      ",g.DIV({"class":"login-button",id:"messages-dialog-dismiss-button"},"Dismiss"),"\n    "),"\n  "]})})}.call(this),function(){var e=["dropdownVisible","inSignupFlow","inForgotPasswordFlow","inChangePasswordFlow","inMessageOnlyFlow","errorMessage","infoMessage","resetPasswordToken","enrollAccountToken","justVerifiedEmail","justResetPassword","configureLoginServiceDialogVisible","configureLoginServiceDialogServiceName","configureLoginServiceDialogSaveDisabled"],t=function(t){if(!p.contains(e,t))throw new Error("Invalid key in loginButtonsSession: "+t)},n="Meteor.loginButtons.";d._loginButtonsSession={set:function(e,n){if(t(e),p.contains(["errorMessage","infoMessage"],e))throw new Error("Don't set errorMessage or infoMessage directly. Instead, use errorMessage() or infoMessage().");this._set(e,n)},_set:function(e,t){h.set(n+e,t)},get:function(e){return t(e),h.get(n+e)},closeDropdown:function(){this.set("inSignupFlow",!1),this.set("inForgotPasswordFlow",!1),this.set("inChangePasswordFlow",!1),this.set("inMessageOnlyFlow",!1),this.set("dropdownVisible",!1),this.resetMessages()},infoMessage:function(e){this._set("errorMessage",null),this._set("infoMessage",e),this.ensureMessageVisible()},errorMessage:function(e){this._set("errorMessage",e),this._set("infoMessage",null),this.ensureMessageVisible()},isMessageDialogVisible:function(){return this.get("resetPasswordToken")||this.get("enrollAccountToken")||this.get("justVerifiedEmail")},ensureMessageVisible:function(){this.isMessageDialogVisible()||this.set("dropdownVisible",!0)},resetMessages:function(){this._set("errorMessage",null),this._set("infoMessage",null)},configureService:function(e){this.set("configureLoginServiceDialogVisible",!0),this.set("configureLoginServiceDialogServiceName",e),this.set("configureLoginServiceDialogSaveDisabled",!0)}}}.call(this),function(){var c=d._loginButtonsSession;f.loginButtons.events({"click #login-buttons-logout":function(){u.logout(function(){c.closeDropdown()})}}),m.registerHelper("loginButtons",function(){throw new Error("Use {{> loginButtons}} instead of {{loginButtons}}")}),t=function(){var e=u.user();return e?e.profile&&e.profile.name?e.profile.name:e.username?e.username:e.emails&&e.emails[0]&&e.emails[0].address?e.emails[0].address:"":""},n=function(){var e=Package["accounts-oauth"]?d.oauth.serviceNames():[];return e.sort(),r()&&e.push("password"),p.map(e,function(e){return{name:e}})},r=function(){return!!Package["accounts-password"]},o=function(){return r()||n().length>1},a=function(e){return e.length>=3?!0:(c.errorMessage("Username must be at least 3 characters long"),!1)},i=function(t){return"USERNAME_AND_OPTIONAL_EMAIL"===e()&&""===t?!0:-1!==t.indexOf("@")?!0:(c.errorMessage("Invalid email"),!1)},s=function(e){return e.length>=6?!0:(c.errorMessage("Password must be at least 6 characters long"),!1)},f._loginButtonsLoggedOut.dropdown=o,f._loginButtonsLoggedOut.services=n,f._loginButtonsLoggedOut.singleService=function(){var e=n();if(1!==e.length)throw new Error("Shouldn't be rendering this template with more than one configured service");return e[0]},f._loginButtonsLoggedOut.configurationLoaded=function(){return d.loginServicesConfigured()},f._loginButtonsLoggedIn.dropdown=o,f._loginButtonsLoggedInSingleLogoutButton.displayName=t,f._loginButtonsMessages.errorMessage=function(){return c.get("errorMessage")},f._loginButtonsMessages.infoMessage=function(){return c.get("infoMessage")},f._loginButtonsLoggingInPadding.dropdown=o}.call(this),function(){var e=d._loginButtonsSession;f._loginButtonsLoggedOutSingleLoginButton.events({"click .login-button":function(){var n=this.name;e.resetMessages();var r=function(t){t?t instanceof d.LoginCancelledError||(t instanceof l.ConfigError?e.configureService(n):e.errorMessage(t.reason||"Unknown error")):e.closeDropdown()},o=u["loginWith"+("meteor-developer"===n?"MeteorDeveloperAccount":t(n))],a={};d.ui._options.requestPermissions[n]&&(a.requestPermissions=d.ui._options.requestPermissions[n]),d.ui._options.requestOfflineToken[n]&&(a.requestOfflineToken=d.ui._options.requestOfflineToken[n]),o(a,r)}}),f._loginButtonsLoggedOutSingleLoginButton.configured=function(){return!!l.configurations.findOne({service:this.name})},f._loginButtonsLoggedOutSingleLoginButton.capitalizedName=function(){return"github"===this.name?"GitHub":"meteor-developer"===this.name?"Meteor":t(this.name)};var t=function(e){return e=null==e?"":String(e),e.charAt(0).toUpperCase()+e.slice(1)}}.call(this),function(){var o=d._loginButtonsSession;f.loginButtons.events({"click #login-name-link, click #login-sign-in-link":function(){o.set("dropdownVisible",!0),c.flush(),k()},"click .login-close-text":function(){o.closeDropdown()}}),f._loginButtonsLoggedInDropdown.events({"click #login-buttons-open-change-password":function(){o.resetMessages(),o.set("inChangePasswordFlow",!0)}}),f._loginButtonsLoggedInDropdown.displayName=t,f._loginButtonsLoggedInDropdown.inChangePasswordFlow=function(){return o.get("inChangePasswordFlow")},f._loginButtonsLoggedInDropdown.inMessageOnlyFlow=function(){return o.get("inMessageOnlyFlow")},f._loginButtonsLoggedInDropdown.dropdownVisible=function(){return o.get("dropdownVisible")},f._loginButtonsLoggedInDropdownActions.allowChangingPassword=function(){var e=u.user();return e.username||e.emails&&e.emails[0]&&e.emails[0].address},f._loginButtonsLoggedOutDropdown.events({"click #login-buttons-password":function(){m()},"keypress #forgot-password-email":function(e){13===e.keyCode&&v()},"click #login-buttons-forgot-password":function(){v()},"click #signup-link":function(){o.resetMessages();var e=h("login-username"),t=h("login-email"),n=h("login-username-or-email"),r=l("login-password");o.set("inSignupFlow",!0),o.set("inForgotPasswordFlow",!1),c.flush(),null!==e?document.getElementById("login-username").value=e:null!==t?document.getElementById("login-email").value=t:null!==n&&(-1===n.indexOf("@")?document.getElementById("login-username").value=n:document.getElementById("login-email").value=n),null!==r&&(document.getElementById("login-password").value=r);var a=document.getElementById("login-dropdown-list");a.style.display="none",a.offsetHeight,a.style.display="block"},"click #forgot-password-link":function(){o.resetMessages();var e=h("login-email"),t=h("login-username-or-email");o.set("inSignupFlow",!1),o.set("inForgotPasswordFlow",!0),c.flush(),null!==e?document.getElementById("forgot-password-email").value=e:null!==t&&-1!==t.indexOf("@")&&(document.getElementById("forgot-password-email").value=t)},"click #back-to-login-link":function(){o.resetMessages();var e=h("login-username"),t=h("login-email")||h("forgot-password-email"),n=l("login-password");o.set("inSignupFlow",!1),o.set("inForgotPasswordFlow",!1),c.flush(),document.getElementById("login-username")&&(document.getElementById("login-username").value=e),document.getElementById("login-email")&&(document.getElementById("login-email").value=t),document.getElementById("login-username-or-email")&&(document.getElementById("login-username-or-email").value=t||e),null!==n&&(document.getElementById("login-password").value=n)},"keypress #login-username, keypress #login-email, keypress #login-username-or-email, keypress #login-password, keypress #login-password-again":function(e){13===e.keyCode&&m()}}),f._loginButtonsLoggedOutDropdown.additionalClasses=function(){return r()?o.get("inSignupFlow")?"login-form-create-account":o.get("inForgotPasswordFlow")?"login-form-forgot-password":"login-form-sign-in":!1},f._loginButtonsLoggedOutDropdown.dropdownVisible=function(){return o.get("dropdownVisible")},f._loginButtonsLoggedOutDropdown.hasPasswordService=r,f._loginButtonsLoggedOutAllServices.services=n,f._loginButtonsLoggedOutAllServices.isPasswordService=function(){return"password"===this.name},f._loginButtonsLoggedOutAllServices.hasOtherServices=function(){return n().length>1},f._loginButtonsLoggedOutAllServices.hasPasswordService=r,f._loginButtonsLoggedOutPasswordService.fields=function(){var t=[{fieldName:"username-or-email",fieldLabel:"Username or Email",visible:function(){return p.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL"],e())
}},{fieldName:"username",fieldLabel:"Username",visible:function(){return"USERNAME_ONLY"===e()}},{fieldName:"email",fieldLabel:"Email",inputType:"email",visible:function(){return"EMAIL_ONLY"===e()}},{fieldName:"password",fieldLabel:"Password",inputType:"password",visible:function(){return!0}}],n=[{fieldName:"username",fieldLabel:"Username",visible:function(){return p.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e())}},{fieldName:"email",fieldLabel:"Email",inputType:"email",visible:function(){return p.contains(["USERNAME_AND_EMAIL","EMAIL_ONLY"],e())}},{fieldName:"email",fieldLabel:"Email (optional)",inputType:"email",visible:function(){return"USERNAME_AND_OPTIONAL_EMAIL"===e()}},{fieldName:"password",fieldLabel:"Password",inputType:"password",visible:function(){return!0}},{fieldName:"password-again",fieldLabel:"Password (again)",inputType:"password",visible:function(){return p.contains(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e())}}];return o.get("inSignupFlow")?n:t},f._loginButtonsLoggedOutPasswordService.inForgotPasswordFlow=function(){return o.get("inForgotPasswordFlow")},f._loginButtonsLoggedOutPasswordService.inLoginFlow=function(){return!o.get("inSignupFlow")&&!o.get("inForgotPasswordFlow")},f._loginButtonsLoggedOutPasswordService.inSignupFlow=function(){return o.get("inSignupFlow")},f._loginButtonsLoggedOutPasswordService.showCreateAccountLink=function(){return!d._options.forbidClientAccountCreation},f._loginButtonsLoggedOutPasswordService.showForgotPasswordLink=function(){return p.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","EMAIL_ONLY"],e())},f._loginButtonsFormField.inputType=function(){return this.inputType||"text"},f._loginButtonsChangePassword.events({"keypress #login-old-password, keypress #login-password, keypress #login-password-again":function(e){13===e.keyCode&&y()},"click #login-buttons-do-change-password":function(){y()}}),f._loginButtonsChangePassword.fields=function(){return[{fieldName:"old-password",fieldLabel:"Current Password",inputType:"password",visible:function(){return!0}},{fieldName:"password",fieldLabel:"New Password",inputType:"password",visible:function(){return!0}},{fieldName:"password-again",fieldLabel:"New Password (again)",inputType:"password",visible:function(){return p.contains(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e())}}]};var l=function(e){var t=document.getElementById(e);return t?t.value:null},h=function(e){var t=document.getElementById(e);return t?t.value.replace(/^\s*|\s*$/g,""):null},m=function(){o.get("inSignupFlow")?_():g()},g=function(){o.resetMessages();var e,t=h("login-username"),n=h("login-email"),r=h("login-username-or-email"),s=l("login-password");if(null!==t){if(!a(t))return;e={username:t}}else if(null!==n){if(!i(n))return;e={email:n}}else{if(null===r)throw new Error("Unexpected -- no element to use as a login user selector");if(!a(r))return;e=r}u.loginWithPassword(e,s,function(e){e?o.errorMessage(e.reason||"Unknown error"):o.closeDropdown()})},_=function(){o.resetMessages();var e={},t=h("login-username");if(null!==t){if(!a(t))return;e.username=t}var n=h("login-email");if(null!==n){if(!i(n))return;e.email=n}var r=l("login-password");s(r)&&(e.password=r,b()&&d.createUser(e,function(e){e?o.errorMessage(e.reason||"Unknown error"):o.closeDropdown()}))},v=function(){o.resetMessages();var e=h("forgot-password-email");-1!==e.indexOf("@")?d.forgotPassword({email:e},function(e){e?o.errorMessage(e.reason||"Unknown error"):o.infoMessage("Email sent")}):o.errorMessage("Invalid email")},y=function(){o.resetMessages();var e=l("login-old-password"),t=l("login-password");s(t)&&b()&&d.changePassword(e,t,function(e){e?o.errorMessage(e.reason||"Unknown error"):(o.set("inChangePasswordFlow",!1),o.set("inMessageOnlyFlow",!0),o.infoMessage("Password changed"))})},b=function(){var e=l("login-password-again");if(null!==e){var t=l("login-password");if(t!==e)return o.errorMessage("Passwords don't match"),!1}return!0},k=function(){for(var e=document.getElementById("login-dropdown-list").parentNode;"BODY"!==e.nodeName;e=e.parentNode)0===e.style.zIndex&&(e.style.zIndex=1)}}.call(this),function(){var e=d._loginButtonsSession;d._resetPasswordToken&&e.set("resetPasswordToken",d._resetPasswordToken),d._enrollAccountToken&&e.set("enrollAccountToken",d._enrollAccountToken),u.startup(function(){d._verifyEmailToken&&d.verifyEmail(d._verifyEmailToken,function(t){d._enableAutoLogin(),t||e.set("justVerifiedEmail",!0)})}),f._resetPasswordDialog.events({"click #login-buttons-reset-password-button":function(){n()},"keypress #reset-password-new-password":function(e){13===e.keyCode&&n()},"click #login-buttons-cancel-reset-password":function(){e.set("resetPasswordToken",null),d._enableAutoLogin()}});var n=function(){e.resetMessages();var t=document.getElementById("reset-password-new-password").value;s(t)&&d.resetPassword(e.get("resetPasswordToken"),t,function(t){t?e.errorMessage(t.reason||"Unknown error"):(e.set("resetPasswordToken",null),e.set("justResetPassword",!0),d._enableAutoLogin())})};f._resetPasswordDialog.inResetPasswordFlow=function(){return e.get("resetPasswordToken")},f._justResetPasswordDialog.events({"click #just-verified-dismiss-button":function(){e.set("justResetPassword",!1)}}),f._justResetPasswordDialog.visible=function(){return e.get("justResetPassword")},f._justResetPasswordDialog.displayName=t,f._enrollAccountDialog.events({"click #login-buttons-enroll-account-button":function(){r()},"keypress #enroll-account-password":function(e){13===e.keyCode&&r()},"click #login-buttons-cancel-enroll-account":function(){e.set("enrollAccountToken",null),d._enableAutoLogin()}});var r=function(){e.resetMessages();var t=document.getElementById("enroll-account-password").value;s(t)&&d.resetPassword(e.get("enrollAccountToken"),t,function(t){t?e.errorMessage(t.reason||"Unknown error"):(e.set("enrollAccountToken",null),d._enableAutoLogin())})};f._enrollAccountDialog.inEnrollAccountFlow=function(){return e.get("enrollAccountToken")},f._justVerifiedEmailDialog.events({"click #just-verified-dismiss-button":function(){e.set("justVerifiedEmail",!1)}}),f._justVerifiedEmailDialog.visible=function(){return e.get("justVerifiedEmail")},f._justVerifiedEmailDialog.displayName=t,f._loginButtonsMessagesDialog.events({"click #messages-dialog-dismiss-button":function(){e.resetMessages()}}),f._loginButtonsMessagesDialog.visible=function(){var t=e.get("infoMessage")||e.get("errorMessage");return!o()&&t},f._configureLoginServiceDialog.events({"click .configure-login-service-dismiss-button":function(){e.set("configureLoginServiceDialogVisible",!1)},"click #configure-login-service-dialog-save-configuration":function(){if(e.get("configureLoginServiceDialogVisible")&&!e.get("configureLoginServiceDialogSaveDisabled")){var t=e.get("configureLoginServiceDialogServiceName"),n={service:t};p.each(c(),function(e){n[e.property]=document.getElementById("configure-login-service-dialog-"+e.property).value.replace(/^\s*|\s*$/g,"")}),d.connection.call("configureLoginService",n,function(n){n?u._debug("Error configuring login service "+t,n):e.set("configureLoginServiceDialogVisible",!1)})}},"input, keyup input":function(e){0===e.target.id.indexOf("configure-login-service-dialog")&&a()}});var a=function(){var t=p.any(c(),function(e){return""===document.getElementById("configure-login-service-dialog-"+e.property).value});e.set("configureLoginServiceDialogSaveDisabled",t)},i=function(){var t=e.get("configureLoginServiceDialogServiceName");return f["configureLoginServiceDialogFor"+("meteor-developer"===t?"MeteorDeveloper":l(t))]},c=function(){var e=i();return e.fields()};f._configureLoginServiceDialog.configurationFields=function(){return c()},f._configureLoginServiceDialog.visible=function(){return e.get("configureLoginServiceDialogVisible")},f._configureLoginServiceDialog.configurationSteps=function(){return i()},f._configureLoginServiceDialog.saveDisabled=function(){return e.get("configureLoginServiceDialogSaveDisabled")};var l=function(e){return e=null==e?"":String(e),e.charAt(0).toUpperCase()+e.slice(1)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-ui-unstyled"]={}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.less={}}(),function(){Package.meteor.Meteor,Package["accounts-base"].Accounts;"undefined"==typeof Package&&(Package={}),Package["accounts-ui"]={}}(),function(){var e,t,n,r,o,a,i=Package.meteor.Meteor,s=Package.underscore._;(function(){t=function(e,t){var n=500,r=function(e,t){return e.length>t?e.slice(0,t)+"...":e},o="failed ["+e+"]";return t&&(o+=" "+r(t.replace(/\n/g," "),n)),new Error(o)},n=function(e){var t=[];return s.each(e,function(e,n){t.length&&t.push("&"),t.push(r(n),"=",r(e))}),t.join("").replace(/%20/g,"+")},r=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")},o=function(e,t,r,o){var a=e,i=t?t.slice(1):null;if("string"==typeof r&&(i=String(r)),o){i=i||"";var s=n(o);i&&s&&(i+="&"),i+=s}var u=a;return null!==i&&(u+="?"+i),u},a=function(e){var t=(e.headers["content-type"]||";").split(";")[0];if(s.include(["application/json","text/javascript"],t))try{e.data=JSON.parse(e.content)}catch(n){e.data=null}else e.data=null},e={},e.get=function(){return e.call.apply(this,["GET"].concat(s.toArray(arguments)))},e.post=function(){return e.call.apply(this,["POST"].concat(s.toArray(arguments)))},e.put=function(){return e.call.apply(this,["PUT"].concat(s.toArray(arguments)))},e.del=function(){return e.call.apply(this,["DELETE"].concat(s.toArray(arguments)))}}).call(this),function(){e.call=function(e,r,u,c){if(c||"function"!=typeof u||(c=u,u=null),u=u||{},"function"!=typeof c)throw new Error("Can't make a blocking HTTP call from the client; callback required.");e=(e||"").toUpperCase();var l={},d=u.content;u.data&&(d=JSON.stringify(u.data),l["Content-Type"]="application/json");var p,f;d||"GET"===e||"HEAD"===e?p=u.params:f=u.params;var h=/^(.*?)(\?.*)?$/.exec(r);if(r=o(h[1],h[2],u.query,p),u.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");var m,g;if(u.auth){var _=u.auth.indexOf(":");if(0>_)throw new Error('auth option should be of the form "username:password"');m=u.auth.substring(0,_),g=u.auth.substring(_+1)}f&&(d=n(f)),s.extend(l,u.headers||{}),c=function(e){return function(t,n){t&&n&&(t.response=n),e(t,n)}}(c),c=s.once(c);try{var v;if("undefined"!=typeof XMLHttpRequest)v=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");v=new ActiveXObject("Microsoft.XMLHttp")}v.open(e,r,!0,m,g);for(var y in l)v.setRequestHeader(y,l[y]);var b,k=!1;u.timeout&&(b=i.setTimeout(function(){k=!0,v.abort()},u.timeout)),v.onreadystatechange=function(){if(4===v.readyState)if(b&&i.clearTimeout(b),k)c(new Error("timeout"));else if(v.status){var e={};e.statusCode=v.status,e.content=v.responseText,e.headers={};var n=v.getAllResponseHeaders();""===n&&v.getResponseHeader("content-type")&&(n="content-type: "+v.getResponseHeader("content-type"));var r=n.split(/\r?\n/);s.each(r,function(t){var n=/^(.*?):(?:\s+)(.*)$/.exec(t);n&&3===n.length&&(e.headers[n[1].toLowerCase()]=n[2])}),a(e);var o=null;e.statusCode>=400&&(o=t(e.statusCode,e.content)),c(o,e)}else c(new Error("network"))},v.send(d)}catch(w){c(w)}}}.call(this),function(){i.http=e}.call(this),"undefined"==typeof Package&&(Package={}),Package.http={HTTP:e}}(),function(){Package.meteor.Meteor,Package.random.Random,Package["service-configuration"].ServiceConfiguration,Package.oauth.OAuth,Package.oauth.Oauth;"undefined"==typeof Package&&(Package={}),Package.oauth1={}}(),function(){var e,t=Package.meteor.Meteor,n=(Package.http.HTTP,Package.templating.Template),r=Package.oauth.OAuth,o=(Package.oauth.Oauth,Package.random.Random),a=Package["service-configuration"].ServiceConfiguration,i=(Package.ui.UI,Package.ui.Handlebars,Package.htmljs.HTML),s=Package.blaze.Blaze;(function(){n.__define__("configureLoginServiceDialogForTwitter",function(){var e=this;return[i.Raw("<p>\n    First, you'll need to register your app on Twitter. Follow these steps:\n  </p>\n  "),i.OL("\n    ",i.Raw('<li>\n      Visit <a href="https://dev.twitter.com/apps/new" target="_blank">https://dev.twitter.com/apps/new</a>\n    </li>'),"\n    ",i.LI("\n      Set Callback URL to: ",i.SPAN({"class":"url"},s.View(function(){return Spacebars.mustache(e.lookup("siteUrl"))}),"_oauth/twitter?close"),"\n    "),"\n    ",i.Raw('<li>\n      Select "Create your Twitter application".\n    </li>'),"\n    ",i.Raw('<li>\n      On the Settings tab, enable "Allow this application to be used to Sign in with Twitter" and click\n      "Update settings".\n    </li>'),"\n    ",i.Raw("<li>\n      Switch to the API Keys tab.\n    </li>"),"\n  ")]})}).call(this),function(){n.configureLoginServiceDialogForTwitter.siteUrl=function(){return t.absoluteUrl({replaceLocalhost:!0})},n.configureLoginServiceDialogForTwitter.fields=function(){return[{property:"consumerKey",label:"API key"},{property:"secret",label:"API secret"}]}}.call(this),function(){e={},e.requestCredential=function(e,t){t||"function"!=typeof e||(t=e,e={});var n=a.configurations.findOne({service:"twitter"});if(!n)return void(t&&t(new a.ConfigError));var i=o.secret(),s="/_oauth/twitter/?requestTokenAndRedirect=true&state="+i;r.showPopup(s,_.bind(t,null,i))}}.call(this),"undefined"==typeof Package&&(Package={}),Package.twitter={Twitter:e}}(),function(){{var e=Package.meteor.Meteor,t=Package["accounts-base"].Accounts,n=Package.twitter.Twitter;Package.http.HTTP}(function(){if(t.oauth.registerService("twitter"),e.isClient)e.loginWithTwitter=function(e,r){r||"function"!=typeof e||(r=e,e=null);var o=t.oauth.credentialRequestCompleteHandler(r);n.requestCredential(e,o)};else{var r=_.map(n.whitelistedFields.concat(["id","screenName"]),function(e){return"services.twitter."+e});t.addAutopublishFields({forLoggedInUser:r,forOtherUsers:r})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-twitter"]={}}(),function(){Package.meteor.Meteor,Package.templating.Template,Package.underscore._,Package.ui.UI,Package.ui.Handlebars,Package.htmljs.HTML,Package.blaze.Blaze;"undefined"==typeof Package&&(Package={}),Package.spiderable={}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.email={}}(),function(){{var e;Package.meteor.Meteor}(function(){e=e||function(e,t){var n={},r=n.lib={},o=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=r.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var a=0;o>a;a++){var i=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=i<<24-(r+a)%4*8}else if(n.length>65535)for(var a=0;o>a;a+=4)t[r+a>>>2]=n[a>>>2];else t.push.apply(t,n);return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;t>r;r+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),i=n.enc={},s=i.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;n>o;o++){var a=t[o>>>2]>>>24-o%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},u=i.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;n>o;o++){var a=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},c=i.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},l=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,s=4*i,u=o/s;u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0);var c=u*i,l=e.min(4*c,o);if(c){for(var d=0;c>d;d+=i)this._doProcessBlock(r,d);var p=r.splice(0,c);n.sigBytes-=l}return new a.init(p,l)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(r.Hasher=l.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math)}).call(this),"undefined"==typeof Package&&(Package={}),Package["crypto-base"]={CryptoJS:e}}(),function(){var e=(Package.meteor.Meteor,Package["crypto-base"].CryptoJS);(function(){!function(t){function n(e,t,n,r,o,a,i){var s=e+(t&n|~t&r)+o+i;return(s<<a|s>>>32-a)+t}function r(e,t,n,r,o,a,i){var s=e+(t&r|n&~r)+o+i;return(s<<a|s>>>32-a)+t}function o(e,t,n,r,o,a,i){var s=e+(t^n^r)+o+i;return(s<<a|s>>>32-a)+t}function a(e,t,n,r,o,a,i){var s=e+(n^(t|~r))+o+i;return(s<<a|s>>>32-a)+t}var i=e,s=i.lib,u=s.WordArray,c=s.Hasher,l=i.algo,d=[];!function(){for(var e=0;64>e;e++)d[e]=4294967296*t.abs(t.sin(e+1))|0}();var p=l.MD5=c.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;16>i;i++){var s=t+i,u=e[s];e[s]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var c=this._hash.words,l=e[t+0],p=e[t+1],f=e[t+2],h=e[t+3],m=e[t+4],g=e[t+5],_=e[t+6],v=e[t+7],y=e[t+8],b=e[t+9],k=e[t+10],w=e[t+11],S=e[t+12],T=e[t+13],M=e[t+14],L=e[t+15],D=c[0],P=c[1],C=c[2],E=c[3];D=n(D,P,C,E,l,7,d[0]),E=n(E,D,P,C,p,12,d[1]),C=n(C,E,D,P,f,17,d[2]),P=n(P,C,E,D,h,22,d[3]),D=n(D,P,C,E,m,7,d[4]),E=n(E,D,P,C,g,12,d[5]),C=n(C,E,D,P,_,17,d[6]),P=n(P,C,E,D,v,22,d[7]),D=n(D,P,C,E,y,7,d[8]),E=n(E,D,P,C,b,12,d[9]),C=n(C,E,D,P,k,17,d[10]),P=n(P,C,E,D,w,22,d[11]),D=n(D,P,C,E,S,7,d[12]),E=n(E,D,P,C,T,12,d[13]),C=n(C,E,D,P,M,17,d[14]),P=n(P,C,E,D,L,22,d[15]),D=r(D,P,C,E,p,5,d[16]),E=r(E,D,P,C,_,9,d[17]),C=r(C,E,D,P,w,14,d[18]),P=r(P,C,E,D,l,20,d[19]),D=r(D,P,C,E,g,5,d[20]),E=r(E,D,P,C,k,9,d[21]),C=r(C,E,D,P,L,14,d[22]),P=r(P,C,E,D,m,20,d[23]),D=r(D,P,C,E,b,5,d[24]),E=r(E,D,P,C,M,9,d[25]),C=r(C,E,D,P,h,14,d[26]),P=r(P,C,E,D,y,20,d[27]),D=r(D,P,C,E,T,5,d[28]),E=r(E,D,P,C,f,9,d[29]),C=r(C,E,D,P,v,14,d[30]),P=r(P,C,E,D,S,20,d[31]),D=o(D,P,C,E,g,4,d[32]),E=o(E,D,P,C,y,11,d[33]),C=o(C,E,D,P,w,16,d[34]),P=o(P,C,E,D,M,23,d[35]),D=o(D,P,C,E,p,4,d[36]),E=o(E,D,P,C,m,11,d[37]),C=o(C,E,D,P,v,16,d[38]),P=o(P,C,E,D,k,23,d[39]),D=o(D,P,C,E,T,4,d[40]),E=o(E,D,P,C,l,11,d[41]),C=o(C,E,D,P,h,16,d[42]),P=o(P,C,E,D,_,23,d[43]),D=o(D,P,C,E,b,4,d[44]),E=o(E,D,P,C,S,11,d[45]),C=o(C,E,D,P,L,16,d[46]),P=o(P,C,E,D,f,23,d[47]),D=a(D,P,C,E,l,6,d[48]),E=a(E,D,P,C,v,10,d[49]),C=a(C,E,D,P,M,15,d[50]),P=a(P,C,E,D,g,21,d[51]),D=a(D,P,C,E,S,6,d[52]),E=a(E,D,P,C,h,10,d[53]),C=a(C,E,D,P,k,15,d[54]),P=a(P,C,E,D,p,21,d[55]),D=a(D,P,C,E,y,6,d[56]),E=a(E,D,P,C,L,10,d[57]),C=a(C,E,D,P,_,15,d[58]),P=a(P,C,E,D,T,21,d[59]),D=a(D,P,C,E,m,6,d[60]),E=a(E,D,P,C,w,10,d[61]),C=a(C,E,D,P,f,15,d[62]),P=a(P,C,E,D,b,21,d[63]),c[0]=c[0]+D|0,c[1]=c[1]+P|0,c[2]=c[2]+C|0,c[3]=c[3]+E|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,o=8*e.sigBytes;n[o>>>5]|=128<<24-o%32;var a=t.floor(r/4294967296),i=r;n[(o+64>>>9<<4)+15]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[(o+64>>>9<<4)+14]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,u=s.words,c=0;4>c;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e}});i.MD5=c._createHelper(p),i.HmacMD5=c._createHmacHelper(p)}(Math)}).call(this),"undefined"==typeof Package&&(Package={}),Package["crypto-md5"]={}}(),function(){{var e;Package.meteor.Meteor}(function(){!function(e){function t(e,t){return function(n){return u(e.call(this,n),t)}}function n(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function r(){}function o(e){i(this,e)}function a(e){var t=this._data={},n=e.years||e.year||e.y||0,r=e.months||e.month||e.M||0,o=e.weeks||e.week||e.w||0,a=e.days||e.day||e.d||0,i=e.hours||e.hour||e.h||0,u=e.minutes||e.minute||e.m||0,c=e.seconds||e.second||e.s||0,l=e.milliseconds||e.millisecond||e.ms||0;this._milliseconds=l+1e3*c+6e4*u+36e5*i,this._days=a+7*o,this._months=r+12*n,t.milliseconds=l%1e3,c+=s(l/1e3),t.seconds=c%60,u+=s(c/60),t.minutes=u%60,i+=s(u/60),t.hours=i%24,a+=s(i/24),a+=7*o,t.days=a%30,r+=s(a/30),t.months=r%12,n+=s(r/12),t.years=n}function i(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function s(e){return 0>e?Math.ceil(e):Math.floor(e)}function u(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function c(e,t,n,r){var o,a,i,s=t._milliseconds,u=t._days,c=t._months;s&&e._d.setTime(+e._d+s*n),(u||c)&&(o=e.minute(),a=e.hour()),u&&e.date(e.date()+u*n),c&&(i=e.date(),e.date(1).month(e.month()+c*n).date(Math.min(i,e.daysInMonth()))),s&&!r&&A.updateOffset(e),(u||c)&&(e.minute(o),e.hour(a))}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(n=0;r>n;n++)~~e[n]!==~~t[n]&&a++;return a+o}function p(e){return e?ot[e]||e.toLowerCase().replace(/(.)s$/,"$1"):e}function f(e,t){return t.abbr=e,F[e]||(F[e]=new r),F[e].set(t),F[e]}function h(e){return e?(!F[e]&&H&&require("./lang/"+e),F[e]):A.fn._lang}function m(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function g(e){var t,n,r=e.match(R);for(t=0,n=r.length;n>t;t++)r[t]=ut[r[t]]?ut[r[t]]:m(r[t]);return function(o){var a="";for(t=0;n>t;t++)a+=r[t]instanceof Function?r[t].call(o,e):r[t];return a}}function _(e,t){function n(t){return e.lang().longDateFormat(t)||t}for(var r=5;r--&&U.test(t);)t=t.replace(U,n);return at[t]||(at[t]=g(t)),at[t](e)}function v(e,t){switch(e){case"DDDD":return $;case"YYYY":return q;case"YYYYY":return W;case"S":case"SS":case"SSS":case"DDD":return z;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return G;case"a":case"A":return h(t._l)._meridiemParse;case"X":return Q;case"Z":case"ZZ":return K;case"T":return J;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return j;default:return new RegExp(e.replace("\\",""))}}function y(e){var t=(K.exec(e)||[])[0],n=(t+"").match(tt)||["-",0,0],r=+(60*n[1])+~~n[2];return"+"===n[0]?-r:r}function b(e,t,n){var r,o=n._a;switch(e){case"M":case"MM":o[1]=null==t?0:~~t-1;break;case"MMM":case"MMMM":r=h(n._l).monthsParse(t),null!=r?o[1]=r:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=t&&(o[2]=~~t);break;case"YY":o[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":o[0]=~~t;break;case"a":case"A":n._isPm=h(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":o[3]=~~t;break;case"m":case"mm":o[4]=~~t;break;case"s":case"ss":o[5]=~~t;break;case"S":case"SS":case"SSS":o[6]=~~(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=y(t)}null==t&&(n._isValid=!1)}function k(e){var t,n,r=[];if(!e._d){for(t=0;7>t;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];r[3]+=~~((e._tzm||0)/60),r[4]+=~~((e._tzm||0)%60),n=new Date(0),e._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),e._d=n}}function w(e){var t,n,r=e._f.match(R),o=e._i;for(e._a=[],t=0;t<r.length;t++)n=(v(r[t],e).exec(o)||[])[0],n&&(o=o.slice(o.indexOf(n)+n.length)),ut[r[t]]&&b(r[t],n,e);o&&(e._il=o),e._isPm&&e._a[3]<12&&(e._a[3]+=12),e._isPm===!1&&12===e._a[3]&&(e._a[3]=0),k(e)}function S(e){var t,n,r,a,s,u=99;for(a=0;a<e._f.length;a++)t=i({},e),t._f=e._f[a],w(t),n=new o(t),s=d(t._a,n.toArray()),n._il&&(s+=n._il.length),u>s&&(u=s,r=n);i(e,r)}function T(e){var t,n=e._i,r=X.exec(n);if(r){for(e._f="YYYY-MM-DD"+(r[2]||" "),t=0;4>t;t++)if(et[t][1].exec(n)){e._f+=et[t][0];break}K.exec(n)&&(e._f+=" Z"),w(e)}else e._d=new Date(n)}function M(t){var n=t._i,r=V.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):"string"==typeof n?T(t):l(n)?(t._a=n.slice(0),k(t)):t._d=new Date(n instanceof Date?+n:n)}function L(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function D(e,t,n){var r=Y(Math.abs(e)/1e3),o=Y(r/60),a=Y(o/60),i=Y(a/24),s=Y(i/365),u=45>r&&["s",r]||1===o&&["m"]||45>o&&["mm",o]||1===a&&["h"]||22>a&&["hh",a]||1===i&&["d"]||25>=i&&["dd",i]||45>=i&&["M"]||345>i&&["MM",Y(i/30)]||1===s&&["y"]||["yy",s];return u[2]=t,u[3]=e>0,u[4]=n,L.apply({},u)}function P(e,t,n){var r,o=n-t,a=n-e.day();return a>o&&(a-=7),o-7>a&&(a+=7),r=A(e).add("d",a),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function C(e){var t=e._i,n=e._f;return null===t||""===t?null:("string"==typeof t&&(e._i=t=h().preparse(t)),A.isMoment(t)?(e=i({},t),e._d=new Date(+t._d)):n?l(n)?S(e):w(e):M(e),new o(e))}function E(e,t){A.fn[e]=A.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),A.updateOffset(this),this):this._d["get"+n+t]()}}function x(e){A.duration.fn[e]=function(){return this._data[e]}}function I(e,t){A.duration.fn["as"+e]=function(){return+this/t}}for(var A,O,N="2.0.0",Y=Math.round,F={},H="undefined"!=typeof module&&module.exports,V=/^\/?Date\((\-?\d+)/i,B=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,R=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,j=/\d\d?/,z=/\d{1,3}/,$=/\d{3}/,q=/\d{1,4}/,W=/[+\-]?\d{1,6}/,G=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,K=/Z|[\+\-]\d\d:?\d\d/i,J=/T/i,Q=/[\+\-]?\d+(\.\d{1,3})?/,X=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,Z="YYYY-MM-DDTHH:mm:ssZ",et=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],tt=/([\+\-]|\d\d)/gi,nt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),rt={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ot={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},at={},it="DDD w W M D d".split(" "),st="M D H h m s w W".split(" "),ut={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return u(~~(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(~~(e/60),2)+":"+u(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(~~(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};it.length;)O=it.pop(),ut[O+"o"]=n(ut[O],O);for(;st.length;)O=st.pop(),ut[O+O]=t(ut[O],2);for(ut.DDDD=t(ut.DDD,3),r.prototype={set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=A([2e3,t]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(r.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=A([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var o=this._relativeTime[n];return"function"==typeof o?o(e,t,n,r):o.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return P(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},A=function(e,t,n){return C({_i:e,_f:t,_l:n,_isUTC:!1})
},A.utc=function(e,t,n){return C({_useUTC:!0,_isUTC:!0,_l:n,_i:e,_f:t})},A.unix=function(e){return A(1e3*e)},A.duration=function(e,t){var n,r,o=A.isDuration(e),i="number"==typeof e,s=o?e._data:i?{}:e,u=B.exec(e);return i?t?s[t]=e:s.milliseconds=e:u&&(n="-"===u[1]?-1:1,s={y:0,d:~~u[2]*n,h:~~u[3]*n,m:~~u[4]*n,s:~~u[5]*n,ms:~~u[6]*n}),r=new a(s),o&&e.hasOwnProperty("_lang")&&(r._lang=e._lang),r},A.version=N,A.defaultFormat=Z,A.updateOffset=function(){},A.lang=function(e,t){return e?(t?f(e,t):F[e]||h(e),void(A.duration.fn._lang=A.fn._lang=h(e))):A.fn._lang._abbr},A.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),h(e)},A.isMoment=function(e){return e instanceof o},A.isDuration=function(e){return e instanceof a},A.fn=o.prototype={clone:function(){return A(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return _(A(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!d(this._a,(this._isUTC?A.utc(this._a):A(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=_(this,e||A.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?A.duration(+t,e):A.duration(e,t),c(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?A.duration(+t,e):A.duration(e,t),c(this,n,-1),this},diff:function(e,t,n){var r,o,a=this._isUTC?A(e).zone(this._offset||0):A(e).local(),i=6e4*(this.zone()-a.zone());return t=p(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+a.daysInMonth()),o=12*(this.year()-a.year())+(this.month()-a.month()),o+=(this-A(this).startOf("month")-(a-A(a).startOf("month")))/r,o-=6e4*(this.zone()-A(this).startOf("month").zone()-(a.zone()-A(a).startOf("month").zone()))/r,"year"===t&&(o/=12)):(r=this-a,o="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-i)/864e5:"week"===t?(r-i)/6048e5:r),n?o:s(o)},from:function(e,t){return A.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(A(),e)},calendar:function(){var e=this.diff(A().startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){var e=this.year();return 0===e%4&&0!==e%100||0===e%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?"string"==typeof e&&(e=this.lang().weekdaysParse(e),"number"!=typeof e)?this:this.add({d:e-t}):t},month:function(e){var t=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(this._d["set"+t+"Month"](e),A.updateOffset(this),this):this._d["get"+t+"Month"]()},startOf:function(e){switch(e=p(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),this},endOf:function(e){return this.startOf(e).add(e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+A(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+A(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+A(e).startOf(t)},min:function(e){return e=A.apply(null,arguments),this>e?this:e},max:function(e){return e=A.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=y(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&c(this,A.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return A.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var t=Y((A(this).startOf("day")-A(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=P(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=P(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=P(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){var t=(this._d.getDay()+6)%7;return null==e?t:this.add("d",e-t)},lang:function(t){return t===e?this._lang:(this._lang=h(t),this)}},O=0;O<nt.length;O++)E(nt[O].toLowerCase().replace(/s$/,""),nt[O]);E("year","FullYear"),A.fn.days=A.fn.day,A.fn.months=A.fn.month,A.fn.weeks=A.fn.week,A.fn.isoWeeks=A.fn.isoWeek,A.fn.toJSON=A.fn.toISOString,A.duration.fn=a.prototype={weeks:function(){return s(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(e){var t=+this,n=D(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=A.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this},subtract:function(e,t){var n=A.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this},get:function(e){return e=p(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=p(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:A.fn.lang};for(O in rt)rt.hasOwnProperty(O)&&(I(O,rt[O]),x(O.toLowerCase()));I("Weeks",6048e5),A.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},A.lang("en",{ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),H&&(module.exports=A),"undefined"==typeof ender&&(this.moment=A),"function"==typeof define&&define.amd&&define("moment",[],function(){return A})}.call(this)}).call(this),function(){!function(){function e(){!function(){function e(e){!function(){e.lang("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}(),function(){e.lang("ar",{months:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),monthsShort:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}(),function(){e.lang("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"h:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&20>n?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(),function(){function t(e,t,n){var r={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+o(r[n],e)}function n(e){switch(r(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function r(e){return e>9?r(e%10):e}function o(e,t){return 2===t?a(e):e}function a(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}e.lang("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:n},ordinal:function(e){var t=1===e?"añ":"vet";return e+t},week:{dow:1,doy:4}})}(),function(){e.lang("ca",{months:"Gener_Febrer_Març_Abril_Maig_Juny_Juliol_Agost_Setembre_Octubre_Novembre_Desembre".split("_"),monthsShort:"Gen._Febr._Mar._Abr._Mai._Jun._Jul._Ag._Set._Oct._Nov._Des.".split("_"),weekdays:"Diumenge_Dilluns_Dimarts_Dimecres_Dijous_Divendres_Dissabte".split("_"),weekdaysShort:"Dg._Dl._Dt._Dc._Dj._Dv._Ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinal:"%dº",week:{dow:1,doy:4}})}(),function(){function t(e){return e>1&&5>e&&1!==~~(e/10)}function n(e,n,r,o){var a=e+" ";switch(r){case"s":return n||o?"pár vteřin":"pár vteřinami";case"m":return n?"minuta":o?"minutu":"minutou";case"mm":return n||o?a+(t(e)?"minuty":"minut"):a+"minutami";case"h":return n?"hodina":o?"hodinu":"hodinou";case"hh":return n||o?a+(t(e)?"hodiny":"hodin"):a+"hodinami";case"d":return n||o?"den":"dnem";case"dd":return n||o?a+(t(e)?"dny":"dní"):a+"dny";case"M":return n||o?"měsíc":"měsícem";case"MM":return n||o?a+(t(e)?"měsíce":"měsíců"):a+"měsíci";case"y":return n||o?"rok":"rokem";case"yy":return n||o?a+(t(e)?"roky":"let"):a+"lety"}}var r="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),o="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");e.lang("cs",{months:r,monthsShort:o,monthsParse:function(e,t){var n,r=[];for(n=0;12>n;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(r,o),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){e.lang("cv",{months:"кăрлач_нарăс_пуш_ака_май_çĕртме_утă_çурла_авăн_юпа_чӳк_раштав".split("_"),monthsShort:"кăр_нар_пуш_ака_май_çĕр_утă_çур_ав_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кĕçнерникун_эрнекун_шăматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кĕç_эрн_шăм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кç_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ]",LLL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT",LLLL:"dddd, YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ĕнер] LT [сехетре]",nextWeek:"[Çитес] dddd LT [сехетре]",lastWeek:"[Иртнĕ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){var t=/\u0441\u0435\u0445\u0435\u0442$/i.exec(e)?"рен":/\xe7\u0443\u043b$/i.exec(e)?"тан":"ран";return e+t},past:"%s каялла",s:"пĕр-ик çеккунт",m:"пĕр минут",mm:"%d минут",h:"пĕр сехет",hh:"%d сехет",d:"пĕр кун",dd:"%d кун",M:"пĕр уйăх",MM:"%d уйăх",y:"пĕр çул",yy:"%d çул"},ordinal:"%d-мĕш",week:{dow:1,doy:7}})}(),function(){e.lang("da",{months:"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),weekdays:"Søndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_Lørdag".split("_"),weekdaysShort:"Søn_Man_Tir_Ons_Tor_Fre_Lør".split("_"),weekdaysMin:"Sø_Ma_Ti_On_To_Fr_Lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){e.lang("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:"einer Minute",mm:"%d Minuten",h:"einer Stunde",hh:"%d Stunden",d:"einem Tag",dd:"%d Tagen",M:"einem Monat",MM:"%d Monaten",y:"einem Jahr",yy:"%d Jahren"},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){e.lang("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){return e>11?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:"[την προηγούμενη] dddd [{}] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],r=t&&t.hours();return n.replace("{}",1===r%12?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinal:function(e){return e+"η"},week:{dow:1,doy:4}})}(),function(){e.lang("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}})}(),function(){e.lang("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(),function(){e.lang("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinal:"%da",week:{dow:1,doy:7}})}(),function(){e.lang("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:"%dº",week:{dow:1,doy:4}})}(),function(){function t(e,t,n,r){return r||t?"paari sekundi":"paar sekundit"}e.lang("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,m:"minut",mm:"%d minutit",h:"tund",hh:"%d tundi",d:"päev",dd:"%d päeva",M:"kuu",MM:"%d kuud",y:"aasta",yy:"%d aastat"},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){e.lang("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinal:"%d.",week:{dow:1,doy:7}})}(),function(){function t(e,t,r,o){var a="";switch(r){case"s":return o?"muutaman sekunnin":"muutama sekunti";case"m":return o?"minuutin":"minuutti";case"mm":a=o?"minuutin":"minuuttia";break;case"h":return o?"tunnin":"tunti";case"hh":a=o?"tunnin":"tuntia";break;case"d":return o?"päivän":"päivä";case"dd":a=o?"päivän":"päivää";break;case"M":return o?"kuukauden":"kuukausi";case"MM":a=o?"kuukauden":"kuukautta";break;case"y":return o?"vuoden":"vuosi";case"yy":a=o?"vuoden":"vuotta"}return a=n(e,o)+" "+a}function n(e,t){return 10>e?t?o[e]:r[e]:e}var r="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),o=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",r[7],r[8],r[9]];e.lang("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){e.lang("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}})}(),function(){e.lang("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}})}(),function(){e.lang("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return"uns segundos"===e?"nuns segundos":"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:7}})}(),function(){e.lang("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY LT",LLLL:"dddd, D [ב]MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:"%d שעות",d:"יום",dd:"%d ימים",M:"חודש",MM:"%d חודשים",y:"שנה",yy:"%d שנים"}})}(),function(){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.lang("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiem:function(e){return 4>e?"रात":10>e?"सुबह":17>e?"दोपहर":20>e?"शाम":"रात"},week:{dow:0,doy:6}})}(),function(){function t(e,t,n,r){var o=e;switch(n){case"s":return r||t?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return o+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" óra":" órája");case"hh":return o+(r||t?" óra":" órája");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return o+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hónap":" hónapja");case"MM":return o+(r||t?" hónap":" hónapja");case"y":return"egy"+(r||t?" év":" éve");case"yy":return o+(r||t?" év":" éve")}return""}function n(e){return(e?"":"[múlt] ")+"["+r[this.day()]+"] LT[-kor]"}var r="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");
e.lang("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:7}})}(),function(){e.lang("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(e){return 11>e?"pagi":15>e?"siang":19>e?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(),function(){function t(e){return 11===e%100?!0:1===e%10?!1:!0}function n(e,n,r,o){var a=e+" ";switch(r){case"s":return n||o?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return n?"mínúta":"mínútu";case"mm":return t(e)?a+(n||o?"mínútur":"mínútum"):n?a+"mínúta":a+"mínútu";case"hh":return t(e)?a+(n||o?"klukkustundir":"klukkustundum"):a+"klukkustund";case"d":return n?"dagur":o?"dag":"degi";case"dd":return t(e)?n?a+"dagar":a+(o?"daga":"dögum"):n?a+"dagur":a+(o?"dag":"degi");case"M":return n?"mánuður":o?"mánuð":"mánuði";case"MM":return t(e)?n?a+"mánuðir":a+(o?"mánuði":"mánuðum"):n?a+"mánuður":a+(o?"mánuð":"mánuði");case"y":return n||o?"ár":"ári";case"yy":return t(e)?a+(n||o?"ár":"árum"):a+(n||o?"ár":"ári")}}e.lang("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){e.lang("it",{months:"Gennaio_Febbraio_Marzo_Aprile_Maggio_Giugno_Luglio_Agosto_Settembre_Ottobre_Novembre_Dicembre".split("_"),monthsShort:"Gen_Feb_Mar_Apr_Mag_Giu_Lug_Ago_Set_Ott_Nov_Dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:"[lo scorso] dddd [alle] LT",sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:"%dº",week:{dow:1,doy:4}})}(),function(){e.lang("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日LT",LLLL:"YYYY年M月D日LT dddd"},meridiem:function(e){return 12>e?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}(),function(){function t(e,t){var n={nominative:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),accusative:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},r=/D[oD] *MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function n(e,t){var n={nominative:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),accusative:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_")},r=/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/.test(t)?"accusative":"nominative";return n[r][e.day()]}e.lang("ka",{months:t,monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:n,weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10ec\u10d4\u10da\u10d8)/.test(e)?e.replace(/\u10d8$/,"ში"):e+"ში"},past:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(e)?e.replace(/(\u10d8|\u10d4)$/,"ის წინ"):/\u10ec\u10d4\u10da\u10d8/.test(e)?e.replace(/\u10ec\u10d4\u10da\u10d8$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinal:function(e){return 0===e?e:1===e?e+"-ლი":20>e||100>=e&&0===e%20||0===e%100?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}})}(),function(){e.lang("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 mm분",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 LT",LLLL:"YYYY년 MMMM D일 dddd LT"},meridiem:function(e){return 12>e?"오전":"오후"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinal:"%d일"})}(),function(){function t(e,t,n){var r=e.split("_");return n?1===t%10&&11!==t?r[2]:r[3]:1===t%10&&11!==t?r[0]:r[1]}function n(e,n,o){return e+" "+t(r[o],e,n)}var r={mm:"minūti_minūtes_minūte_minūtes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mēnesi_mēnešus_mēnesis_mēneši",yy:"gadu_gadus_gads_gadi"};e.lang("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vēlāk",past:"%s agrāk",s:"dažas sekundes",m:"minūti",mm:n,h:"stundu",hh:n,d:"dienu",dd:n,M:"mēnesi",MM:n,y:"gadu",yy:n},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){e.lang("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(e){return 11>e?"pagi":15>e?"tengahari":19>e?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(),function(){e.lang("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokken] LT",nextDay:"[I morgen klokken] LT",nextWeek:"dddd [klokken] LT",lastDay:"[I går klokken] LT",lastWeek:"[Forrige] dddd [klokken] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.lang("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आइ._सो._मङ्_बु._बि._शु._श.".split("_"),longDateFormat:{LT:"Aको h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiem:function(e){return 3>e?"राती":10>e?"बिहान":15>e?"दिउँसो":18>e?"बेलुका":20>e?"साँझ":"राती"},calendar:{sameDay:"[आज] LT",nextDay:"[भोली] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडी",s:"केही समय",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:1,doy:7}})}(),function(){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");e.lang("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return/-MMM-/.test(r)?n[e.month()]:t[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Vandaag om] LT",nextDay:"[Morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(),function(){e.lang("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregående] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekund",m:"ett minutt",mm:"%d minutt",h:"en time",hh:"%d timar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){function t(e){return 5>e%10&&e%10>1&&1!==~~(e/10)}function n(e,n,r){var o=e+" ";switch(r){case"m":return n?"minuta":"minutę";case"mm":return o+(t(e)?"minuty":"minut");case"h":return n?"godzina":"godzinę";case"hh":return o+(t(e)?"godziny":"godzin");case"MM":return o+(t(e)?"miesiące":"miesięcy");case"yy":return o+(t(e)?"lata":"lat")}}var r="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),o="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");e.lang("pl",{months:function(e,t){return/D MMMM/.test(t)?o[e.month()]:r[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:n,mm:n,h:n,hh:n,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:n,y:"rok",yy:n},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){e.lang("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº"})}(),function(){e.lang("pt",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:4}})}(),function(){e.lang("ro",{months:"Ianuarie_Februarie_Martie_Aprilie_Mai_Iunie_Iulie_August_Septembrie_Octombrie_Noiembrie_Decembrie".split("_"),monthsShort:"Ian_Feb_Mar_Apr_Mai_Iun_Iul_Aug_Sep_Oct_Noi_Dec".split("_"),weekdays:"Duminică_Luni_Marţi_Miercuri_Joi_Vineri_Sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:"%d minute",h:"o oră",hh:"%d ore",d:"o zi",dd:"%d zile",M:"o lună",MM:"%d luni",y:"un an",yy:"%d ani"},week:{dow:1,doy:7}})}(),function(){function t(e,t){var n=e.split("_");return 1===t%10&&11!==t%100?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,r){var o={mm:"минута_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===r?n?"минута":"минуту":e+" "+t(o[r],+e)}function r(e,t){var n={nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")},r=/D[oD]? *MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function o(e,t){var n={nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")},r=/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[r][e.day()]}e.lang("ru",{months:r,monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:o,weekdaysShort:"вск_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(){switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:n,mm:n,h:"час",hh:n,d:"день",dd:n,M:"месяц",MM:n,y:"год",yy:n},ordinal:"%d.",week:{dow:1,doy:7}})}(),function(){function t(e){return e>1&&5>e}function n(e,n,r,o){var a=e+" ";switch(r){case"s":return n||o?"pár sekúnd":"pár sekundami";case"m":return n?"minúta":o?"minútu":"minútou";case"mm":return n||o?a+(t(e)?"minúty":"minút"):a+"minútami";case"h":return n?"hodina":o?"hodinu":"hodinou";case"hh":return n||o?a+(t(e)?"hodiny":"hodín"):a+"hodinami";case"d":return n||o?"deň":"dňom";case"dd":return n||o?a+(t(e)?"dni":"dní"):a+"dňami";case"M":return n||o?"mesiac":"mesiacom";case"MM":return n||o?a+(t(e)?"mesiace":"mesiacov"):a+"mesiacmi";case"y":return n||o?"rok":"rokom";case"yy":return n||o?a+(t(e)?"roky":"rokov"):a+"rokmi"}}var r="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),o="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");e.lang("sk",{months:r,monthsShort:o,monthsParse:function(e,t){var n,r=[];for(n=0;12>n;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(r,o),weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinal:"%d.",week:{dow:1,doy:4}})}(),function(){function t(e,t,n){var r=e+" ";switch(n){case"m":return t?"ena minuta":"eno minuto";case"mm":return r+=1===e?"minuta":2===e?"minuti":3===e||4===e?"minute":"minut";case"h":return t?"ena ura":"eno uro";case"hh":return r+=1===e?"ura":2===e?"uri":3===e||4===e?"ure":"ur";case"dd":return r+=1===e?"dan":"dni";case"MM":return r+=1===e?"mesec":2===e?"meseca":3===e||4===e?"mesece":"mesecev";case"yy":return r+=1===e?"leto":2===e?"leti":3===e||4===e?"leta":"let"}}e.lang("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejšnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"%s nazaj",s:"nekaj sekund",m:t,mm:t,h:t,hh:t,d:"en dan",dd:t,M:"en mesec",MM:t,y:"eno leto",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})}(),function(){e.lang("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"dddd LT",lastWeek:"[Förra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"e":1===t?"a":2===t?"a":3===t?"e":"e";return e+n},week:{dow:1,doy:4}})}(),function(){e.lang("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"มกรา_กุมภา_มีนา_เมษา_พฤษภา_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),longDateFormat:{LT:"H นาฬิกา m นาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา LT",LLLL:"วันddddที่ D MMMM YYYY เวลา LT"},meridiem:function(e){return 12>e?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}(),function(){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};e.lang("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e){if(0===e)return e+"'ıncı";var n=e%10,r=e%100-n,o=e>=100?100:null;return e+(t[n]||t[r]||t[o])},week:{dow:1,doy:7}})}(),function(){e.lang("tzm-la",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(),function(){e.lang("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}(),function(){function t(e,t){var n=e.split("_");return 1===t%10&&11!==t%100?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,r){var o={mm:"хвилина_хвилини_хвилин",hh:"година_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===r?n?"хвилина":"хвилину":"h"===r?n?"година":"годину":e+" "+t(o[r],+e)}function r(e,t){var n={nominative:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),accusative:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_")},r=/D[oD]? *MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function o(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")},r=/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(t)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[r][e.day()]}function a(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}e.lang("uk",{months:r,monthsShort:"січ_лют_бер_кві_тра_чер_лип_сер_вер_жов_лис_гру".split("_"),weekdays:o,weekdaysShort:"нед_пон_вів_срд_чет_птн_суб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., LT",LLLL:"dddd, D MMMM YYYY р., LT"},calendar:{sameDay:a("[Сьогодні "),nextDay:a("[Завтра "),lastDay:a("[Вчора "),nextWeek:a("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return a("[Минулої] dddd [").call(this);case 1:case 2:case 4:return a("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:n,mm:n,h:"годину",hh:n,d:"день",dd:n,M:"місяць",MM:n,y:"рік",yy:n},ordinal:"%d.",week:{dow:1,doy:7}})}(),function(){e.lang("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(e,t){return 9>e?"早上":11>e&&30>t?"上午":13>e&&30>t?"中午":18>e?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"}})}(),function(){e.lang("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(e,t){return 9>e?"早上":11>e&&30>t?"上午":13>e&&30>t?"中午":18>e?"下午":"晚上"
},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}})}(),e.lang("en")}"function"==typeof define&&define.amd&&define(["moment"],e),"undefined"!=typeof window&&window.moment&&e(window.moment)}()}"function"==typeof define&&define.amd&&define(["moment"],e),"undefined"!=typeof window&&window.moment&&e(window.moment)}()}.call(this),function(){"undefined"!=typeof Package&&(e=this.moment)}.call(this),"undefined"==typeof Package&&(Package={}),Package.momentjs={moment:e}}(),function(){{var e,t=Package.meteor.Meteor,n=Package.deps.Deps,r=Package.retry.Retry;Package.livedata.DDP}(function(){var o=__meteor_runtime_config__.autoupdateVersion||"unknown",a=new t.Collection("meteor_autoupdate_clientVersions");e={},e.newClientAvailable=function(){return!!a.findOne({$and:[{current:!0},{_id:{$ne:o}}]})};var i=new r({minCount:0,baseTimeout:3e4}),s=0;e._retrySubscription=function(){t.subscribe("meteor_autoupdate_clientVersions",{onError:function(n){t._debug("autoupdate subscription failed:",n),s++,i.retryLater(s,function(){e._retrySubscription()})},onReady:function(){Package.reload&&n.autorun(function(e){a.findOne({current:!0})&&!a.findOne({_id:o})&&(e.stop(),Package.reload.Reload._reload())})}})},e._retrySubscription()}).call(this),"undefined"==typeof Package&&(Package={}),Package.autoupdate={Autoupdate:e}}(),function(){Package.meteor.Meteor,Package.reload.Reload,Package.autoupdate.Autoupdate;"undefined"==typeof Package&&(Package={}),Package["standard-app-packages"]={}}(),function(){{var e;Package.meteor.Meteor}"undefined"==typeof Package&&(Package={}),Package.rss={RSS:e}}(),function(){{var e,t=(Package.meteor.Meteor,Package.underscore._);Package.ejson.EJSON}(function(){e={},e.utils={},e.utils.assert=function(e,t){if(!e)throw new Error(t)},e.utils.warn=function(e,t){e||console&&console.warn&&console.warn(t)},e.utils.defaultValue=function(e,t,n){return"undefined"==typeof e[t]?(e[t]=n,n):e[t]},e.utils.inherits=function(e,n,r){for(var o in n)t.has(n,o)&&(e[o]=n[o]);var a=function(){this.constructor=e};return a.prototype=n.prototype,e.prototype=new a,e.__super__=n.prototype,t.isObject(r)&&t.extend(e.prototype,r),e},e.utils.extend=function(n,r){r=r||{};var o=function(){var e;e=t.has(r,"constructor")?r.constructor:o.__super__.constructor,e.apply(this,arguments)};return e.utils.inherits(o,n,r)},e.utils.global=function(){return this}(),e.utils.resolve=function(t){var n,r,o=e.utils.global;if("string"==typeof t){n=t.split("."),r=o;for(var a=0;a<n.length;a++)if(r=r[n[a]],!r)return void 0}else r=t;return r},e.utils.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1,e.length)},e.utils.classCase=function(n){var r=/_|-|\.|\//;return n?t.map(n.split(r),function(t){return e.utils.capitalize(t)}).join(""):""},e.utils.camelCase=function(t){var n=e.utils.classCase(t);return n=n.charAt(0).toLowerCase()+n.slice(1,n.length)},e.utils.notifyDeprecated=function(e){var n,r,o,a,i="[:where] ':name' is deprecated. Please use ':instead' instead.";t.isObject(e)?(n=e.name,r=e.instead,o=e.message||i,a=e.where||"IronRouter"):(o=e,n="",r="",a=""),"undefined"!=typeof console&&console.warn&&console.warn("<deprecated> "+o.replace(":name",n).replace(":instead",r).replace(":where",a)+" "+(new Error).stack)},e.utils.withDeprecatedNotice=function(e,t,n){return function(){return Utils.notifyDeprecated(e),t&&t.apply(n||this,arguments)}},e.utils.warn(!Function.prototype.deprecate,"It looks like the Function.prototype already has a deprecate method, and the iron-router package is about to override it!"),Function.prototype.deprecate=function(t){var n=this;return e.utils.withDeprecatedNotice(t,n)},e.utils.debug=function(n){return e.utils.assert("string"==typeof n,"debug requires a package name"),function(){if(console&&console.log&&e.utils.debug===!0){var r=t.toArray(arguments).join(" ");console.log("%c<"+n+"> %c"+r,"color: #999;","color: #000;")}}}}).call(this),"undefined"==typeof Package&&(Package={}),Package["iron-core"]={Iron:e}}(),function(){var e,t=(Package.meteor.Meteor,Package.htmljs.HTML),n=(Package.ui.UI,Package.ui.Handlebars),r=(Package["observe-sequence"].ObserveSequence,Package.templating.Template),o=Package.blaze.Blaze;(function(){e={};var a=function(e,t){return e===t};e.include=function(e,t,n){if(!e)return null;if("function"!=typeof e){var i=e;if(!o.isTemplate(i))throw new Error("Expected template or null, found: "+i);return o.runTemplate(e,t,n)}var s=o.ReactiveVar(null,a),u=o.View("Spacebars.include",function(){var e=s.get();if(null===e)return null;if(!r.__isTemplate__(e))throw new Error("Expected template or null, found: "+e);return o.runTemplate(e,t,n)});return u.__templateVar=s,u.onCreated(function(){this.autorun(function(){s.set(e())})}),u},e.mustacheImpl=function(){var t=arguments;if(t.length>1){var n=t[t.length-1];if(n instanceof e.kw){var r={};for(var o in n.hash){var a=n.hash[o];r[o]="function"==typeof a?a():a}t[t.length-1]=e.kw(r)}else n=e.kw(),t=Array.prototype.slice.call(arguments),t.push(n)}return e.call.apply(null,t)},e.mustache=function(){var n=e.mustacheImpl.apply(null,arguments);return n instanceof e.SafeString?t.Raw(n.toString()):null==n||n===!1?null:String(n)},e.attrMustache=function(){var n=e.mustacheImpl.apply(null,arguments);if(null==n||""===n)return null;if("object"==typeof n)return n;if("string"==typeof n&&t.isValidAttributeName(n)){var r={};return r[n]="",r}throw new Error("Expected valid attribute name, '', null, or object")},e.dataMustache=function(){var t=e.mustacheImpl.apply(null,arguments);return t},e.makeRaw=function(e){return null==e?null:e instanceof t.Raw?e:t.Raw(e)},e.call=function(e){if("function"==typeof e){for(var t=[],n=1;n<arguments.length;n++){var r=arguments[n];t[n-1]="function"==typeof r?r():r}return e.apply(null,t)}if(arguments.length>1)throw new Error("Can't call non-function: "+e);return e},e.kw=function(t){return this instanceof e.kw?void(this.hash=t||{}):new e.kw(t)},e.SafeString=function(t){return this instanceof e.SafeString?new n.SafeString(t):new e.SafeString(t)},e.SafeString.prototype=n.SafeString.prototype,e.dot=function(t,n){if(arguments.length>2){var r=[];return r.push(e.dot(t,n)),r.push.apply(r,Array.prototype.slice.call(arguments,2)),e.dot.apply(null,r)}if("function"==typeof t&&(t=t()),!t)return t;var o=t[n];return"function"!=typeof o?o:function(){return o.apply(t,arguments)}},e.TemplateWith=function(e,t){var n,r=function(){var t=null;return n.parentView&&"InOuterTemplateScope"===n.parentView.kind&&(t=n.parentView.originalParentView),t?o.withCurrentView(t,e):e()};return n=o.With(r,t),n.__isTemplateWith=!0,n},e.With=function(e,t,n){var r=new o.ReactiveVar,a=o.View("Spacebars_with",function(){return o.If(function(){return r.get()},function(){return o.With(function(){return r.get()},t)},n)});return a.onCreated(function(){this.autorun(function(){r.set(e()),Deps.onInvalidate(function(){r.dep.changed()})})}),a}}).call(this),function(){r.__define__("__dynamic",function(){var t=this;return[o.View(function(){return e.mustache(t.lookup("checkContext"))}),"\n  ",o.If(function(){return e.call(t.lookup("dataContextPresent"))},function(){return["\n    ",e.include(t.lookupTemplate("__dynamicWithDataContext")),"\n  "]},function(){return["\n    \n    ",e.TemplateWith(function(){return{template:e.call(t.lookup("template")),data:e.call(t.lookup(".."))}},function(){return e.include(t.lookupTemplate("__dynamicWithDataContext"))}),"\n  "]})]}),r.__define__("__dynamicWithDataContext",function(){var t=this;return e.With(function(){return e.dataMustache(t.lookup("chooseTemplate"),t.lookup("template"))},function(){return["\n    ",e.TemplateWith(function(){return e.call(e.dot(t.lookup(".."),"data"))},function(){return e.include(t.lookupTemplate(".."))}),"    \n  "]})})}.call(this),function(){r.__dynamicWithDataContext.chooseTemplate=function(e){return r[e]||null},r.__dynamic.dataContextPresent=function(){return _.has(this,"data")},r.__dynamic.checkContext=function(){if(!_.has(this,"template"))throw new Error("Must specify name in the 'template' argument to {{> UI.dynamic}}.");_.each(this,function(e,t){if("template"!==t&&"data"!==t)throw new Error("Invalid argument to {{> UI.dynamic}}: "+t)})}}.call(this),"undefined"==typeof Package&&(Package={}),Package.spacebars={Spacebars:e}}(),function(){{var e,t,n,r,o=(Package.meteor.Meteor,Package.blaze.Blaze),a=Package.underscore._,i=Package.ui.UI,s=(Package.ui.Handlebars,Package.spacebars.Spacebars,Package.jquery.$),u=(Package.jquery.jQuery,Package.deps.Deps),c=Package.templating.Template,l=Package["iron-core"].Iron;Package.htmljs.HTML}(function(){e=l.utils.debug("iron:dynamic-template"),t=l.utils.camelCase,n=function(e){return Object.prototype.toString.call(e)},r=function(e){this.options=e=e||{},this._template=e.template,this._defaultTemplate=e.defaultTemplate,this._content=e.content,this._data=e.data,this._templateDep=new u.Dependency,this._dataDep=new u.Dependency,this._hasControllerDep=new u.Dependency,this._hooks={},this._controller=new o.ReactiveVar,this.kind=e.kind||"DynamicTemplate",this.isCreated=!1,this.isDestroyed=!1},r.prototype.template=function(e){if(1===arguments.length&&e!==this._template)return this._template=e,void this._templateDep.changed();if(!(arguments.length>0))return this._templateDep.depend(),this._template?"function"==typeof this._template?this._template():this._template:this._defaultTemplate?"function"==typeof this._defaultTemplate?this._defaultTemplate():this._defaultTemplate:void 0},r.prototype.defaultTemplate=function(e){return 1!==arguments.length?this._defaultTemplate:void(this._defaultTemplate=e)},r.prototype.clear=function(){this._template=void 0,this._data=void 0,this._templateDep.changed()},r.prototype.data=function(e){return 1===arguments.length&&e!==this._data?(this._data=e,void this._dataDep.changed()):(this._dataDep.depend(),"function"==typeof this._data?this._data():this._data)},r.prototype.create=function(){var i=this;if(this.isCreated)throw new Error("DynamicTemplate view is already created");this.isCreated=!0,this.isDestroyed=!1;var s=o.ReactiveVar(null),l=o.View("DynamicTemplate",function(){var a=this,l=s.get();return o.With(function(){e(i.kind+" <region: "+(i._region||"none")+"> data computation: "+u.currentComputation._id);var t=i.data();return"undefined"!=typeof t?t:r.getParentDataContext(a)},function(){e(i.kind+" <region: "+(i._region||"none")+"> spacebars include: "+u.currentComputation._id);var r=null;if("string"==typeof l){if(r=c[l],r||(r=c[t(l)]),!r)throw new Error("Couldn't find a template named "+JSON.stringify(l)+" or "+JSON.stringify(t(l))+". Are you sure you defined it?")}else"[object Object]"===n(l)?r=l:"undefined"!=typeof i._content&&(r=i._content);return r})});return l.onCreated(function(){this.autorun(function(){s.set(i.template())})}),a.each(["onCreated","onMaterialized","onRendered","onDestroyed"],function(e){l[e](function(){i._runHooks(e,this)})}),l.onMaterialized(function(){i.isInserted=!0}),this.view=l,l.__dynamicTemplate__=this,l.kind=this.kind,l},r.prototype.destroy=function(){this.isCreated&&(o.destroyView(this.view),this.view=null,this.isDestroyed=!0,this.isCreated=!1)},a.each(["onCreated","onMaterialized","onRendered","onDestroyed"],function(e){r.prototype[e]=function(t){var n=this._hooks[e]=this._hooks[e]||[];return n.push(t),this}}),r.prototype._runHooks=function(e,t){for(var n,r=this._hooks[e]||[],o=0;o<r.length;o++)n=r[o],n.call(t,this)},r.prototype.insert=function(e){if(e=e||{},!this.isInserted){this.isInserted=!0;var t=e.el||document.body,n=s(t);if(0===n.length)throw new Error("No element to insert layout into. Is your element defined? Try a Meteor.startup callback.");return this.view||this.create(e),this.range||(this.range=o.render(this.view,e.parentView)),this.range.attach(n[0],e.nextNode),this}},r.prototype.getController=function(){return this._controller.get()},r.prototype.setController=function(e){var t=!!this._hasController;return this._hasController="undefined"!=typeof e,t!==this._hasController&&this._hasControllerDep.changed(),this._controller.set(e)},r.prototype.hasController=function(){return this._hasControllerDep.depend(),this._hasController},r.getParentDataContext=function(e){for(e=e.parentView;e;){if("with"===e.kind&&!e.__isTemplateWith)return e.dataVar.get();e=e.parentView}return null},r.getInclusionArguments=function(e){var t=e&&e.parentView;return t&&t.__isTemplateWith&&"with"===t.kind?t.dataVar.get():null},r.args=function(e){return function(t){var n=r.getInclusionArguments(e);return n?t?n[t]:n:null}},i.registerHelper("DynamicTemplate",c.__create__("DynamicTemplateHelper",function(){var e=r.args(this);return new r({data:function(){return e("data")},template:function(){return e("template")},content:this.templateContentBlock}).create()})),l.DynamicTemplate=r}).call(this),"undefined"==typeof Package&&(Package={}),Package["iron-dynamic-template"]={}}(),function(){{var e,t,n,r=Package.templating.Template,o=Package.ui.UI,a=(Package.ui.Handlebars,Package.meteor.Meteor),i=Package.underscore._,s=Package["iron-core"].Iron;Package.htmljs.HTML,Package.blaze.Blaze}(function(){if(Package["blaze-layout"])throw new Error("Sorry! The blaze-layout package has been replaced by iron-layout. Please remove the package like this:\n> mrt remove blaze-layout\n> meteor remove blaze-layout")}).call(this),function(){r.__define__("__IronDefaultLayout__",function(){var e=this;return Spacebars.include(e.lookupTemplate("yield"))})}.call(this),function(){var u=s.DynamicTemplate;e=function(e){for(;e;){if("Iron.Layout"===e.kind)return e.__dynamicTemplate__;e=e.parentView}return null},t=function(e){t.__super__.constructor.apply(this,arguments),e=e||{},this.kind="Iron.Layout",this._regions={},this._regionHooks={},this.defaultTemplate("__IronDefaultLayout__"),e.content&&this.render(e.content)},n=t.DEFAULT_REGION="main",a._inherits(t,s.DynamicTemplate),t.prototype.region=function(e,t){return this._ensureRegion(e,t)},t.prototype.destroyRegions=function(){i.each(this._regions,function(e){e.destroy()}),this._regions={}},t.prototype.render=function(e,t){t=t||{};var r=t.to||t.region||n,o=this.region(r);this._trackRenderedRegion(r),o.template(e),o.data(t.data)},t.prototype.has=function(e){return e=e||t.DEFAULT_REGION,!!this._regions[e]},t.prototype.regionKeys=function(){return i.keys(this._regions)},t.prototype.clear=function(e){return e=e||t.DEFAULT_REGION,this.has(e)&&this.region(e).template(null),this},t.prototype.clearAll=function(){return i.each(this._regions,function(e){e.template(null)}),this},t.prototype.beginRendering=function(e){var t=this;if(this._finishRenderingTransaction&&this._finishRenderingTransaction(),this._finishRenderingTransaction=i.once(function(){var n=t._endRendering({flush:!1});e&&e(n)}),Deps.afterFlush(this._finishRenderingTransaction),this._renderedRegions)throw new Error("You called beginRendering again before calling endRendering");this._renderedRegions={}},t.prototype._trackRenderedRegion=function(e){this._renderedRegions&&(this._renderedRegions[e]=!0)},t.prototype._endRendering=function(e){e=e||{},e.flush!==!1&&Deps.flush();var t=this._renderedRegions||{};return this._renderedRegions=null,i.keys(t)},i.each(["onRegionCreated","onRegionMaterialized","onRegionRendered","onRegionDestroyed"],function(e){t.prototype[e]=function(t){var n=this._regionHooks[e]=this._regionHooks[e]||[];return n.push(t),this}}),t.prototype._ensureRegion=function(e,t){return this._regions[e]=this._regions[e]||this._createDynamicTemplate(e,t)},t.prototype._createDynamicTemplate=function(e,t){var n=this,r=new s.DynamicTemplate(t),o=s.utils.capitalize;return r._region=e,i.each(["created","materialized","rendered","destroyed"],function(e){e=o(e),r["on"+e](function(t){var r=this;n._runRegionHooks("onRegion"+e,r,t)})}),r},t.prototype._runRegionHooks=function(e,t,n){for(var r,o=this._regionHooks[e]||[],a=0;a<o.length;a++)r=o[a],r.call(t,n.region,n,this)},o.registerHelper("yield",r.__create__("yield",function(){var t=e(this);if(!t)throw new Error("No Iron.Layout found so you can't use yield!");var r,o,a=u.getInclusionArguments(this);return i.isString(a)?r=a:i.isObject(a)&&(r=a.region),r=r||n,o=t.region(r),o.isCreated&&o.destroy(),o.create()})),o.registerHelper("contentFor",r.__create__("contentFor",function(){var t=e(this);if(!t)throw new Error("No Iron.Layout found so you can't use contentFor!");var n,r=u.getInclusionArguments(this)||{},o=this.templateContentBlock,a=r.template,s=r.data;if(i.isString(r))n=r;else{if(!i.isObject(r))throw new Error("Which region is this contentFor block supposed to be for?");n=r.region}return t.region(n).template(a||o),t._trackRenderedRegion(n),s&&t.region(n).data(s),null})),o.registerHelper("Layout",r.__create__("layout",function(){var e=s.DynamicTemplate.args(this),n=new t({template:function(){return e("template")},data:function(){return e("data")},content:this.templateContentBlock});return n.create()})),s.Layout=t}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron-layout"]={}}(),function(){var e,t,n,r,o,a,i,s,u,c,l,d=Package.meteor.Meteor,p=(Package["reactive-dict"].ReactiveDict,Package.deps.Deps),f=Package.underscore._,h=Package.ejson.EJSON,m=Package.jquery.$,g=(Package.jquery.jQuery,Package.ui.UI),_=(Package.ui.Handlebars,Package.htmljs.HTML,Package.blaze.Blaze,Package["iron-core"].Iron);(function(){o={},o.global=function(){return this}(),o.assert=function(e,t){if(!e)throw new Error(t)};var e=function(e){n&&n.options.supressWarnings===!0||console&&console.warn&&console.warn(e)};o.warn=function(t,n){t||e(n)},o.notifyDeprecated=function(t){var n,r,o,a,i="[:where] ':name' is deprecated. Please use ':instead' instead.";f.isObject(t)?(n=t.name,r=t.instead,o=t.message||i,a=t.where||"IronRouter"):(o=t,n="",r="",a=""),e("<deprecated> "+o.replace(":name",n).replace(":instead",r).replace(":where",a)+" "+(new Error).stack)},o.withDeprecatedNotice=function(e,t,n){return function(){return o.notifyDeprecated(e),t&&t.apply(n||this,arguments)}},Function.prototype.deprecate=function(e){var t=this;return o.withDeprecatedNotice(e,t)},o.resolveValue=function(e){var t,n,r=o.global;if(f.isString(e)){t=e.split("."),n=r;for(var a=0;a<t.length;a++)if(n=n[t[a]],!n)return void 0}else n=e;return n},o.hasOwnProperty=function(e,t){var n={}.hasOwnProperty;return n.call(e,t)},o.inherits=function(e,t){function n(){this.constructor=e}if("[object Function]"!==o.typeOf(e))throw new Error("First parameter to Utils.inherits must be a function");if("[object Function]"!==o.typeOf(t))throw new Error("Second parameter to Utils.inherits must be a function");for(var r in t)o.hasOwnProperty(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o.toArray=function(e){return e?"[object Array]"!==o.typeOf(e)?[e]:e:[]},o.typeOf=function(e){return e&&e.typeName?e.typeName:Object.prototype.toString.call(e)},o.extend=function(e,t,n){return 1===arguments.length?t=e:(t=t||{},t.extend=e),o.create(t,{onBeforeExtendPrototype:n})},o.create=function(e,t){var n,r;t=t||{},e=e||{},n=o.hasOwnProperty(e,"constructor")?e.constructor:function(){return n.__super__&&n.__super__.constructor?n.__super__.constructor.apply(this,arguments):void 0},r=e.extend,e.extend&&delete e.extend;var a=function(e,t,n){o.inherits(e,o.resolveValue(t)),n&&f.extend(e.prototype,n)};return r&&a(n,r),t.onBeforeExtendPrototype&&t.onBeforeExtendPrototype.call(n,e),f.extend(n.prototype,e),n},o.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1,e.length)},o.upperCamelCase=function(e){var t=/_|-|\./;return e?f.map(e.split(t),function(e){return o.capitalize(e)}).join(""):""},o.camelCase=function(e){var t=o.upperCamelCase(e);return t=t.charAt(0).toLowerCase()+t.slice(1,t.length)},o.pick=function(){for(var e,t=f.toArray(arguments),n=0;n<t.length;n++)if(e=t[n],"undefined"!=typeof e&&null!==e)return e;return null},o.StringConverters={none:function(e){return e},upperCamelCase:function(e){return o.upperCamelCase(e)},camelCase:function(e){return o.camelCase(e)}},o.rewriteLegacyHooks=function(e){var t=a.LEGACY_HOOK_TYPES;f.each(t,function(t,n){f.has(e,n)&&(s=!0,e[t]=e[n],o.notifyDeprecated({where:"RouteController",name:n,instead:t}))})}}).call(this),function(){t=function(e,t,n){var r;o.assert(e instanceof a,"Route constructor first parameter must be a Router"),o.assert(f.isString(t),"Route constructor second parameter must be a String name"),f.isFunction(n)&&(n={handler:n}),n=this.options=n||{},r=n.path||"/"+t,this.router=e,this.originalPath=r,f.isString(this.originalPath)&&"/"!==this.originalPath.charAt(0)&&(this.originalPath="/"+this.originalPath),this.name=t,this.where=n.where||"client",this.controller=n.controller,this.action=n.action,this.isReactive="undefined"!=typeof n.reactive?n.reactive:!0,o.rewriteLegacyHooks(this.options),this.compile()},t.prototype={constructor:t,compile:function(){var e,t=this,n=t.options;return this.keys=[],t.originalPath instanceof RegExp?t.re=t.originalPath:(e=t.originalPath.replace(/(.)\/$/,"$1").concat(n.strict?"":"/?").replace(/\/\(/g,"(?:/").replace(/#/,"/?#").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,n,r,o,a,i){return t.keys.push({name:o,optional:!!i}),n=n||"",""+(i?"":n)+"(?:"+(i?n:"")+(r||"")+(a||r&&"([^/.]+?)"||"([^/]+?)")+")"+(i||"")}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.*)"),t.re=new RegExp("^"+e+"$",n.sensitive?"":"i")),this},params:function(e){if(!e)return null;var t,n,r,o=[],a=this.exec(e),i=this.keys;if(!a)throw new Error('The route named "'+this.name+'" does not match the path "'+e+'"');for(var s=1,c=a.length;c>s;++s)n=i[s-1],r="string"==typeof a[s]?decodeURIComponent(a[s]):a[s],n?o[n.name]=void 0!==o[n.name]?o[n.name]:r:o.push(r);return e=decodeURI(e),t=e.split("?")[1],t&&(t=t.split("#")[0]),o.hash=e.split("#")[1],t&&f.each(t.split("&"),function(e){u=e.split("="),o[u[0]]=decodeURIComponent(u[1])}),o},normalizePath:function(e){var t=d.absoluteUrl();e=e.replace(t,"");var n=e.indexOf("?");e=~n?e.slice(0,n):e;var r=e.indexOf("#");return e=~r?e.slice(0,r):e,"/"!==e.charAt(0)&&(e="/"+e),e},test:function(e){return this.re.test(this.normalizePath(e))},exec:function(e){return this.re.exec(this.normalizePath(e))},resolve:function(e,t){var n,r,o,a,i=0,s=this.originalPath,u=!1;if(t=t||{},e=e||[],a=t.query,o=t.hash&&t.hash.toString(),s instanceof RegExp)throw new Error("Cannot currently resolve a regular expression path");return s=this.originalPath.replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(t,o,a,i,s,c){if(o=o||"",n=e[i],r="undefined"!=typeof n,c&&!r)n="";else if(!r)return void(u=!0);n=f.isFunction(n)?n.call(e):n;var l=f.map(String(n).split("/"),function(e){return encodeURIComponent(e)}).join("/");return o+l}).replace(/\*/g,function(){if("undefined"==typeof e[i])throw new Error("You are trying to access a wild card parameter at index "+i+" but the value of params at that index is undefined");var t=String(e[i++]);return f.map(t.split("/"),function(e){return encodeURIComponent(e)}).join("/")}),f.isObject(a)&&(a=f.map(f.pairs(a),function(e){return e[0]+"="+encodeURIComponent(e[1])}).join("&")),a&&a.length&&(s=s+"?"+a),o&&(o=encodeURI(o.replace("#","")),s=a?s+"#"+o:s+"/#"+o),s=s.replace(/\/+/g,"/"),s=s.replace(/^(.+)\/$/g,"$1"),u?null:s},path:function(e,t){return this.resolve(e,t)},url:function(e,t){var n=this.path(e,t);return n?("/"===n.charAt(0)&&(n=n.slice(1,n.length)),d.absoluteUrl()+n):null},findController:function(){var t,r=o.resolveValue,a=(o.toArray,function(e){var t=r(e);if("undefined"==typeof t)throw new Error('controller "'+e+'" is not defined');return t});return f.isString(this.controller)?t=a(this.controller):f.isFunction(this.controller)?t=this.controller:this.name&&(t=r(n.convertRouteControllerName(this.name+"Controller"))),t||(t=e),t},newController:function(e,t){var n=this.findController(e,t);return t=f.extend({},t,{path:e,params:this.params(e),where:this.where,action:this.action}),new n(this.router,this,t)},getController:function(e,t){return this.newController(e,t)}.deprecate({where:"Route",name:"getController",instead:"newController"})}}.call(this),function(){e=function(e,n,r){if(!(e instanceof a))throw new Error("RouteController requires a router");if(!(n instanceof t))throw new Error("RouteController requires a route");r=this.options=r||{},this.router=e,this.route=n,this.path=r.path||"",this.params=r.params||[],this.where=r.where||"client",this.action=r.action||this.action,o.rewriteLegacyHooks(this.options),o.rewriteLegacyHooks(this)},e.prototype={constructor:e,lookupProperty:function(e){var t;if(!f.isString(e))throw new Error("key must be a string");if("undefined"!=typeof(t=this.options[e]))return t;if("undefined"!=typeof(t=this[e]))return t;var n;return n=this.route.options,n&&"undefined"!=typeof(t=n[e])?t:(n=this.router.options,n&&"undefined"!=typeof(t=n[e])?t:void 0)},runHooks:function(e,t,r){{var a=this;this.constructor}if(!f.isString(e))throw new Error("hookName must be a string");if(t&&!f.isArray(t))throw new Error("more must be an array of functions");var i,s=!1,u=function(e){var t=e;if(f.isFunction(t))return t;if(f.isString(t)&&f.isFunction(n.hooks[t]))return n.hooks[t];throw new Error("No hook found named: ",e)},c=function(t){var n=[];return t.__super__&&(n=n.concat(c(t.__super__.constructor))),o.hasOwnProperty(t.prototype,e)?n.concat(t.prototype[e]):n},l=o.toArray,d=this.router.getHooks(e,this.route.name);i=this.route.options;var p=l(i&&i[e]);i=this.options;var h,m=l(i&&i[e]),g=c(this.constructor);h=f.has(this,e)?l(this[e]):[];for(var _,v=m.concat(g).concat(h).concat(p).concat(d).concat(t),s=!1,y=function(){s=!0},b=0;_=v[b];b++){var k=u(_);s||this.isStopped||k.call(a,y,b)}return r&&r.call(a,s),s},action:function(){throw new Error("not implemented")},stop:function(e){return this._stopController(e)},_stopController:function(e){var t=this;this.isStopped||(t.isRunning=!1,t.runHooks("onStop"),t.isStopped=!0,e&&e.call(t))},_run:function(){throw new Error("not implemented")}},f.extend(e,{extend:function(e){return o.rewriteLegacyHooks(e),o.extend(this,e,function(){})}})}.call(this),function(){a=function(e){var t=this;this.configure(e),this.routes=[],this._nameConverters={},this.setNameConverter("Template","none"),this.setNameConverter("RouteController","upperCamelCase"),this._globalHooks={},f.each(a.HOOK_TYPES,function(e){t._globalHooks[e]=[],t[e]=function(n,r){return t.addHook(e,n,r)}}),f.each(a.LEGACY_HOOK_TYPES,function(e,n){t[n]=function(){return o.notifyDeprecated({where:"Router",name:n,instead:e}),t[e].apply(this,arguments)}})},a.HOOK_TYPES=["onRun","onData","onBeforeAction","onAfterAction","onStop","waitOn"],a.LEGACY_HOOK_TYPES={load:"onRun",before:"onBeforeAction",after:"onAfterAction",unload:"onStop"},a.prototype={constructor:a,configure:function(e){var t=this;return e=e||{},this.options=this.options||{},f.extend(this.options,e),f.each(a.HOOK_TYPES,function(e){t.options[e]&&(f.each(o.toArray(t.options[e]),function(n){t.addHook(e,n)}),delete t.options[e])}),f.each(a.LEGACY_HOOK_TYPES,function(e,n){t.options[n]&&(f.each(o.toArray(t.options[n]),function(n){t.addHook(e,n)}),delete t.options[n])}),e.templateNameConverter&&this.setNameConverter("Template",e.templateNameConverter),e.routeControllerNameConverter&&this.setNameConverter("RouteController",e.routeControllerNameConverter),this},convertTemplateName:function(e){var t=this._nameConverters.Template;if(!t)throw new Error("No name converter found for Template");return t(e)},convertRouteControllerName:function(e){var t=this._nameConverters.RouteController;if(!t)throw new Error("No name converter found for RouteController");return t(e)},setNameConverter:function(e,t){var n;if(f.isFunction(t)&&(n=t),f.isString(t)&&(n=o.StringConverters[t]),!n)throw new Error("No converter found named: "+t);return this._nameConverters[e]=n,this},addHook:function(e,t,n){return n=n||{},n.only&&(n.only=o.toArray(n.only)),n.except&&(n.except=o.toArray(n.except)),this._globalHooks[e].push({options:n,hook:t}),this},getHooks:function(e,t){var n=[];return f.each(this._globalHooks[e],function(e){var r=e.options;r.except&&f.include(r.except,t)||(!r.only||f.include(r.only,t))&&n.push(e.hook)}),n},map:function(e){return o.assert(f.isFunction(e),"map requires a function as the first parameter"),e.call(this),this},route:function(e,n){var r;return o.assert(f.isString(e),"name is a required parameter"),r=n instanceof t?n:new t(this,e,n),this.routes[e]=r,this.routes.push(r),r},path:function(e,t,n){var r=this.routes[e];return o.warn(r,"You called Router.path for a route named "+e+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.path(t,n)},url:function(e,t,n){var r=this.routes[e];return o.warn(r,'You called Router.url for a route named "'+e+"\" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.url(t,n)},match:function(e){return f.find(this.routes,function(t){return t.test(e)})},dispatch:function(e,t,n){var r=this.match(e);if(!r)return this.onRouteNotFound(e,t);if(r.where!==(d.isClient?"client":"server"))return this.onUnhandled(e,t);var o=r.newController(e,t);this.run(o,n)},run:function(e,t){var n=this,r=d.isClient?"client":"server";if(o.assert(e,"run requires a controller"),e.where!=r)return void n.onUnhandled(e.path,e.options);var a=function(){n._currentController=e,t&&t(e),n._currentController._run()};this._currentController?this._currentController._stopController(a):a()},onUnhandled:function(){throw new Error("onUnhandled not implemented")},onRouteNotFound:function(e){throw new Error('Oh no! No route found for path: "'+e+'"')}}}.call(this),function(){function e(e){l(e.originalEvent.state,null,location.pathname+location.search+location.hash)}var t=new p.Dependency,n={path:location.pathname+location.search+location.hash,title:null};r={},r.origin=function(){return location.protocol+"//"+location.host},r.isSameOrigin=function(e){var t=r.origin();return 0===e.indexOf(t)},r.get=function(){return t.depend(),n},r.path=function(){return t.depend(),n.path},r.set=function(e,t){t=t||{};var n=t.state||{};/^http/.test(e)?c=e:("/"!==e.charAt(0)&&(e="/"+e),c=r.origin()+e),r.isSameOrigin(c)?"server"===t.where?window.location=c:t.replaceState?r.replaceState(n,t.title,e,t.skipReactive):r.pushState(n,t.title,e,t.skipReactive):window.location=c},l=function(e,r,o,a){e=f.extend({},e),e.path=o,e.title=r,a||h.equals(n,e)||t.changed(),n=e},r.pushState=function(e,t,n,r){l(e,t,n,r),history.pushState?history.pushState(e,t,n):window.location=n},r.replaceState=function(e,t,r,o){arguments.length<2&&(t=n.title),arguments.length<3&&(r=n.path),l(e,t,r,o),history.replaceState?history.replaceState(e,t,r):window.location=r},r.bindEvents=function(){m(window).on("popstate.iron-router",e)},r.unbindEvents=function(){m(window).off("popstate.iron-router")},r.start=function(){this.isStarted||(r.bindEvents(),this.isStarted=!0,history.replaceState&&history.replaceState({initial:!0},null,location.pathname+location.search+location.hash))},r.stop=function(){r.unbindEvents(),this.isStarted=!1}}.call(this),function(){var i=function(e,t){return function(){return"function"==typeof e?e.apply(t,arguments):e}};if(a=o.extend(a,{constructor:function(e){var t=this;a.__super__.constructor.apply(this,arguments),t.options.linkSelector=t.options.linkSelector||"a[href]",e=e||{},this.isRendered=!1,this._currentController=null,this._controllerDep=new p.Dependency,this._hasJustReloaded=!1,d.startup(function(){d.defer(function(){t.options.autoRender!==!1&&t.autoRender(),t.options.autoStart!==!1&&t.start()})}),this._layout=new _.Layout({template:this.options.layoutTemplate})},layout:function(e,t){var n=this._layout.template(e);return t&&f.has(t,"data")&&this._layout.data(i(t.data,this)),n},setRegion:function(e,t){return 1===arguments.length&&(t=e,e=null),this._layout.render(t,{to:e}),this
},clearRegion:function(e){return this._layout.clear(e),this},current:function(e){return e&&e.reactive===!1?this._currentController:(this._controllerDep.depend(),this._currentController)},clearUnusedRegions:function(e){var t=this,n=f.keys(this._layout._regions);e=f.filter(e,function(e){return!!e});var r=f.difference(n,e);f.each(r,function(e){t.clearRegion(e)})},run:function(e){a.__super__.run.apply(this,arguments),e==this._currentController&&this._controllerDep.changed()},go:function(e,t,n){var r,a,i,s,u=this,c=/^\/|http/;if(s=function(){n=n||{},u._location.set(a,{replaceState:n.replaceState,state:n.state,skipReactive:!0})},c.test(e)){if(a=e,n=t,a===u._location.path())return void(u.options.debug&&console.log("You've navigated to the same path that you are currently at. Doing nothing"));u.dispatch(a,n,s)}else r=u.routes[e],o.assert(r,"No route found named "+e),a=r.path(t,n),i=r.newController(a,n),u.run(i,s)},render:function(){return this.isRendered=!0,this._layout.create()},autoRender:function(){this.isRendered=!0,this._layout.insert({el:document.body,parentComponent:null})},bindEvents:function(){m(document).on("click.ironRouter",this.options.linkSelector,f.bind(this.onClick,this))},unbindEvents:function(){m(document).off("click.ironRouter",this.options.linkSelector)},start:function(){var e=this;e.isStarted||(e.isStarted=!0,e._location=e.options.location||r,e._location.start(),e.bindEvents(),p.autorun(function(t){e._locationComputation=t,e.dispatch(e._location.path(),{state:history.state})}))},stop:function(){this.isStarted=!1,this.unbindEvents(),this._location.stop(),this._locationComputation&&this._locationComputation.stop()},onUnhandled:function(e){window.location=e},onRouteNotFound:function(n,r){if(this._location.path()!==n)this.stop(),window.location=n;else{if(!this.options.notFoundTemplate)throw new Error('Oh no! No route found for path: "'+n+'"');var o=new t(this,"__notfound__",f.extend(r||{},{path:n}));this.run(new e(this,o,{layoutTemplate:this.options.layoutTemplate,template:this.options.notFoundTemplate}))}},onClick:function(e){var t=e.currentTarget,n=f.isUndefined(e.which)?e.button:e.which,o=t.href,a=t.pathname+t.search+t.hash;a=a.replace(/(^\/?)/,"/"),e.isDefaultPrevented()||1===n&&(e.metaKey||e.ctrlKey||e.shiftKey||t.target||r.isSameOrigin(o)&&(e.preventDefault(),this.go(a)))}}),n=new a,d._reload){d._reload.onMigrate("iron-router",function(){return[!0,!0]});var s=d._reload.migrationData("iron-router");n._hasJustReloaded=s}}.call(this),function(){i=function(){this._readyDep=new p.Dependency,this._comps=[],this._notReadyCount=0},i.prototype.wait=function(e){var t=this,n=p.currentComputation;p.nonreactive(function(){var r=null,o=p.autorun(function(n){var o=!!e(),a=t._notReadyCount;n.firstRun&&!o?t._notReadyCount++:null!==r&&o!==r&&o===!0?t._notReadyCount--:null!==r&&o!==r&&o===!1&&t._notReadyCount++,r=o,0===a&&t._notReadyCount>0?t._readyDep.changed():a>0&&0===t._notReadyCount&&t._readyDep.changed()});t._comps.push(o),n&&n.onInvalidate(function(){o.stop(),t._comps.splice(f.indexOf(t._comps,o),1),r===!1&&t._notReadyCount--})})},i.prototype.ready=function(){return this._readyDep.depend(),0===this._notReadyCount},i.prototype.stop=function(){f.each(this._comps,function(e){e.stop()}),this._comps=[]}}.call(this),function(){n.hooks={dataNotFound:function(e){var t;if(this.ready()&&null!==this._dataValue&&"undefined"!=typeof this._dataValue){var n=this.data();(null===n||"undefined"==typeof n)&&(t=this.lookupProperty("notFoundTemplate"),t&&(this.render(t),this.renderRegions(),e()))}},loading:function(e){var t;this.ready()||(t=this.lookupProperty("loadingTemplate"),t&&(this.render(t),this.renderRegions(),e()))}}}.call(this),function(){var t=!1,r=function(e){t&&console.log("%c<RouteController> "+e,"color: purple; font-size: 1.3em; font-weight: bold;")},a=function(e,t){return function(){return"function"==typeof e?e.apply(t,arguments):e}};e=o.extend(e,{constructor:function(){var t=this;e.__super__.constructor.apply(this,arguments),this._waitList=new i,this.data=a(this.lookupProperty("data"),this),f.each(["layout","setRegion","clearRegion"],function(e){t[e]=function(){if(!t.router)throw new Error("No router defined on RouteController");return t.router[e].apply(t.router,arguments)}})},setLayout:function(){return this.layout.apply(this,arguments)},ready:function(){return this._waitList.ready()},redirect:function(){return n.go.apply(n,arguments)},subscribe:function(){var e=this,t=d.subscribe.apply(this,arguments);return f.extend(t,{wait:function(){e.wait(this)}})},lookupLayoutTemplate:function(){return this.lookupProperty("layoutTemplate")},lookupTemplate:function(){return this.lookupProperty("template")||n.convertTemplateName(this.route.name)},lookupRegionTemplates:function(){var e;return(e=this.lookupProperty("regionTemplates"))?e:(e=this.lookupProperty("yieldTemplates"))?e:{}},lookupWaitOn:function(){var e=o.toArray,t=e(this.router.getHooks("waitOn",this.route.name)),n=e(this.router.options.waitOn),r=e(this.route.options.waitOn),a=e(this.options.waitOn),i=e(this.waitOn);return t.concat(n).concat(r).concat(a).concat(i)},render:function(e,t){var n,e;0==arguments.length?(this.setRegion(this.lookupTemplate()),this.renderRegions()):(t=t||{},n=t.to,this.setRegion(n,e))},renderRegions:function(){var e=this,t=this.lookupRegionTemplates();f.each(t,function(t,n){e.render(n,t)})},wait:function(e){var t=this;if(e)return f.isArray(e)?f.each(e,function(e){t.wait(e)}):this._waitList.wait(e.ready?function(){return e.ready()}:e),this},action:function(){this.render()},_stopController:function(t){var n=this;if(!this.isStopped){var r=function(){e.__super__._stopController.call(n,t)};this._computation?(this._computation.stop(),this._computation.onInvalidate(r)):r()}},_run:function(){var e=this,t=e.router._layout;if(e.isRunning)throw new Error("You called _run without first calling stop");e.isRunning=!0,e.isStopped=!1;var n=function(t,n){return function(){var r=e.stop;e.stop=function(){return"undefined"!=typeof console?void console.warn("You called this.stop() inside a hook or your action function but you should use pause() now instead which is the first parameter to the hook function."):void 0};try{return t.call(n||this)}finally{e.stop=r}}};e._computation=p.autorun(n(function(){p.autorun(n(function(){e.router._hasJustReloaded||e.runHooks("onRun"),e.router._hasJustReloaded=!1})),p.autorun(function(){var t=e.lookupWaitOn(),n=f.flatten(f.map(t,function(t){return f.isFunction(t)?t.call(e):t}));r("waitOn"),e.wait(n)}),p.autorun(function(){e.router._layout.beginRendering(function(n){if(!e.isStopped){var r=t.regionKeys(),o=f.difference(r,n);f.each(o,function(e){t.clear(e)})}});var n=f.isFunction(e.action)?e.action:e[e.action];o.assert(n,"You don't have an action named \""+e.action+'" defined on your RouteController'),e.layout(e.lookupLayoutTemplate(),{data:e.lookupProperty("data")}),e.runHooks("onBeforeAction",[],function(t){e.isStopped||t||(n.call(e),e.isStopped||e.runHooks("onAfterAction"))})})}))}})}.call(this),function(){n.helpers={};var e=function(e){return e===window?{}:e},t=function(t,n){f.isObject(t)&&(n=t,t=n.route);var r=n.hash||{},o=r.params||f.omit(r,"hash","query"),a=r.hash,i=r.query;return f.isEmpty(r)&&(o=e(this)),{routeName:t,params:o,query:i,hash:a}};f.extend(n.helpers,{pathFor:function(e,r){var o=t.call(this,e,r);return n.path(o.routeName,o.params,{query:o.query,hash:o.hash})},urlFor:function(e,r){var o=t.call(this,e,r);return n.url(o.routeName,o.params,{query:o.query,hash:o.hash})}}),f.each(n.helpers,function(e,t){g.registerHelper(t,e)})}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron-router"]={RouteController:e,Route:t,Router:n,IronLocation:r,Utils:o,IronRouter:a,WaitList:i}}(),function(){{var e,t=Package.meteor.Meteor,n=Package.ui.UI;Package.ui.Handlebars,Package.htmljs.HTML,Package.blaze.Blaze}(function(){e={translations:{},t:function(t){var n=getSetting("language","en");return e.translations[n]&&e.translations[n][t]?e.translations[n][t]:t}},t.isClient&&n.registerHelper("i18n",function(t){return e.t(t)})}).call(this),"undefined"==typeof Package&&(Package={}),Package["telescope-i18n"]={i18n:e}}(),function(){{var e,t,n,r,o,a,i,s,u=Package.meteor.Meteor,c=(Package.underscore._,Package.deps.Deps),l=Package.ejson.EJSON;Package["accounts-base"].Accounts,Package["iron-router"].RouteController,Package["iron-router"].Route,Package["iron-router"].Router,Package["iron-router"].IronLocation,Package["iron-core"].Iron}(function(){n=function(e){var t=l.stringify(e);return encodeURI(t)},r=function(e){var t=decodeURI(e);return l.fromJSONValue(JSON.parse(t))}}).call(this),function(){!function(e){"use strict";var t=function(e,n,r){return 1===arguments.length?t.get(e):t.set(e,n,r)};t._document=document,t._navigator=navigator,t.defaults={path:"/"},t.get=function(e){return t._cachedDocumentCookie!==t._document.cookie&&t._renewCache(),t._cache[e]},t.set=function(n,r,o){return o=t._getExtendedOptions(o),o.expires=t._getExpiresDate(r===e?-1:o.expires),t._document.cookie=t._generateCookieString(n,r,o),t},t.expire=function(n,r){return t.set(n,e,r)},t._getExtendedOptions=function(n){return{path:n&&n.path||t.defaults.path,domain:n&&n.domain||t.defaults.domain,expires:n&&n.expires||t.defaults.expires,secure:n&&n.secure!==e?n.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){switch(n=n||new Date,typeof e){case"number":e=new Date(n.getTime()+1e3*e);break;case"string":e=new Date(e)}if(e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){e=encodeURIComponent(e),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var r=e+"="+t;return r+=n.path?";path="+n.path:"",r+=n.domain?";domain="+n.domain:"",r+=n.expires?";expires="+n.expires.toUTCString():"",r+=n.secure?";secure":""},t._getCookieObjectFromString=function(n){for(var r={},o=n?n.split("; "):[],a=0;a<o.length;a++){var i=t._getKeyValuePairFromCookieString(o[a]);r[i.key]===e&&(r[i.key]=i.value)}return r},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");return t=0>t?e.length:t,{key:decodeURIComponent(e.substr(0,t)),value:decodeURIComponent(e.substr(t+1))}},t._renewCache=function(){t._cache=t._getCookieObjectFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){return t._navigator.cookieEnabled||"1"===t.set("cookies.js",1).get("cookies.js")},t.enabled=t._areEnabled(),"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.Cookies=t):window.Cookies=t}(),o=window.Cookies,window.Cookies=void 0}.call(this),function(){a=i=function(){var e,t,n,r,o,a,s=arguments[0]||{},u=1,c=arguments.length,l=!1,d=Object.prototype.toString,p=Object.prototype.hasOwnProperty,f=(Array.prototype.push,Array.prototype.slice,String.prototype.trim,Array.prototype.indexOf,{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"}),h={isFunction:function(e){return"function"===h.type(e)},isArray:Array.isArray||function(e){return"array"===h.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):f[d.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==h.type(e)||e.nodeType)return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var n;for(n in e);return void 0===n||p.call(e,n)}};for("boolean"==typeof s&&(l=s,s=arguments[1]||{},u=2),"object"==typeof s||h.isFunction(s)||(s={}),c===u&&(s=this,--u),u;c>u;u++)if(null!=(e=arguments[u]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(h.isPlainObject(r)||(o=h.isArray(r)))?(o?(o=!1,a=n&&h.isArray(n)?n:[]):a=n&&h.isPlainObject(n)?n:{},s[t]=i(l,a,r)):void 0!==r&&(s[t]=r));return s}}.call(this),function(){s=function(){"undefined"!=typeof console&&"undefined"!=typeof localStorage&&"1"==localStorage.getItem("__frlog")&&(arguments[0]=arguments[0]+":",console.log.apply(console,arguments))},s.enable=function(){localStorage.setItem("__frlog","1")},s.disable=function(){localStorage.removeItem("__frlog")}}.call(this),function(){e={},e.completeSubscriptions=function(e){if("string"==typeof e)e=[e];else if(e.constructor!=Array)throw new Error("subscriptions params should be either a string or array of strings");e.forEach(function(e){__fast_render_config.subscriptions[e]=!0})},e.enabled="undefined"!=typeof __fast_render_config,e.Log=s}.call(this),function(){if("undefined"==typeof __fast_render_config)return void s("NO_FAST_RENDER");var e=!1,t=!1,n=u.default_connection._livedata_data;u.default_connection._livedata_data=function(r){s("DDP_RECIEVE",r);var o=this._getServerDoc(r.collection,r.id);if(!t&&!o&&"added"==r.msg){var i=this._mongo_livedata_collections[r.collection];if(i){var u=i.findOne(r.id);u&&(r.fields=a(!0,u,r.fields),delete r.fields._id,r.msg="changed")}}return e||("ready"==r.msg&&!r.frGen&&__fast_render_config.subscriptions&&r.subs.forEach(function(e){var t=__fast_render_config.subscriptionIdMap[e];t&&(s("DELETING_SUBSCRIPTION",t,e),delete __fast_render_config.subscriptions[t],delete __fast_render_config.subscriptionIdMap[e],__fast_render_config.loadedSubscriptions[t]=!0)}),l.equals(__fast_render_config.subscriptions,{})&&(s("REVERTING_BACK_TO_ORIGINAL_DDP_HANDLING"),e=!0)),n.call(this,r)};var r=u.default_connection._send;u.default_connection._send=function(n){s("DDP_SEND",n),"connect"==n.msg&&void 0!=n.session&&(e=!0,t=!0);var o=this;if(!e){var a="sub"==n.msg&&__fast_render_config.subscriptions&&__fast_render_config.subscriptions[n.name];a&&(s("FAKE_SUB_READY",n.name),o._livedata_data({msg:"ready",subs:[n.id],frGen:!0}),__fast_render_config.subscriptionIdMap[n.id]=n.name)}return r.call(this,n)}}.call(this),function(){t=function(e){var t=__fast_render_config.serverRoutePath;__fast_render_config.serverRoutePath=decodeURI(t);var n=r(e);for(var o in n.collectionData){var i=n.collectionData[o];i.forEach(function(e){e.forEach(function(e){var t=u.default_connection._mongo_livedata_collections[o];if(t){var n=t.findOne(e._id);n?(a(!0,n,e),t.update(e._id,n)):t.insert(e)}else console.warn("fast-route data found, but no collection exists for: "+o)})})}}}.call(this),function(){function t(){var e=document.createElement("a");e.href=location.href;var t=e.pathname;return t+=e.search?e.search:""}if(Package["iron-router"]){var n=new u.EnvironmentVariable,r=e.RouteController=Package["iron-router"].RouteController,o=r.prototype._run?"_run":"run",a=r.prototype[o];r.prototype[o]=function(){var t=this;e.enabled?n.withValue(!0,function(){a.call(t)}):a.call(this)};var i=u.subscribe;u.subscribe=function(r){var o=e.enabled&&n.get()&&t()==__fast_render_config.serverRoutePath&&__fast_render_config.subscriptions[r]&&!__fast_render_config.loadedSubscriptions[r];return o?(s("APPLY_IR_SUB_CORRECTIONS",r),i.apply(this,arguments),{ready:function(){return!0}}):i.apply(this,arguments)}}}.call(this),function(){"function"==typeof u.user?c.autorun(function(){var e=u.user(),t=u.status();if(t.connected)if(e){var n=u._localStorage.getItem("Meteor.loginToken"),r=u._localStorage.getItem("Meteor.loginTokenExpires");o.set("meteor_login_token",n,{path:"/",expires:r})}else o.expire("meteor_login_token")}):o.expire("meteor_login_token")}.call(this),"undefined"==typeof Package&&(Package={}),Package["fast-render"]={FastRender:e,__init_fast_render:t}}(),function(){{var e=Package.meteor.Meteor,t=Package.templating.Template,n=Package.underscore._,r=(Package.ui.UI,Package.ui.Handlebars,Package.htmljs.HTML);Package.blaze.Blaze}(function(){!function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var n,r=document.createElement(e||"div");for(n in t)r[n]=t[n];return r}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,r){var o=["opacity",t,~~(100*e),n,r].join("-"),a=.01+n/r*100,i=Math.max(1-(1-e)/t*(100-a),e),s=c.substring(0,c.indexOf("Animation")).toLowerCase(),u=s&&"-"+s+"-"||"";return d[o]||(p.insertRule("@"+u+"keyframes "+o+"{0%{opacity:"+i+"}"+a+"%{opacity:"+e+"}"+(a+.01)+"%{opacity:1}"+(a+t)%100+"%{opacity:"+e+"}100%{opacity:"+i+"}}",p.cssRules.length),d[o]=1),o}function r(e,t){var n,r,o=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<l.length;r++)if(n=l[r]+t,void 0!==o[n])return n;return void 0!==o[t]?t:void 0}function o(e,t){for(var n in t)e.style[r(e,n)||n]=t[n];return e}function a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)void 0===e[r]&&(e[r]=n[r])}return e}function i(e,t){return"string"==typeof e?e:e[t%e.length]}function s(e){this.opts=a(e||{},s.defaults,f)}function u(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}p.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(e,r){function a(){return o(n("group",{coordsize:l+" "+l,coordorigin:-c+" "+-c}),{width:l,height:l})}function s(e,s,u){t(p,t(o(a(),{rotation:360/r.lines*e+"deg",left:~~s}),t(o(n("roundrect",{arcsize:r.corners}),{width:c,height:r.width,left:r.radius,top:-r.width>>1,filter:u}),n("fill",{color:i(r.color,e),opacity:r.opacity}),n("stroke",{opacity:0}))))}var u,c=r.length+r.width,l=2*c,d=2*-(r.width+r.length)+"px",p=o(a(),{position:"absolute",top:d,left:d});if(r.shadow)for(u=1;u<=r.lines;u++)s(u,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(u=1;u<=r.lines;u++)s(u);return t(e,p)},s.prototype.opacity=function(e,t,n,r){var o=e.firstChild;r=r.shadow&&r.lines||0,o&&t+r<o.childNodes.length&&(o=o.childNodes[t+r],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=n))}}var c,l=["webkit","Moz","ms","O"],d={},p=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),f={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};s.defaults={},a(s.prototype,{spin:function(t){this.stop();{var n=this,r=n.opts,a=n.el=o(e(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex});r.radius+r.length+r.width}if(o(a,{left:r.left,top:r.top}),t&&t.insertBefore(a,t.firstChild||null),a.setAttribute("role","progressbar"),n.lines(a,n.opts),!c){var i,s=0,u=(r.lines-1)*(1-r.direction)/2,l=r.fps,d=l/r.speed,p=(1-r.opacity)/(d*r.trail/100),f=d/r.lines;!function h(){s++;for(var e=0;e<r.lines;e++)i=Math.max(1-(s+(r.lines-e)*f)%d*p,r.opacity),n.opacity(a,e*r.direction+u,i,r);n.timeout=n.el&&setTimeout(h,~~(1e3/l))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(r,a){function s(t,n){return o(e(),{position:"absolute",width:a.length+a.width+"px",height:a.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/a.lines*l+a.rotate)+"deg) translate("+a.radius+"px,0)",borderRadius:(a.corners*a.width>>1)+"px"})}for(var u,l=0,d=(a.lines-1)*(1-a.direction)/2;l<a.lines;l++)u=o(e(),{position:"absolute",top:1+~(a.width/2)+"px",transform:a.hwaccel?"translate3d(0,0,0)":"",opacity:a.opacity,animation:c&&n(a.opacity,a.trail,d+l*a.direction,a.lines)+" "+1/a.speed+"s linear infinite"}),a.shadow&&t(u,o(s("#000","0 0 4px #000"),{top:"2px"})),t(r,t(u,s(i(a.color,l),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var h=o(e("group"),{behavior:"url(#default#VML)"});return!r(h,"transform")&&h.adj?u():c=r(h,"animation"),s})}).call(this),function(){t.__define__("spinner",function(){return r.Raw('<div class="spinner-container"></div>')})}.call(this),function(){t.spinner.rendered=function(){var t=n.extend({},e.Spinner.options,this.data);this.spinner=new Spinner(t),this.spinner.spin(this.firstNode)},t.spinner.destroyed=function(){this.spinner&&this.spinner.stop()},e.Spinner={options:{lines:13,length:8,width:3,radius:12,corners:1,rotate:0,direction:1,color:"#000",speed:1.2,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"}}}.call(this),"undefined"==typeof Package&&(Package={}),Package.spin={}}(),function(){var e,t,n,r,o,a,i,s=Package.meteor.Meteor,u=Package.deps.Deps,c=Package.underscore._,l=(Package.check.check,Package.check.Match),d=Package.random.Random;(function(){!function(){"use strict";function e(e){this.s=null!==e&&void 0!==e?"string"==typeof e?e:e.toString():e,this.orig=e,null!==e&&void 0!==e?this.__defineGetter__?this.__defineGetter__("length",function(){return this.s.length}):this.length=e.length:this.length=-1}function t(){for(var e in l)!function(e){var t=l[e];c.hasOwnProperty(e)||(d.push(e),c[e]=function(){return String.prototype.s=this,t.apply(this,arguments)})}(e)}function n(){for(var e=0;e<d.length;++e)delete String.prototype[d[e]];d.length=0}function r(){for(var e=o(),t={},n=0;n<e.length;++n){var r=e[n],a=c[r];try{var i=typeof a.apply("teststring",[]);t[r]=i}catch(s){}}return t}function o(){var e=[];if(Object.getOwnPropertyNames)return e=Object.getOwnPropertyNames(c),e.splice(e.indexOf("valueOf"),1),e.splice(e.indexOf("toString"),1),e;var t={};for(var n in String.prototype)t[n]=n;for(var n in Object.prototype)delete t[n];for(var n in t)e.push(n);return e}function a(t){return new e(t)}function i(e,t){var n,r=[];for(n=0;n<e.length;n++)r.push(e[n]),t&&t.call(e,e[n],n);return r}var s="1.5.0",u={},c=String.prototype,l=e.prototype={between:function(t,n){var r=this.s,o=r.indexOf(t),a=r.indexOf(n),i=o+t.length;return new e(a>o?r.slice(i,a):"")},camelize:function(){var t=this.trim().s.replace(/(\-|_|\s)+(.)?/g,function(e,t,n){return n?n.toUpperCase():""});return new e(t)},capitalize:function(){return new e(this.s.substr(0,1).toUpperCase()+this.s.substring(1).toLowerCase())},charAt:function(e){return this.s.charAt(e)},chompLeft:function(t){var n=this.s;return 0===n.indexOf(t)?(n=n.slice(t.length),new e(n)):this},chompRight:function(t){if(this.endsWith(t)){var n=this.s;return n=n.slice(0,n.length-t.length),new e(n)}return this},collapseWhitespace:function(){var t=this.s.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");return new e(t)},contains:function(e){return this.s.indexOf(e)>=0},count:function(e){for(var t=0,n=this.s.indexOf(e);n>=0;)t+=1,n=this.s.indexOf(e,n+1);return t},dasherize:function(){var t=this.trim().s.replace(/[_\s]+/g,"-").replace(/([A-Z])/g,"-$1").replace(/-+/g,"-").toLowerCase();return new e(t)},decodeHtmlEntities:function(){var t=this.s;return t=t.replace(/&#(\d+);?/g,function(e,t){return String.fromCharCode(t)}).replace(/&#[xX]([A-Fa-f0-9]+);?/g,function(e,t){return String.fromCharCode(parseInt(t,16))}).replace(/&([^;\W]+;?)/g,function(e,t){var n=t.replace(/;$/,""),r=u[t]||t.match(/;$/)&&u[n];return"number"==typeof r?String.fromCharCode(r):"string"==typeof r?r:e}),new e(t)},endsWith:function(e){var t=this.s.length-e.length;return t>=0&&this.s.indexOf(e,t)===t},escapeHTML:function(){return new e(this.s.replace(/[&<>"']/g,function(e){return"&"+m[e]+";"}))},ensureLeft:function(t){var n=this.s;return 0===n.indexOf(t)?this:new e(t+n)},ensureRight:function(t){var n=this.s;return this.endsWith(t)?this:new e(n+t)},humanize:function(){if(null===this.s||void 0===this.s)return new e("");var t=this.underscore().replace(/_id$/,"").replace(/_/g," ").trim().capitalize();return new e(t)},isAlpha:function(){return!/[^a-z\xC0-\xFF]/.test(this.s.toLowerCase())},isAlphaNumeric:function(){return!/[^0-9a-z\xC0-\xFF]/.test(this.s.toLowerCase())},isEmpty:function(){return null===this.s||void 0===this.s?!0:/^[\s\xa0]*$/.test(this.s)},isLower:function(){return this.isAlpha()&&this.s.toLowerCase()===this.s},isNumeric:function(){return!/[^0-9]/.test(this.s)},isUpper:function(){return this.isAlpha()&&this.s.toUpperCase()===this.s},left:function(t){if(t>=0){var n=this.s.substr(0,t);return new e(n)}return this.right(-t)},lines:function(){return this.replaceAll("\r\n","\n").s.split("\n")},pad:function(t,n){if(n=n||" ",this.s.length>=t)return new e(this.s);t-=this.s.length;var r=Array(Math.ceil(t/2)+1).join(n),o=Array(Math.floor(t/2)+1).join(n);return new e(r+this.s+o)},padLeft:function(t,n){return n=n||" ",new e(this.s.length>=t?this.s:Array(t-this.s.length+1).join(n)+this.s)},padRight:function(t,n){return n=n||" ",new e(this.s.length>=t?this.s:this.s+Array(t-this.s.length+1).join(n))},parseCSV:function(e,t,n,r){e=e||",",n=n||"\\","undefined"==typeof t&&(t='"');var o=0,a=[],i=[],s=this.s.length,u=!1,c=this,l=function(e){return c.s.charAt(e)};if("undefined"!=typeof r)var d=[];for(t||(u=!0);s>o;){var p=l(o);switch(p){case n:if(u&&(n!==t||l(o+1)===t)){o+=1,a.push(l(o));break}if(n!==t)break;case t:u=!u;break;case e:u&&t?a.push(p):(i.push(a.join("")),a.length=0);break;case r:u?a.push(p):d&&(i.push(a.join("")),d.push(i),i=[],a.length=0);break;default:u&&a.push(p)}o+=1}return i.push(a.join("")),d?(d.push(i),d):i},replaceAll:function(t,n){var r=this.s.split(t).join(n);return new e(r)},right:function(t){if(t>=0){var n=this.s.substr(this.s.length-t,t);return new e(n)}return this.left(-t)},slugify:function(){var t=new e(this.s.replace(/[^\w\s-]/g,"").toLowerCase()).dasherize().s;return"-"===t.charAt(0)&&(t=t.substr(1)),new e(t)},startsWith:function(e){return 0===this.s.lastIndexOf(e,0)},stripPunctuation:function(){return new e(this.s.replace(/[^\w\s]|_/g,"").replace(/\s+/g," "))},stripTags:function(){var t=this.s,n=arguments.length>0?arguments:[""];return i(n,function(e){t=t.replace(RegExp("</?"+e+"[^<>]*>","gi"),"")}),new e(t)},template:function(t,n,r){var o=this.s,n=n||a.TMPL_OPEN,r=r||a.TMPL_CLOSE,i=new RegExp(n+"(.+?)"+r,"g"),s=o.match(i)||[];return s.forEach(function(e){var a=e.substring(n.length,e.length-r.length);t[a]&&(o=o.replace(e,t[a]))}),new e(o)},times:function(t){return new e(new Array(t+1).join(this.s))},toBoolean:function(){if("string"==typeof this.orig){var e=this.s.toLowerCase();return"true"===e||"yes"===e||"on"===e}return this.orig===!0||1===this.orig},toFloat:function(e){var t=parseFloat(this.s);return e?parseFloat(t.toFixed(e)):t},toInt:function(){return/^\s*-?0x/i.test(this.s)?parseInt(this.s,16):parseInt(this.s,10)},trim:function(){var t;return t="undefined"==typeof c.trim?this.s.replace(/(^\s*|\s*$)/g,""):this.s.trim(),new e(t)},trimLeft:function(){var t;return t=c.trimLeft?this.s.trimLeft():this.s.replace(/(^\s*)/g,""),new e(t)},trimRight:function(){var t;return t=c.trimRight?this.s.trimRight():this.s.replace(/\s+$/,""),new e(t)},truncate:function(t,n){var r=this.s;if(t=~~t,n=n||"...",r.length<=t)return new e(r);var o=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},a=r.slice(0,t+1).replace(/.(?=\W*\w*$)/g,o);return a=a.slice(a.length-2).match(/\w\w/)?a.replace(/\s*\S+$/,""):new e(a.slice(0,a.length-1)).trimRight().s,new e((a+n).length>r.length?r:r.slice(0,a.length)+n)},toCSV:function(){function t(e){return null!==e&&""!==e}var n=",",r='"',o="\\",a=!0,i=!1,s=[];if("object"==typeof arguments[0]?(n=arguments[0].delimiter||n,n=arguments[0].separator||n,r=arguments[0].qualifier||r,a=!!arguments[0].encloseNumbers,o=arguments[0].escape||o,i=!!arguments[0].keys):"string"==typeof arguments[0]&&(n=arguments[0]),"string"==typeof arguments[1]&&(r=arguments[1]),null===arguments[1]&&(r=null),this.orig instanceof Array)s=this.orig;else for(var u in this.orig)this.orig.hasOwnProperty(u)&&s.push(i?u:this.orig[u]);for(var c=o+r,l=[],d=0;d<s.length;++d){var p=t(r);if("number"==typeof s[d]&&(p&=a),p&&l.push(r),null!==s[d]&&void 0!==s[d]){var f=new e(s[d]).replaceAll(r,c).s;l.push(f)}else l.push("");p&&l.push(r),n&&l.push(n)}return l.length=l.length-1,new e(l.join(""))},toString:function(){return this.s},underscore:function(){var t=this.trim().s.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase();return new e(this.s.charAt(0)).isUpper()&&(t="_"+t),new e(t)},unescapeHTML:function(){return new e(this.s.replace(/\&([^;]+);/g,function(e,t){var n;return t in h?h[t]:(n=t.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=t.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):e}))},valueOf:function(){return this.s.valueOf()}},d=[],p=r();for(var f in p)!function(t){var n=c[t];"function"==typeof n&&(l[t]||(l[t]="string"===p[t]?function(){return new e(n.apply(this,arguments))}:n))}(f);l.repeat=l.times,l.include=l.contains,l.toInteger=l.toInt,l.toBool=l.toBoolean,l.decodeHTMLEntities=l.decodeHtmlEntities,a.extendPrototype=t,a.restorePrototype=n,a.VERSION=s,a.TMPL_OPEN="{{",a.TMPL_CLOSE="}}",a.ENTITIES=u,"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a:"function"==typeof define&&define.amd?define([],function(){return a}):window.S=a;var h={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},m={};for(var g in h)m[h[g]]=g;u={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,"OElig;":338,"oelig;":339,"Scaron;":352,"scaron;":353,"Yuml;":376,"fnof;":402,"circ;":710,"tilde;":732,"Alpha;":913,"Beta;":914,"Gamma;":915,"Delta;":916,"Epsilon;":917,"Zeta;":918,"Eta;":919,"Theta;":920,"Iota;":921,"Kappa;":922,"Lambda;":923,"Mu;":924,"Nu;":925,"Xi;":926,"Omicron;":927,"Pi;":928,"Rho;":929,"Sigma;":931,"Tau;":932,"Upsilon;":933,"Phi;":934,"Chi;":935,"Psi;":936,"Omega;":937,"alpha;":945,"beta;":946,"gamma;":947,"delta;":948,"epsilon;":949,"zeta;":950,"eta;":951,"theta;":952,"iota;":953,"kappa;":954,"lambda;":955,"mu;":956,"nu;":957,"xi;":958,"omicron;":959,"pi;":960,"rho;":961,"sigmaf;":962,"sigma;":963,"tau;":964,"upsilon;":965,"phi;":966,"chi;":967,"psi;":968,"omega;":969,"thetasym;":977,"upsih;":978,"piv;":982,"ensp;":8194,"emsp;":8195,"thinsp;":8201,"zwnj;":8204,"zwj;":8205,"lrm;":8206,"rlm;":8207,"ndash;":8211,"mdash;":8212,"lsquo;":8216,"rsquo;":8217,"sbquo;":8218,"ldquo;":8220,"rdquo;":8221,"bdquo;":8222,"dagger;":8224,"Dagger;":8225,"bull;":8226,"hellip;":8230,"permil;":8240,"prime;":8242,"Prime;":8243,"lsaquo;":8249,"rsaquo;":8250,"oline;":8254,"frasl;":8260,"euro;":8364,"image;":8465,"weierp;":8472,"real;":8476,"trade;":8482,"alefsym;":8501,"larr;":8592,"uarr;":8593,"rarr;":8594,"darr;":8595,"harr;":8596,"crarr;":8629,"lArr;":8656,"uArr;":8657,"rArr;":8658,"dArr;":8659,"hArr;":8660,"forall;":8704,"part;":8706,"exist;":8707,"empty;":8709,"nabla;":8711,"isin;":8712,"notin;":8713,"ni;":8715,"prod;":8719,"sum;":8721,"minus;":8722,"lowast;":8727,"radic;":8730,"prop;":8733,"infin;":8734,"ang;":8736,"and;":8743,"or;":8744,"cap;":8745,"cup;":8746,"int;":8747,"there4;":8756,"sim;":8764,"cong;":8773,"asymp;":8776,"ne;":8800,"equiv;":8801,"le;":8804,"ge;":8805,"sub;":8834,"sup;":8835,"nsub;":8836,"sube;":8838,"supe;":8839,"oplus;":8853,"otimes;":8855,"perp;":8869,"sdot;":8901,"lceil;":8968,"rceil;":8969,"lfloor;":8970,"rfloor;":8971,"lang;":9001,"rang;":9002,"loz;":9674,"spades;":9824,"clubs;":9827,"hearts;":9829,"diams;":9830}
}.call(this)}).call(this),function(){t=function(e,i){function s(e,t,a,u,d,p){!u&&a&&"$"===a.substring(0,1)&&(u=a,a=null);var f,h=!1,m=!1;a&&(d||("$push"===u||"$addToSet"===u||"$pop"===u?(n(e)&&"$each"in e?(e=e.$each,t+="[$each]"):a+=".0",d=!0):"$pull"===u&&(a+=".0",n(e)&&(m=!0),d=!0)),f=r(a),h=c.contains(i,f),t&&(l._affectedKeys[t]=a,l._genericAffectedKeys[t]=f,p&&l._positionsInsideArrays.push(t))),m||(c.isArray(e)&&!c.isEmpty(e)?(t&&l._parentPositions.push(t),c.each(e,function(e,n){s(e,t?t+"["+n+"]":n,a+"."+n,u,d,!0)})):(n(e)&&!h||!t)&&(t&&!c.isEmpty(e)&&(l._parentPositions.push(t),l._objectPositions.push(t)),c.each(e,function(n,r){void 0===n?delete e[r]:"$slice"!==r&&s(n,t?t+"["+r+"]":r,o(a,r),u,d,p)})))}function u(){l._affectedKeys={},l._genericAffectedKeys={},l._parentPositions=[],l._positionsInsideArrays=[],l._objectPositions=[],s(l._obj)}var l=this;l._obj=e,l._affectedKeys={},l._genericAffectedKeys={},l._parentPositions=[],l._positionsInsideArrays=[],l._objectPositions=[],s(l._obj),l.forEachNode=function(e,t){if("function"!=typeof e)throw new Error("filter requires a loop function");t=c.extend({endPointsOnly:!0},t);var n={};c.each(l._affectedKeys,function(r,o){t.endPointsOnly&&c.contains(l._parentPositions,o)||e.call({value:l.getValueForPosition(o),operator:a(o),position:o,key:r,genericKey:l._genericAffectedKeys[o],updateValue:function(e){n[o]=e},remove:function(){n[o]=void 0}})}),c.each(n,function(e,t){l.setValueForPosition(t,e)})},l.getValueForPosition=function(e){for(var t,r=e.split("["),o=l._obj,a=0,i=r.length;i>a;a++)if(t=r[a],"]"===t.slice(-1)&&(t=t.slice(0,-1)),o=o[t],!c.isArray(o)&&!n(o)&&i-1>a)return;return o},l.setValueForPosition=function(e,t){for(var r,o,a=e.split("["),i=l._obj,s=0,d=a.length;d>s;s++)if(o=a[s],"]"===o.slice(-1)&&(o=o.slice(0,-1)),s===d-1)i[o]=t,void 0===t&&delete i[o];else if(void 0===i[o]&&void 0!==t&&(r=a[s+1],r=parseInt(r,10),i[o]=isNaN(r)?{}:[]),i=i[o],!c.isArray(i)&&!n(i)&&d-1>s)return;u()},l.removeValueForPosition=function(e){l.setValueForPosition(e,void 0)},l.getKeyForPosition=function(e){return l._affectedKeys[e]},l.getGenericKeyForPosition=function(e){return l._genericAffectedKeys[e]},l.getInfoForKey=function(e){var t=l.getPositionForKey(e);if(t)return{value:l.getValueForPosition(t),operator:a(t)};for(var n,r,o=l.getPositionsForGenericKey(e+".$"),i=0,s=o.length;s>i;i++)if(n=o[i],r=l.getValueForPosition(n)||l.getValueForPosition(n.slice(0,n.lastIndexOf("["))))return{value:r,operator:a(n)}},l.getPositionForKey=function(e){for(var t in l._affectedKeys)if(l._affectedKeys.hasOwnProperty(t)&&l._affectedKeys[t]===e)return t},l.getPositionsForGenericKey=function(e){var t=[];for(var n in l._genericAffectedKeys)l._genericAffectedKeys.hasOwnProperty(n)&&l._genericAffectedKeys[n]===e&&t.push(n);return t},l.getValueForKey=function(e){var t=l.getPositionForKey(e);return t?l.getValueForPosition(t):void 0},l.addKey=function(e,n,r){var o=r?r+"["+e+"]":t._keyToPosition(e);l.setValueForPosition(o,n)},l.removeGenericKeys=function(e){for(var t in l._genericAffectedKeys)l._genericAffectedKeys.hasOwnProperty(t)&&c.contains(e,l._genericAffectedKeys[t])&&l.removeValueForPosition(t)},l.removeGenericKey=function(e){for(var t in l._genericAffectedKeys)l._genericAffectedKeys.hasOwnProperty(t)&&l._genericAffectedKeys[t]===e&&l.removeValueForPosition(t)},l.removeKey=function(e){for(var t in l._affectedKeys)l._affectedKeys.hasOwnProperty(t)&&l._affectedKeys[t]===e&&l.removeValueForPosition(t)},l.removeKeys=function(e){for(var t=0,n=e.length;n>t;t++)l.removeKey(e[t])},l.filterGenericKeys=function(e){var t,n=[],r=[];for(var o in l._genericAffectedKeys)l._genericAffectedKeys.hasOwnProperty(o)&&(t=l._genericAffectedKeys[o],c.contains(n,t)||(n.push(t),t&&!e(t)&&r.push(t)));c.each(r,function(e){l.removeGenericKey(e)})},l.setValueForKey=function(e,t){for(var n in l._affectedKeys)l._affectedKeys.hasOwnProperty(n)&&l._affectedKeys[n]===e&&l.setValueForPosition(n,t)},l.setValueForGenericKey=function(e,t){for(var n in l._genericAffectedKeys)l._genericAffectedKeys.hasOwnProperty(n)&&l._genericAffectedKeys[n]===e&&l.setValueForPosition(n,t)},l.getObject=function(){return l._obj},l.getFlatObject=function(e){e=e||{};var t={};return c.each(l._affectedKeys,function(n,r){("string"==typeof n&&e.keepArrays===!0&&!c.contains(l._positionsInsideArrays,r)&&!c.contains(l._objectPositions,r)||!e.keepArrays&&!c.contains(l._parentPositions,r))&&(t[n]=l.getValueForPosition(r))}),t},l.affectsKey=function(e){return!!l.getPositionForKey(e)},l.affectsGenericKey=function(e){for(var t in l._genericAffectedKeys)if(l._genericAffectedKeys.hasOwnProperty(t)&&l._genericAffectedKeys[t]===e)return!0;return!1},l.affectsGenericKeyImplicit=function(e){for(var t in l._genericAffectedKeys)if(l._genericAffectedKeys.hasOwnProperty(t)){var n=l._genericAffectedKeys[t];if(n===e)return!0;if(n.substring(0,e.length+1)===e+".")return!0;var r=e.slice(-2);if(".$"===r&&e.slice(0,-2)===n)return!0}return!1}},t.expandKey=function(e,t,n){for(var r,o,a=t.split("["),i=n,s=0,u=a.length;u>s;s++)o=a[s],"]"===o.slice(-1)&&(o=o.slice(0,-1)),s===u-1?(i[o]=e,void 0===e&&delete i[o]):(r=a[s+1],r=parseInt(r,10),i[o]||(i[o]=isNaN(r)?{}:[])),i=i[o]},t._keyToPosition=function(e,t){var n="";return c.each(e.split("."),function(e,r){n+=0!==r||t?"["+e+"]":e}),n},t._positionToKey=function(e){var n=new t({});n.setValueForPosition(e,1);var r=n.getKeyForPosition(e);return n=null,r};var e=(c.isArray,function(e){return e===Object(e)});"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var n=function(t){return e(t)&&Object.getPrototypeOf(t)===Object.prototype},r=function(e){return"string"!=typeof e?null:e.replace(/\.[0-9]+\./g,".$.").replace(/\.[0-9]+/g,".$")},o=function(e,t){return"$each"===t?e:e?e+"."+t:t},a=function(e){var t=e.slice(0,e.indexOf("["));return"$"===t.substring(0,1)?t:null}}.call(this),function(){n={appendAffectedKey:function(e,t){return"$each"===t?e:e?e+"."+t:t},shouldCheck:function(e){if("$pushAll"===e)throw new Error("$pushAll is not supported; use $push + $each");return!c.contains(["$pull","$pullAll","$pop","$slice"],e)},errorObject:function(e,t,n){return{name:t,type:e,value:n}},isBasicObject:function(e){return c.isObject(e)&&Object.getPrototypeOf(e)===Object.prototype},safariBugFix:function(e){return"undefined"!=typeof Uint8Array&&e===Uint8Array||"undefined"!=typeof Uint16Array&&e===Uint16Array||"undefined"!=typeof Uint32Array&&e===Uint32Array||"undefined"!=typeof Uint8ClampedArray&&e===Uint8ClampedArray},isNotNullOrUndefined:function(e){return void 0!==e&&null!==e},extractOp:function(e){var t=e.slice(0,e.indexOf("["));return"$"===t.substring(0,1)?t:null},deleteIfPresent:function(e,t){t in e&&delete e[t]},looksLikeModifier:function(e){for(var t in e)if(e.hasOwnProperty(t)&&"$"===t.substring(0,1))return!0;return!1},dateToDateString:function(e){var t=e.getUTCMonth()+1;10>t&&(t="0"+t);var n=e.getUTCDate();return 10>n&&(n="0"+n),e.getUTCFullYear()+"-"+t+"-"+n}}}.call(this),function(){function o(e,t){s.startup(function(){u.autorun(function(){e.isValid()||console.log('SimpleSchema invalid keys for "'+t+'" context:',e.invalidKeys())})})}function a(e,r,o){function a(t){var n=this.key;if(!c.contains(u,n)){var a=n.lastIndexOf("."),i=-1===a?"":n.slice(0,a+1),s=!1,l=t.call(c.extend({isSet:void 0!==this.value,unset:function(){s=!0},value:this.value,operator:this.operator,field:function(t){var n=e.getInfoForKey(t)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator||null}},siblingField:function(t){var n=e.getInfoForKey(i+t)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator||null}}},o||{}),e.getObject());if(u.push(n),void 0===l)return void(s&&e.removeValueForPosition(this.position));var d,p;if(c.isObject(l))for(var f in l)if(l.hasOwnProperty(f)&&"$"===f.substring(0,1)){d=f,p=l[f];break}!d&&r&&"$"!==this.position.slice(0,1)&&(d="$set",p=l),d?(e.removeValueForPosition(this.position),e.setValueForPosition(d+"["+n+"]",p)):e.setValueForPosition(this.position,l)}}var i=this,u=[];s.isClient&&void 0===o.userId&&(o.userId=s.userId&&s.userId()||null),c.each(i._autoValues,function(o,i){var s,u,l,d;if(-1!==i.indexOf("$")){var p=i.slice(0,i.lastIndexOf("$")+1);l=i.slice(p.length+1),s=t._keyToPosition(l,!0),l="."+l,d=e.getPositionsForGenericKey(p)}else d=e.getPositionsForGenericKey(i),d.length?(u=i,l="",s=""):(u=i,l="",s="",d=r?["$set["+i+"]"]:[t._keyToPosition(i)]);c.each(d,function(r){a.call({key:(u||t._positionToKey(r))+l,value:e.getValueForPosition(r+s),operator:n.extractOp(r),position:r+s},o)})})}s.isServer&&(r=Npm.require("string")),s.isClient&&(r=window.S);var d={type:l.Any,label:l.Optional(l.OneOf(String,Function)),optional:l.Optional(l.OneOf(Boolean,Function)),min:l.Optional(l.OneOf(Number,Date,Function)),max:l.Optional(l.OneOf(Number,Date,Function)),minCount:l.Optional(l.OneOf(Number,Function)),maxCount:l.Optional(l.OneOf(Number,Function)),allowedValues:l.Optional(l.OneOf([l.Any],Function)),decimal:l.Optional(Boolean),regEx:l.Optional(l.OneOf(RegExp,[RegExp])),custom:l.Optional(Function),blackbox:l.Optional(Boolean),autoValue:l.Optional(Function),defaultValue:l.Optional(l.Any)};e=function(e,t){var n,r=this,o=[],a=[],i=[],s=[],p=[];t=t||{},e=e||{},c.isArray(e)||(e=[e]),r._schema=v(e),r._schemaKeys=[],r._autoValues={},r._blackboxKeys=[],r._validators=[],r._messages={},r._depsMessages=new u.Dependency,r._depsLabels={},c.each(r._schema,function(e,t){if(!l.test(e,d))throw new Error("Invalid definition for "+t+" field.");if(n=t.split(".")[0],r._schemaKeys.push(t),"defaultValue"in e)if("autoValue"in e)console.warn('SimpleSchema: Found both autoValue and defaultValue options for "'+t+'". Ignoring defaultValue.');else{if(".$"===t.slice(-2))throw new Error('An array item field (one that ends with ".$") cannot have defaultValue.');r._autoValues[t]=function(e){return function(){return null!==this.operator||this.isSet?void 0:e}}(e.defaultValue)}if("autoValue"in e){if(".$"===t.slice(-2))throw new Error('An array item field (one that ends with ".$") cannot have autoValue.');r._autoValues[t]=e.autoValue}r._depsLabels[t]=new u.Dependency,e.blackbox===!0&&r._blackboxKeys.push(t),c.contains(o,n)||(o.push(n),e.optional||i.push(n),e.custom&&p.push(n)),e.optional||a.push(t),e.custom&&s.push(t)}),r._firstLevelSchemaKeys=o,r._requiredSchemaKeys=a,r._firstLevelRequiredSchemaKeys=i,r._requiredObjectKeys=w(r._schema,a),r._customSchemaKeys=s,r._firstLevelCustomSchemaKeys=p,r._customObjectKeys=w(r._schema,s),r._validationContexts={}},e.extendOptions=function(e){c.extend(d,e)};var p="(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z](?:[a-z-]*[a-z])?",f="(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?(?:\\.|$))+",h="(?:(?:[0-1]?\\d{1,2}|2[0-4]\\d|25[0-5])(?:\\.|$)){4}",m="(?:(?:[\\dA-Fa-f]{1,4}(?::|$)){8}|(?=(?:[^:\\s]|:[^:\\s])*::(?:[^:\\s]|:[^:\\s])*$)[\\dA-Fa-f]{0,4}(?:::?(?:[\\dA-Fa-f]{1,4}|$)){1,6})",g="(?:"+[f,h,m].join("|")+")";e.RegEx={Email:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Domain:new RegExp("^"+p+"$"),WeakDomain:new RegExp("^"+g+"$"),IP:new RegExp("^(?:"+h+"|"+m+")$"),IPv4:new RegExp("^"+h+"$"),IPv6:new RegExp("^"+m+"$"),Url:/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,Id:/^[23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz]{17}$/},e._makeGeneric=function(e){return"string"!=typeof e?null:e.replace(/\.[0-9]+\./g,".$.").replace(/\.[0-9]+/g,".$")},e._depsGlobalMessages=new u.Dependency,e.prototype=new l.Where,e.prototype.condition=function(e){var t,n,r=this;if(c.each(e,function(e,r){"$"===r.substring(0,1)?t=!0:n=!0}),t&&n)throw new l.Error("Object cannot contain modifier operators alongside other keys");if(!r.newContext().validate(e,{modifier:t,filter:!1,autoConvert:!1}))throw new l.Error("One or more properties do not match the schema.");return!0},e.prototype.namedContext=function(t){var n=this;return"string"!=typeof t&&(t="default"),n._validationContexts[t]||(n._validationContexts[t]=new i(n),e.debug&&s.isClient&&u.nonreactive(function(){o(n._validationContexts[t],t)})),n._validationContexts[t]},e._validators=[],e.addValidator=function(t){e._validators.push(t)},e.prototype.addValidator=e.prototype.validator=function(e){this._validators.push(e)},e.prototype.clean=function(n,r){var o=this;if(r=c.extend({filter:!0,autoConvert:!0,removeEmptyStrings:!0,getAutoValues:!0,isModifier:!1,extendAutoValueContext:{}},r||{}),"$pushAll"in n){console.warn("SimpleSchema.clean: $pushAll is deprecated; converting to $push with $each"),n.$push=n.$push||{};for(var i in n.$pushAll){n.$push[i]=n.$push[i]||{},n.$push[i].$each=n.$push[i].$each||[];for(var s=0,u=n.$pushAll[i].length;u>s;s++)n.$push[i].$each.push(n.$pushAll[i][s]);delete n.$pushAll}}var l=new t(n,o._blackboxKeys);return r.filter&&l.filterGenericKeys(function(t){var n=o.allowsKey(t);return!n&&e.debug&&console.info('SimpleSchema.clean: filtered out value that would have affected key "'+t+'", which is not allowed by the schema'),n}),(r.autoConvert||r.removeEmptyStrings)&&l.forEachNode(function(){if(this.genericKey){var t=o._schema[this.genericKey],n=this.value;if(t&&void 0!==n){var a=!1;if(r.autoConvert){var i=_(n,t.type);void 0!==i&&i!==n&&(e.debug&&console.info("SimpleSchema.clean: autoconverted value "+n+" from "+typeof n+" to "+typeof i+" for "+this.genericKey),this.updateValue(i),a=!0,!r.removeEmptyStrings||this.operator&&"$set"!==this.operator||"string"!=typeof i||i.length||this.remove())}if(!(!r.removeEmptyStrings||a||this.operator&&"$set"!==this.operator||"string"!=typeof n||n.length)&&(this.remove(),"$set"===this.operator)){var s=this.position.replace("$set","$unset");l.setValueForPosition(s,"")}}}},{endPointsOnly:!1}),r.getAutoValues&&a.call(o,l,r.isModifier,r.extendAutoValueContext),n},e.prototype.schema=function(t){var n=this;return null!=t?n._schema[e._makeGeneric(t)]:n._schema},e.prototype.getDefinition=function(e,t,n){var r=this,o=r.schema(e);return o?(o=c.isArray(t)?c.pick(o,t):c.clone(o),c.each(["min","max","minCount","maxCount","allowedValues","optional","label"],function(e){c.isFunction(o[e])&&(o[e]=o[e].call(n||{}))}),o.label=o.label||S(e),o):void 0},e.prototype.keyIsInBlackBox=function(t){var n,r,o=this,a=e._makeGeneric(t);do n=a.lastIndexOf("."),-1!==n&&(a=a.slice(0,n),r=o.getDefinition(a));while(-1!==n&&!r);return!(!r||!r.blackbox)},e.prototype.labels=function(e){var t=this;c.each(e,function(e,n){(c.isString(e)||c.isFunction(e))&&n in t._schema&&(t._schema[n].label=e,t._depsLabels[n]&&t._depsLabels[n].changed())})},e.prototype.label=function(e){var t=this;if(null==e){var n={};return c.each(t.schema(),function(e,r){n[r]=t.label(r)}),n}var r=t.getDefinition(e);return r?(t._depsLabels[e]&&t._depsLabels[e].depend(),r.label):null},e._globalMessages={required:"[label] is required",minString:"[label] must be at least [min] characters",maxString:"[label] cannot exceed [max] characters",minNumber:"[label] must be at least [min]",maxNumber:"[label] cannot exceed [max]",minDate:"[label] must be on or before [min]",maxDate:"[label] cannot be after [max]",minCount:"You must specify at least [minCount] values",maxCount:"You cannot specify more than [maxCount] values",noDecimal:"[label] must be an integer",notAllowed:"[value] is not an allowed value",expectedString:"[label] must be a string",expectedNumber:"[label] must be a number",expectedBoolean:"[label] must be a boolean",expectedArray:"[label] must be an array",expectedObject:"[label] must be an object",expectedConstructor:"[label] must be a [type]",regEx:[{msg:"[label] failed regular expression validation"},{exp:e.RegEx.Email,msg:"[label] must be a valid e-mail address"},{exp:e.RegEx.WeakEmail,msg:"[label] must be a valid e-mail address"},{exp:e.RegEx.Domain,msg:"[label] must be a valid domain"},{exp:e.RegEx.WeakDomain,msg:"[label] must be a valid domain"},{exp:e.RegEx.IP,msg:"[label] must be a valid IPv4 or IPv6 address"},{exp:e.RegEx.IPv4,msg:"[label] must be a valid IPv4 address"},{exp:e.RegEx.IPv6,msg:"[label] must be a valid IPv6 address"},{exp:e.RegEx.Url,msg:"[label] must be a valid URL"},{exp:e.RegEx.Id,msg:"[label] must be a valid alphanumeric ID"}],keyNotInSchema:"[label] is not allowed by the schema"},e.messages=function(t){c.extend(e._globalMessages,t),e._depsGlobalMessages.changed()},e.prototype.messages=function(e){var t=this;c.extend(t._messages,e),t._depsMessages.changed()},e.prototype.messageForError=function(t,r,o,a){function i(e){if("regEx"!==t||!c.isArray(e))return e;var n;return d&&(n=c.find(e,function(e){return e.exp&&e.exp.toString()===d})),n||(n=c.findWhere(e,{exp:null}),n||(n=c.findWhere(e,{exp:void 0}))),n?n.msg:null}var s=this;o=o||s.schema(r)||{};var u=t.indexOf("."),l=null;-1!==u&&(l=t.substring(u+1),l=parseInt(l,10),t=t.substring(0,u));var d;"regEx"===t&&(d=null==l||isNaN(l)?o.regEx:o.regEx[l],d&&(d=d.toString()));var p=t+" "+r,f=e._makeGeneric(r),h=t+" "+f;e._depsGlobalMessages.depend(),s._depsMessages.depend(),s._depsLabels[r]&&s._depsLabels[r].depend();var m=s._messages[p]||s._messages[h]||s._messages[t];if(m=i(m),m||(m=e._globalMessages[p]||e._globalMessages[h]||e._globalMessages[t],m=i(m)),!m)return"Unknown validation error";m=m.replace("[label]",s.label(r)),"undefined"!=typeof o.minCount&&(m=m.replace("[minCount]",o.minCount)),"undefined"!=typeof o.maxCount&&(m=m.replace("[maxCount]",o.maxCount)),void 0!==a&&null!==a&&(m=m.replace("[value]",a.toString()));var g=o.min,_=o.max;return"function"==typeof g&&(g=g()),"function"==typeof _&&(_=_()),o.type===Date||o.type===[Date]?("undefined"!=typeof g&&(m=m.replace("[min]",n.dateToDateString(g))),"undefined"!=typeof _&&(m=m.replace("[max]",n.dateToDateString(_)))):("undefined"!=typeof g&&(m=m.replace("[min]",g)),"undefined"!=typeof _&&(m=m.replace("[max]",_))),o.type instanceof Function&&(m=m.replace("[type]",o.type.name)),m},e.prototype.allowsKey=function(e){var t=this;return c.any(t._schemaKeys,function(n){if(n===e)return!0;if(t.schema(n).blackbox===!0){var r=n.length,o=e.slice(0,r+2),a=o.slice(0,-1);if(o===n+".$")return!1;if(a===n+".")return!0}return!1})},e.prototype.newContext=function(){return new i(this)},e.prototype.requiredObjectKeys=function(e){var t=this;return e?t._requiredObjectKeys[e+"."]||[]:t._firstLevelRequiredSchemaKeys},e.prototype.requiredSchemaKeys=function(){return this._requiredSchemaKeys},e.prototype.firstLevelSchemaKeys=function(){return this._firstLevelSchemaKeys},e.prototype.customObjectKeys=function(e){var t=this;return e?t._customObjectKeys[e+"."]||[]:t._firstLevelCustomSchemaKeys},e.prototype.customSchemaKeys=function(){return this._customSchemaKeys};var _=function(e,t){if(c.isArray(e)||c.isObject(e)&&!(e instanceof Date))return e;if(t===String)return"undefined"!=typeof e&&null!==e&&"string"!=typeof e?e.toString():e;if(t===Number){if("string"==typeof e&&!r(e).isEmpty()){var n=Number(e);return isNaN(n)?e:n}return e}return e},v=function(t){var n={};return c.each(t,function(t){t=l.test(t,e)?t._schema:k(y(t)),c.each(t,function(e,t){n[t]=n[t]||{},c.extend(n[t],e)})}),t.length&&b(n),n},y=function(t){return c.each(t,function(n,r){var o,a;if(n){if(l.test(n.type,e))o=".",a=n.type,n.type=Object;else{if(!l.test(n.type,[e]))return;o=".$.",a=n.type[0],n.type=[Object]}c.each(a._schema,function(e,n){var a=r+o+n;a in t||(t[a]=e)})}}),t},b=function(e){c.each(e,function(t,r){if(c.isArray(t.type)||t.type===Array){var o=r+".$";o in e||(e[o]={}),c.isArray(t.type)&&(e[o].type=t.type[0]),t.label&&(e[o].label=t.label),e[o].optional=!0,"undefined"!=typeof t.min&&(e[o].min=t.min),"undefined"!=typeof t.max&&(e[o].max=t.max),"undefined"!=typeof t.allowedValues&&(e[o].allowedValues=t.allowedValues),"undefined"!=typeof t.decimal&&(e[o].decimal=t.decimal),"undefined"!=typeof t.regEx&&(e[o].regEx=t.regEx),t.type=Array,c.each(["min","max","allowedValues","decimal","regEx"],function(e){n.deleteIfPresent(t,e)})}})},k=function(e){var t,n,r=[],o=[];c.each(e,function(e,n){for(var a=n.indexOf(".");-1!==a;)t=n.substring(0,a),".$"===t.substring(t.length-2)?a=-1:".$."===n.substring(a,a+3)?(r.push(t),a=n.indexOf(".",a+3)):(o.push(t),a=n.indexOf(".",a+1))});for(var a=0,i=r.length;i>a;a++)n=r[a],n in e||(e[n]={type:[Object],optional:!0});for(var a=0,i=o.length;i>a;a++)n=o[a],n in e||(e[n]={type:Object,optional:!0});return b(e),e},w=function(e,t){var n,o,a,i={};return c.each(e,function(e,s){e.type===Object&&(n=s+".",a=[],c.each(t,function(e){r(e).startsWith(n)&&(o=e.substring(n.length),-1===o.indexOf(".")&&a.push(o))}),i[n]=a)}),i},S=function(e){var t=e,n=t.lastIndexOf(".");if(-1!==n&&(t=t.substring(n+1),"$"===t)){var o=e.split(".");t=o[o.length-2]}return"_id"===t?"ID":r(t).humanize().s}}.call(this),function(){function r(e,t,r){var o=e.type;if(o===String){if("string"!=typeof t)return"expectedString";if(null!==e.max&&e.max<t.length)return"maxString";if(null!==e.min&&e.min>t.length)return"minString";if(e.regEx instanceof RegExp&&!e.regEx.test(t))return"regEx";if(c.isArray(e.regEx)){var a;if(c.every(e.regEx,function(e,n){return e.test(t)?!0:(a="regEx."+n,!1)}),a)return a}}else if(o===Number){if("number"!=typeof t||isNaN(t))return"expectedNumber";if("$inc"!==r&&null!==e.max&&e.max<t)return"maxNumber";if("$inc"!==r&&null!==e.min&&e.min>t)return"minNumber";if(!e.decimal&&t.toString().indexOf(".")>-1)return"noDecimal"}else if(o===Boolean){if("boolean"!=typeof t)return"expectedBoolean"}else if(o===Object){if(!n.isBasicObject(t))return"expectedObject"}else if(o===Array){if(!c.isArray(t))return"expectedArray";if(null!==e.minCount&&t.length<e.minCount)return"minCount";if(null!==e.maxCount&&t.length>e.maxCount)return"maxCount"}else if(o instanceof Function||n.safariBugFix(o)){if(!(t instanceof o))return"expectedConstructor";if(o===Date){if(c.isDate(e.min)&&e.min.getTime()>t.getTime())return"minDate";if(c.isDate(e.max)&&e.max.getTime()<t.getTime())return"maxDate"}}}o=function(o,a,i,s,u,l){function d(a,i,s,d,p,f,g,_){if(!d)return void m.push(n.errorObject("keyNotInSchema",i,a,d,u));if(!f&&!d.optional&&(null===a||"$unset"===p||"$rename"===p||void 0===a&&(g||_||!p||"$set"===p)))return void m.push(n.errorObject("required",i,null,d,u));if("$rename"===p&&"string"==typeof a&&!u.allowsKey(a))return void m.push(n.errorObject("keyNotInSchema",a,null,null,u));if(!c.contains(["$unset","$rename"],p)){if(n.isNotNullOrUndefined(a)){var v=r(d,a,p);if(v)return void m.push(n.errorObject(v,i,a,d,u));if(d.allowedValues&&!c.contains(d.allowedValues,a))return void m.push(n.errorObject("notAllowed",i,a,d,u))}var y=i.lastIndexOf("."),b=-1===y?"":i.slice(0,y+1),k=d.custom?[d.custom]:[];k=k.concat(u._validators).concat(e._validators),c.every(k,function(e){var r=e.call(c.extend({key:i,genericKey:s,definition:d,isSet:void 0!==a,value:a,operator:p,field:function(e){h=h||new t(o,u._blackboxKeys);var n=h.getInfoForKey(e)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator}},siblingField:function(e){h=h||new t(o,u._blackboxKeys);var n=h.getInfoForKey(b+e)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator}}},l||{}));return"string"==typeof r?(m.push(n.errorObject(r,i,a,d,u)),!1):!0})}}function p(t,r,o,a,i,l){var f,h;if(r){if(u.keyIsInBlackBox(r))return;if(f=e._makeGeneric(r),h=u.getDefinition(r),!s||s===r||s===f){var m=c.some(a,function(e){return e.slice(0,r.length+1)===r+"."});d(t,r,f,h,o,m,i,l)}}if(void 0!==t&&null!==t||h&&(h.type!==Object||h.optional)||(t={}),c.isArray(t))c.each(t,function(e,t){p(e,r+"."+t,o,a)});else if(n.isBasicObject(t)&&(!h||!h.blackbox)){var g,_,v;g=c.keys(t),_=u.requiredObjectKeys(f),v=u.customObjectKeys(f);var y=c.union(g,_||[],v||[]),i=f&&".$"===f.slice(-2);c.each(y,function(e){p(t[e],n.appendAffectedKey(r,e),o,a,i,!0)})}}function f(e){if(c.isEmpty(e))throw new Error("When the modifier option is true, validation object must have at least one operator");var t=c.keys(e.$set||{}).concat(c.keys(e.$setOnInsert||{}));"$setOnInsert"in e&&(i&&(e.$set=e.$set||{},e.$set=c.extend(e.$set,e.$setOnInsert)),delete e.$setOnInsert),c.each(e,function(e,r){if("$"!==r.slice(0,1))throw new Error("When the modifier option is true, all validation object keys must be operators. Did you forget `$set`?");if(n.shouldCheck(r)){if(i&&"$set"===r){var o={},a=c.union(u.requiredObjectKeys(),u.customObjectKeys());c.each(a,function(e){o[e]=null}),e=c.extend({},o,e)}c.each(e,function(e,o){("$push"===r||"$addToSet"===r)&&(n.isBasicObject(e)&&"$each"in e?e=e.$each:o+=".0"),p(e,o,r,t)})}})}if(!c.isObject(o))throw new Error("The first argument of validate() or validateOne() must be an object");if(!a&&n.looksLikeModifier(o))throw new Error("When the validation object contains mongo operators, you must set the modifier option to true");var h,m=[];a?f(o):p(o);var g=[];return m=c.filter(m,function(e){return c.contains(g,e.name)?!1:(g.push(e.name),!0)})}}.call(this),function(){function r(e,n,r){var o,a=new s.Collection(null);if(r)o=d.id(),a.upsert({_id:o},e);else{var i=new t(e),u=new t({});c.each(n,function(e,n){var r;if(e.type===Array&&i.affectsGenericKey(n)?r=[]:e.optional||(r=e.type===Boolean?!0:e.type===Number?e.min||0:e.type===Date?e.min||new Date:e.type===Array?[]:e.type===Object?{}:"0"),void 0!==r){var o=n.replace(/\.\$/g,".0"),a=t._keyToPosition(o,!1);u.setValueForPosition(a,r)}}),u=u.getObject(),o=a.insert(u),a.update(o,e)}var l=a.findOne(o);return a.remove(o),n._id||delete l._id,l}function o(e,t,r){var o=e.type;if(o===String){if("string"!=typeof t)return"expectedString";if(null!==e.max&&e.max<t.length)return"maxString";if(null!==e.min&&e.min>t.length)return"minString";if(e.regEx instanceof RegExp&&!e.regEx.test(t))return"regEx";if(c.isArray(e.regEx)){var a;if(c.every(e.regEx,function(e,n){return e.test(t)?!0:(a="regEx."+n,!1)}),a)return a}}else if(o===Number){if("number"!=typeof t||isNaN(t))return"expectedNumber";if("$inc"!==r&&null!==e.max&&e.max<t)return"maxNumber";if("$inc"!==r&&null!==e.min&&e.min>t)return"minNumber";if(!e.decimal&&t.toString().indexOf(".")>-1)return"noDecimal"}else if(o===Boolean){if("boolean"!=typeof t)return"expectedBoolean"}else if(o===Object){if(!n.isBasicObject(t))return"expectedObject"}else if(o===Array){if(!c.isArray(t))return"expectedArray";if(null!==e.minCount&&t.length<e.minCount)return"minCount";if(null!==e.maxCount&&t.length>e.maxCount)return"maxCount"}else if(o instanceof Function||n.safariBugFix(o)){if(!(t instanceof o))return"expectedConstructor";if(o===Date){if(c.isDate(e.min)&&e.min.getTime()>t.getTime())return"minDate";if(c.isDate(e.max)&&e.max.getTime()<t.getTime())return"maxDate"}}}a=function(a,i,s,u,l,d){function p(r,i,s,u,p,f){if(!u)return void g.push(n.errorObject("keyNotInSchema",i,r,u,l));if(!(f||u.optional||null!==r&&void 0!==r))return void g.push(n.errorObject("required",i,null,u,l));if(n.isNotNullOrUndefined(r)){var h=o(u,r,p);if(h)return void g.push(n.errorObject(h,i,r,u,l));if(u.allowedValues&&!c.contains(u.allowedValues,r))return void g.push(n.errorObject("notAllowed",i,r,u,l))}var _=i.lastIndexOf("."),v=-1===_?"":i.slice(0,_+1),y=u.custom?[u.custom]:[];y=y.concat(l._validators).concat(e._validators),c.every(y,function(e){var o=e.call(c.extend({key:i,genericKey:s,definition:u,isSet:void 0!==r,value:r,operator:p,field:function(e){m=m||new t(a,l._blackboxKeys);var n=m.getInfoForKey(e)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator}},siblingField:function(e){m=m||new t(a,l._blackboxKeys);var n=m.getInfoForKey(v+e)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator}}},d||{}));return"string"==typeof o?(g.push(n.errorObject(o,i,r,u,l)),!1):!0})}function f(t,r,o,a){var i,s;if(r){if(l.keyIsInBlackBox(r))return;i=e._makeGeneric(r),s=l.getDefinition(r),u&&u!==r&&u!==i||p(t,r,i,s,null,o,a)}if(void 0!==t&&null!==t||s&&(s.type!==Object||s.optional)||(t={}),c.isArray(t))c.each(t,function(e,t){f(e,r+"."+t)});else if(n.isBasicObject(t)&&(!s||!s.blackbox)){var d,h,m;d=c.keys(t),h=l.requiredObjectKeys(i),m=l.customObjectKeys(i);var g=c.union(d,h||[],m||[]),a=i&&".$"===i.slice(-2);c.each(g,function(e){n.shouldCheck(e)&&f(t[e],n.appendAffectedKey(r,e),o,a)})}}if(!c.isObject(a))throw new Error("The first argument of validate() or validateOne() must be an object");if(i){if(c.isEmpty(a))throw new Error("When the modifier option is true, validation object must have at least one operator");var h=c.every(a,function(e,t){return"$"===t.substring(0,1)});if(!h)throw new Error("When the modifier option is true, all validation object keys must be operators");a=r(a,l.schema(),s)}else if(n.looksLikeModifier(a))throw new Error("When the validation object contains mongo operators, you must set the modifier option to true");var m,g=[];f(a);var _=[];return g=c.filter(g,function(e){return c.contains(_,e.name)?!1:(_.push(e.name),!0)})}}.call(this),function(){function t(e,t,n,r,i,s){var u=!0,c=u?o:a;return c(e,t,n,r,i,s)}i=function(e){var t=this;t._simpleSchema=e,t._schema=e.schema(),t._schemaKeys=c.keys(t._schema),t._invalidKeys=[],t._deps={},t._depsAny=new u.Dependency,c.each(t._schemaKeys,function(e){t._deps[e]=new u.Dependency})},i.prototype.validate=function(e,n){var r=this;n=c.extend({modifier:!1,upsert:!1,extendedCustomContext:{}},n||{}),s.isClient&&void 0===n.extendedCustomContext.userId&&(n.extendedCustomContext.userId=s.userId&&s.userId()||null);var o=t(e,n.modifier,n.upsert,null,r._simpleSchema,n.extendedCustomContext),a=c.pluck(r._invalidKeys,"name");r._invalidKeys=o;var i=c.pluck(r._invalidKeys,"name"),u=c.union(i,a);return r._markKeysChanged(u),0===r._invalidKeys.length},i.prototype.validateOne=function(e,n,r){var o=this;r=c.extend({modifier:!1,upsert:!1,extendedCustomContext:{}},r||{}),s.isClient&&void 0===r.extendedCustomContext.userId&&(r.extendedCustomContext.userId=s.userId&&s.userId()||null);for(var a,i=t(e,r.modifier,r.upsert,n,o._simpleSchema,r.extendedCustomContext),u=[],l=0,d=o._invalidKeys.length;d>l;l++)a=o._invalidKeys[l],a.name!==n&&u.push(a);o._invalidKeys=u;for(var a,l=0,d=i.length;d>l;l++)a=i[l],o._invalidKeys.push(a);return o._markKeysChanged([n]),!o._keyIsInvalid(n)},i.prototype.resetValidation=function(){var e=this,t=c.pluck(e._invalidKeys,"name");e._invalidKeys=[],e._markKeysChanged(t)},i.prototype.isValid=function(){var e=this;return e._depsAny.depend(),!e._invalidKeys.length},i.prototype.invalidKeys=function(){var e=this;return e._depsAny.depend(),e._invalidKeys},i.prototype.addInvalidKeys=function(e){var t=this;if(e&&e.length){var n=[];c.each(e,function(e){n.push(e.name),t._invalidKeys.push(e)}),t._markKeysChanged(n)}},i.prototype._markKeysChanged=function(t){var n=this;t&&t.length&&(c.each(t,function(t){var r=e._makeGeneric(t);r in n._deps&&n._deps[r].changed()}),n._depsAny.changed())},i.prototype._keyIsInvalid=function(t,n){var r=this;n=n||e._makeGeneric(t);var o=!!c.findWhere(r._invalidKeys,{name:t}),a=n!==t?!!c.findWhere(r._invalidKeys,{name:n}):!1;return o||a},i.prototype.keyIsInvalid=function(t){var n=this,r=e._makeGeneric(t);return n._deps[r].depend(),n._keyIsInvalid(t,r)},i.prototype.keyErrorMessage=function(t){var n=this,r=e._makeGeneric(t),o=n._simpleSchema;n._deps[r].depend();var a=c.findWhere(n._invalidKeys,{name:t});if(!a&&(a=c.findWhere(n._invalidKeys,{name:r}),!a))return"";var i=o.schema(r);return i?o.messageForError(a.type,a.name,i,a.value):""}}.call(this),"undefined"==typeof Package&&(Package={}),Package["simple-schema"]={SimpleSchema:e,MongoObject:t}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.handlebars={}}(),function(){{var e;Package.meteor.Meteor}(function(){(function(e){function t(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}
}function n(e,t){function n(){ut.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}var r=!0;return u(function(){return r&&(n(),r=!1),t.apply(this,arguments)},t)}function r(e,t){return function(n){return d(e.call(this,n),t)}}function o(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function a(){}function i(e){T(e),u(this,e)}function s(e){var t=_(e),n=t.year||0,r=t.quarter||0,o=t.month||0,a=t.week||0,i=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*c+6e4*u+36e5*s,this._days=+i+7*a,this._months=+o+3*r+12*n,this._data={},this._bubble()}function u(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function c(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&wt.hasOwnProperty(t)&&(n[t]=e[t]);return n}function l(e){return 0>e?Math.ceil(e):Math.floor(e)}function d(e,t,n){for(var r=""+Math.abs(e),o=e>=0;r.length<t;)r="0"+r;return(o?n?"+":"":"-")+r}function p(e,t,n,r){var o=t._milliseconds,a=t._days,i=t._months;r=null==r?!0:r,o&&e._d.setTime(+e._d+o*n),a&&rt(e,"Date",nt(e,"Date")+a*n),i&&tt(e,nt(e,"Month")+i*n),r&&ut.updateOffset(e,a||i)}function f(e){return"[object Array]"===Object.prototype.toString.call(e)}function h(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function m(e,t,n){var r,o=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0;for(r=0;o>r;r++)(n&&e[r]!==t[r]||!n&&y(e[r])!==y(t[r]))&&i++;return i+a}function g(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Qt[e]||Xt[t]||t}return e}function _(e){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=g(n),t&&(r[t]=e[n]));return r}function v(t){var n,r;if(0===t.indexOf("week"))n=7,r="day";else{if(0!==t.indexOf("month"))return;n=12,r="month"}ut[t]=function(o,a){var i,s,u=ut.fn._lang[t],c=[];if("number"==typeof o&&(a=o,o=e),s=function(e){var t=ut().utc().set(r,e);return u.call(ut.fn._lang,t,o||"")},null!=a)return s(a);for(i=0;n>i;i++)c.push(s(i));return c}}function y(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function b(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function k(e,t,n){return X(ut([e,11,31+t-n]),t,n).week}function w(e){return S(e)?366:365}function S(e){return e%4===0&&e%100!==0||e%400===0}function T(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[mt]<0||e._a[mt]>11?mt:e._a[gt]<1||e._a[gt]>b(e._a[ht],e._a[mt])?gt:e._a[_t]<0||e._a[_t]>23?_t:e._a[vt]<0||e._a[vt]>59?vt:e._a[yt]<0||e._a[yt]>59?yt:e._a[bt]<0||e._a[bt]>999?bt:-1,e._pf._overflowDayOfYear&&(ht>t||t>gt)&&(t=gt),e._pf.overflow=t)}function M(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function L(e){return e?e.toLowerCase().replace("_","-"):e}function D(e,t){return t._isUTC?ut(e).zone(t._offset||0):ut(e).local()}function P(e,t){return t.abbr=e,kt[e]||(kt[e]=new a),kt[e].set(t),kt[e]}function C(e){delete kt[e]}function E(e){var t,n,r,o,a=0,i=function(e){if(!kt[e]&&St)try{require("./lang/"+e)}catch(t){}return kt[e]};if(!e)return ut.fn._lang;if(!f(e)){if(n=i(e))return n;e=[e]}for(;a<e.length;){for(o=L(e[a]).split("-"),t=o.length,r=L(e[a+1]),r=r?r.split("-"):null;t>0;){if(n=i(o.slice(0,t).join("-")))return n;if(r&&r.length>=t&&m(o,r,!0)>=t-1)break;t--}a++}return ut.fn._lang}function x(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function I(e){var t,n,r=e.match(Dt);for(t=0,n=r.length;n>t;t++)r[t]=nn[r[t]]?nn[r[t]]:x(r[t]);return function(o){var a="";for(t=0;n>t;t++)a+=r[t]instanceof Function?r[t].call(o,e):r[t];return a}}function A(e,t){return e.isValid()?(t=O(t,e.lang()),Zt[t]||(Zt[t]=I(t)),Zt[t](e)):e.lang().invalidDate()}function O(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Pt.lastIndex=0;r>=0&&Pt.test(e);)e=e.replace(Pt,n),Pt.lastIndex=0,r-=1;return e}function N(e,t){var n,r=t._strict;switch(e){case"Q":return Vt;case"DDDD":return Rt;case"YYYY":case"GGGG":case"gggg":return r?Ut:xt;case"Y":case"G":case"g":return zt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?jt:It;case"S":if(r)return Vt;case"SS":if(r)return Bt;case"SSS":if(r)return Rt;case"DDD":return Et;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ot;case"a":case"A":return E(t._l)._meridiemParse;case"X":return Ft;case"Z":case"ZZ":return Nt;case"T":return Yt;case"SSSS":return At;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?Bt:Ct;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ct;case"Do":return Ht;default:return n=new RegExp(j(U(e.replace("\\","")),"i"))}}function Y(e){e=e||"";var t=e.match(Nt)||[],n=t[t.length-1]||[],r=(n+"").match(Kt)||["-",0,0],o=+(60*r[1])+y(r[2]);return"+"===r[0]?-o:o}function F(e,t,n){var r,o=n._a;switch(e){case"Q":null!=t&&(o[mt]=3*(y(t)-1));break;case"M":case"MM":null!=t&&(o[mt]=y(t)-1);break;case"MMM":case"MMMM":r=E(n._l).monthsParse(t),null!=r?o[mt]=r:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(o[gt]=y(t));break;case"Do":null!=t&&(o[gt]=y(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=y(t));break;case"YY":o[ht]=ut.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":o[ht]=y(t);break;case"a":case"A":n._isPm=E(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":o[_t]=y(t);break;case"m":case"mm":o[vt]=y(t);break;case"s":case"ss":o[yt]=y(t);break;case"S":case"SS":case"SSS":case"SSSS":o[bt]=y(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=Y(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function H(e){var t,n,r,o,a,i,s,u,c,l,d=[];if(!e._d){for(r=B(e),e._w&&null==e._a[gt]&&null==e._a[mt]&&(a=function(t){var n=parseInt(t,10);return t?t.length<3?n>68?1900+n:2e3+n:n:null==e._a[ht]?ut().weekYear():e._a[ht]},i=e._w,null!=i.GG||null!=i.W||null!=i.E?s=Z(a(i.GG),i.W||1,i.E,4,1):(u=E(e._l),c=null!=i.d?K(i.d,u):null!=i.e?parseInt(i.e,10)+u._week.dow:0,l=parseInt(i.w,10)||1,null!=i.d&&c<u._week.dow&&l++,s=Z(a(i.gg),l,c,u._week.doy,u._week.dow)),e._a[ht]=s.year,e._dayOfYear=s.dayOfYear),e._dayOfYear&&(o=null==e._a[ht]?r[ht]:e._a[ht],e._dayOfYear>w(o)&&(e._pf._overflowDayOfYear=!0),n=G(o,0,e._dayOfYear),e._a[mt]=n.getUTCMonth(),e._a[gt]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=d[t]=r[t];for(;7>t;t++)e._a[t]=d[t]=null==e._a[t]?2===t?1:0:e._a[t];d[_t]+=y((e._tzm||0)/60),d[vt]+=y((e._tzm||0)%60),e._d=(e._useUTC?G:W).apply(null,d)}}function V(e){var t;e._d||(t=_(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],H(e))}function B(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function R(e){e._a=[],e._pf.empty=!0;var t,n,r,o,a,i=E(e._l),s=""+e._i,u=s.length,c=0;for(r=O(e._f,i).match(Dt)||[],t=0;t<r.length;t++)o=r[t],n=(s.match(N(o,e))||[])[0],n&&(a=s.substr(0,s.indexOf(n)),a.length>0&&e._pf.unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),c+=n.length),nn[o]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(o),F(o,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=u-c,s.length>0&&e._pf.unusedInput.push(s),e._isPm&&e._a[_t]<12&&(e._a[_t]+=12),e._isPm===!1&&12===e._a[_t]&&(e._a[_t]=0),H(e),T(e)}function U(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,o){return t||n||r||o})}function j(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function z(e){var n,r,o,a,i;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(a=0;a<e._f.length;a++)i=0,n=u({},e),n._pf=t(),n._f=e._f[a],R(n),M(n)&&(i+=n._pf.charsLeftOver,i+=10*n._pf.unusedTokens.length,n._pf.score=i,(null==o||o>i)&&(o=i,r=n));u(e,r||n)}function $(e){var t,n,r=e._i,o=$t.exec(r);if(o){for(e._pf.iso=!0,t=0,n=Wt.length;n>t;t++)if(Wt[t][1].exec(r)){e._f=Wt[t][0]+(o[6]||" ");break}for(t=0,n=Gt.length;n>t;t++)if(Gt[t][1].exec(r)){e._f+=Gt[t][0];break}r.match(Nt)&&(e._f+="Z"),R(e)}else ut.createFromInputFallback(e)}function q(t){var n=t._i,r=Tt.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):"string"==typeof n?$(t):f(n)?(t._a=n.slice(0),H(t)):h(n)?t._d=new Date(+n):"object"==typeof n?V(t):"number"==typeof n?t._d=new Date(n):ut.createFromInputFallback(t)}function W(e,t,n,r,o,a,i){var s=new Date(e,t,n,r,o,a,i);return 1970>e&&s.setFullYear(e),s}function G(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function K(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function J(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function Q(e,t,n){var r=ft(Math.abs(e)/1e3),o=ft(r/60),a=ft(o/60),i=ft(a/24),s=ft(i/365),u=45>r&&["s",r]||1===o&&["m"]||45>o&&["mm",o]||1===a&&["h"]||22>a&&["hh",a]||1===i&&["d"]||25>=i&&["dd",i]||45>=i&&["M"]||345>i&&["MM",ft(i/30)]||1===s&&["y"]||["yy",s];return u[2]=t,u[3]=e>0,u[4]=n,J.apply({},u)}function X(e,t,n){var r,o=n-t,a=n-e.day();return a>o&&(a-=7),o-7>a&&(a+=7),r=ut(e).add("d",a),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function Z(e,t,n,r,o){var a,i,s=G(e,0,1).getUTCDay();return n=null!=n?n:o,a=o-s+(s>r?7:0)-(o>s?7:0),i=7*(t-1)+(n-o)+a+1,{year:i>0?e:e-1,dayOfYear:i>0?i:w(e-1)+i}}function et(t){var n=t._i,r=t._f;return null===n||r===e&&""===n?ut.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=E().preparse(n)),ut.isMoment(n)?(t=c(n),t._d=new Date(+n._d)):r?f(r)?z(t):R(t):q(t),new i(t))}function tt(e,t){var n;return"string"==typeof t&&(t=e.lang().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),b(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function nt(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function rt(e,t,n){return"Month"===t?tt(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function ot(e,t){return function(n){return null!=n?(rt(this,e,n),ut.updateOffset(this,t),this):nt(this,e)}}function at(e){ut.duration.fn[e]=function(){return this._data[e]}}function it(e,t){ut.duration.fn["as"+e]=function(){return+this/t}}function st(e){"undefined"==typeof ender&&(ct=pt.moment,pt.moment=e?n("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ut):ut)}for(var ut,ct,lt,dt="2.6.0",pt="undefined"!=typeof global?global:this,ft=Math.round,ht=0,mt=1,gt=2,_t=3,vt=4,yt=5,bt=6,kt={},wt={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},St="undefined"!=typeof module&&module.exports,Tt=/^\/?Date\((\-?\d+)/i,Mt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Lt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Dt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Pt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Ct=/\d\d?/,Et=/\d{1,3}/,xt=/\d{1,4}/,It=/[+\-]?\d{1,6}/,At=/\d+/,Ot=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Nt=/Z|[\+\-]\d\d:?\d\d/gi,Yt=/T/i,Ft=/[\+\-]?\d+(\.\d{1,3})?/,Ht=/\d{1,2}/,Vt=/\d/,Bt=/\d\d/,Rt=/\d{3}/,Ut=/\d{4}/,jt=/[+-]?\d{6}/,zt=/[+-]?\d+/,$t=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qt="YYYY-MM-DDTHH:mm:ssZ",Wt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Gt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Kt=/([\+\-]|\d\d)/gi,Jt=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),Qt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Xt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Zt={},en="DDD w W M D d".split(" "),tn="M D H h m s w W".split(" "),nn={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return d(this.year()%100,2)},YYYY:function(){return d(this.year(),4)},YYYYY:function(){return d(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+d(Math.abs(e),6)},gg:function(){return d(this.weekYear()%100,2)},gggg:function(){return d(this.weekYear(),4)},ggggg:function(){return d(this.weekYear(),5)},GG:function(){return d(this.isoWeekYear()%100,2)},GGGG:function(){return d(this.isoWeekYear(),4)},GGGGG:function(){return d(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return y(this.milliseconds()/100)},SS:function(){return d(y(this.milliseconds()/10),2)},SSS:function(){return d(this.milliseconds(),3)},SSSS:function(){return d(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+d(y(e/60),2)+":"+d(y(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+d(y(e/60),2)+d(y(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},rn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];en.length;)lt=en.pop(),nn[lt+"o"]=o(nn[lt],lt);for(;tn.length;)lt=tn.pop(),nn[lt+lt]=r(nn[lt],2);for(nn.DDDD=r(nn.DDD,3),u(a.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=ut.utc([2e3,t]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(r.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=ut([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var o=this._relativeTime[n];return"function"==typeof o?o(e,t,n,r):o.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return X(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ut=function(n,r,o,a){var i;return"boolean"==typeof o&&(a=o,o=e),i={},i._isAMomentObject=!0,i._i=n,i._f=r,i._l=o,i._strict=a,i._isUTC=!1,i._pf=t(),et(i)},ut.suppressDeprecationWarnings=!1,ut.createFromInputFallback=n("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),ut.utc=function(n,r,o,a){var i;return"boolean"==typeof o&&(a=o,o=e),i={},i._isAMomentObject=!0,i._useUTC=!0,i._isUTC=!0,i._l=o,i._i=n,i._f=r,i._strict=a,i._pf=t(),et(i).utc()},ut.unix=function(e){return ut(1e3*e)},ut.duration=function(e,t){var n,r,o,a=e,i=null;return ut.isDuration(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(i=Mt.exec(e))?(n="-"===i[1]?-1:1,a={y:0,d:y(i[gt])*n,h:y(i[_t])*n,m:y(i[vt])*n,s:y(i[yt])*n,ms:y(i[bt])*n}):(i=Lt.exec(e))&&(n="-"===i[1]?-1:1,o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},a={y:o(i[2]),M:o(i[3]),d:o(i[4]),h:o(i[5]),m:o(i[6]),s:o(i[7]),w:o(i[8])}),r=new s(a),ut.isDuration(e)&&e.hasOwnProperty("_lang")&&(r._lang=e._lang),r},ut.version=dt,ut.defaultFormat=qt,ut.momentProperties=wt,ut.updateOffset=function(){},ut.lang=function(e,t){var n;return e?(t?P(L(e),t):null===t?(C(e),e="en"):kt[e]||E(e),n=ut.duration.fn._lang=ut.fn._lang=E(e),n._abbr):ut.fn._lang._abbr},ut.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),E(e)},ut.isMoment=function(e){return e instanceof i||null!=e&&e.hasOwnProperty("_isAMomentObject")},ut.isDuration=function(e){return e instanceof s},lt=rn.length-1;lt>=0;--lt)v(rn[lt]);ut.normalizeUnits=function(e){return g(e)},ut.invalid=function(e){var t=ut.utc(0/0);return null!=e?u(t._pf,e):t._pf.userInvalidated=!0,t},ut.parseZone=function(){return ut.apply(null,arguments).parseZone()},ut.parseTwoDigitYear=function(e){return y(e)+(y(e)>68?1900:2e3)},u(ut.fn=i.prototype,{clone:function(){return ut(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=ut(this).utc();return 0<e.year()&&e.year()<=9999?A(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):A(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return M(this)},isDSTShifted:function(){return this._a?this.isValid()&&m(this._a,(this._isUTC?ut.utc(this._a):ut(this._a)).toArray())>0:!1},parsingFlags:function(){return u({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=A(this,e||ut.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?ut.duration(+t,e):ut.duration(e,t),p(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?ut.duration(+t,e):ut.duration(e,t),p(this,n,-1),this},diff:function(e,t,n){var r,o,a=D(e,this),i=6e4*(this.zone()-a.zone());return t=g(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+a.daysInMonth()),o=12*(this.year()-a.year())+(this.month()-a.month()),o+=(this-ut(this).startOf("month")-(a-ut(a).startOf("month")))/r,o-=6e4*(this.zone()-ut(this).startOf("month").zone()-(a.zone()-ut(a).startOf("month").zone()))/r,"year"===t&&(o/=12)):(r=this-a,o="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-i)/864e5:"week"===t?(r-i)/6048e5:r),n?o:l(o)},from:function(e,t){return ut.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(ut(),e)},calendar:function(){var e=D(ut(),this).startOf("day"),t=this.diff(e,"days",!0),n=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return S(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=K(e,this.lang()),this.add({d:e-t})):t},month:ot("Month",!0),startOf:function(e){switch(e=g(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=g(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+ut(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+ut(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+D(e,this).startOf(t)},min:function(e){return e=ut.apply(null,arguments),this>e?this:e},max:function(e){return e=ut.apply(null,arguments),e>this?this:e},zone:function(e,t){var n=this._offset||0;return null==e?this._isUTC?n:this._d.getTimezoneOffset():("string"==typeof e&&(e=Y(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,n!==e&&(!t||this._changeInProgress?p(this,ut.duration(n-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ut.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?ut(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return b(this.year(),this.month())},dayOfYear:function(e){var t=ft((ut(this).startOf("day")-ut(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=X(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=X(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=X(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return k(this.year(),1,4)},weeksInYear:function(){var e=this._lang._week;return k(this.year(),e.dow,e.doy)},get:function(e){return e=g(e),this[e]()},set:function(e,t){return e=g(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=E(t),this)}}),ut.fn.millisecond=ut.fn.milliseconds=ot("Milliseconds",!1),ut.fn.second=ut.fn.seconds=ot("Seconds",!1),ut.fn.minute=ut.fn.minutes=ot("Minutes",!1),ut.fn.hour=ut.fn.hours=ot("Hours",!0),ut.fn.date=ot("Date",!0),ut.fn.dates=n("dates accessor is deprecated. Use date instead.",ot("Date",!0)),ut.fn.year=ot("FullYear",!0),ut.fn.years=n("years accessor is deprecated. Use year instead.",ot("FullYear",!0)),ut.fn.days=ut.fn.day,ut.fn.months=ut.fn.month,ut.fn.weeks=ut.fn.week,ut.fn.isoWeeks=ut.fn.isoWeek,ut.fn.quarters=ut.fn.quarter,ut.fn.toJSON=ut.fn.toISOString,u(ut.duration.fn=s.prototype,{_bubble:function(){var e,t,n,r,o=this._milliseconds,a=this._days,i=this._months,s=this._data;s.milliseconds=o%1e3,e=l(o/1e3),s.seconds=e%60,t=l(e/60),s.minutes=t%60,n=l(t/60),s.hours=n%24,a+=l(n/24),s.days=a%30,i+=l(a/30),s.months=i%12,r=l(i/12),s.years=r},weeks:function(){return l(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)},humanize:function(e){var t=+this,n=Q(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=ut.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=ut.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=g(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=g(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:ut.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),o=Math.abs(this.minutes()),a=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||o||a?"T":"")+(r?r+"H":"")+(o?o+"M":"")+(a?a+"S":""):"P0D"}});for(lt in Jt)Jt.hasOwnProperty(lt)&&(it(lt,Jt[lt]),at(lt.toLowerCase()));it("Weeks",6048e5),ut.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},ut.lang("en",{ordinal:function(e){var t=e%10,n=1===y(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),St?module.exports=ut:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(pt.moment=ct),ut}),st(!0)):st()}).call(this)}).call(this),function(){"undefined"!=typeof Package&&(e=this.moment)}.call(this),"undefined"==typeof Package&&(Package={}),Package.moment={moment:e}}(),function(){var e=Package.meteor.Meteor,t=Package["simple-schema"].SimpleSchema,n=(Package["simple-schema"].MongoObject,Package.underscore._),r=(Package.deps.Deps,Package.check.check,Package.check.Match),o=Package.ejson.EJSON;(function(){function a(t,r,o,a,s){function l(e,n,r,o,i){v.clean(e,{filter:r,autoConvert:o,getAutoValues:n,isModifier:"insert"!==t,removeEmptyStrings:i,extendAutoValueContext:{isInsert:"insert"===t,isUpdate:"update"===t&&h.upsert!==!0,isUpsert:m,userId:a,isFromTrustedCode:s}})}var d,p,f,h,m,g,_=this,v=_._c2._simpleSchema;if(!r.length)throw new Error(t+" requires an argument");if("insert"===t)d=r[0],h=r[1],p=r[2],r="function"==typeof h?[d,h]:"function"==typeof p?[d,p]:[d];else{if("update"!==t&&"upsert"!==t)throw new Error("invalid type argument");g=r[0],d=r[1],h=r[2],p=r[3]}if(p||"function"!=typeof h||(p=h,h={}),h=h||{},m="upsert"===t||"update"===t&&h.upsert===!0,e.isClient&&!p&&(p=function(n){n&&e._debug(t+" failed: "+(n.reason||n.stack))}),e.isClient){var y=r.length-1;"function"==typeof r[y]&&(p=r[y]=c(_,h.validationContext,p))}if(h.validate===!1)return r;var b;e.isServer&&d._id&&!v.allowsKey("_id")&&(b=d._id,delete d._id),l(d,e.isServer&&!o,h.filter!==!1,h.autoConvert!==!1,h.removeEmptyStrings!==!1);var k={};for(var w in d)d.hasOwnProperty(w)&&(k[w]=d[w]);if(e.isServer&&m&&n.isObject(g)){var S=k.$set||{};k.$set=n.clone(g),n.extend(k.$set,S)}e.isClient&&l(k,!0,!1,!1,!1);var T=v.namedContext(h.validationContext),M=T.validate(k,{modifier:"update"===t||"upsert"===t,upsert:m,extendedCustomContext:{isInsert:"insert"===t,isUpdate:"update"===t&&h.upsert!==!0,isUpsert:m,userId:a,isFromTrustedCode:s}});if(M){if(b&&(d._id=b),"insert"===t?r[0]=d:r[1]=d,e.isServer){var y=r.length-1;"function"==typeof r[y]&&(r[y]=u(_,d,h.validationContext,r[y]))}return r}if(f=i(T),!p)throw f;p(f,!1)}function i(t){var n,r=t.invalidKeys();n=r.length?t.keyErrorMessage(r[0].name):"Failed validation";var o=new Error(n);return o.invalidKeys=r,e.isServer&&(o.sanitizedError=new e.Error(400,n)),o}function s(e,t){var n=t.split("c2_")[1].split(" ")[0],r=t.split("dup key:")[1].split('"')[1];e.addInvalidKeys([{name:n,type:"notUnique",value:r}])}function u(e,t,n,r){return function(t){if(t&&("MongoError"===t.name&&11001===t.code||t.message.indexOf(!0))&&-1!==t.message.indexOf("c2_")){var o=e.simpleSchema().namedContext(n);s(o,t.message),arguments[0]=i(o)}return r.apply(this,arguments)}}function c(t,n,r){return function(a){var u=t.simpleSchema().namedContext(n);if(a instanceof e.Error&&400===a.error&&"INVALID"===a.reason&&"string"==typeof a.details){var c=o.parse(a.details);u.addInvalidKeys(c),arguments[0]=i(u)}else a instanceof e.Error&&409===a.error&&a.reason&&-1!==a.reason.indexOf("E11000")&&-1!==a.reason.indexOf("c2_")&&(s(u,a.reason),arguments[0]=i(u));return r.apply(this,arguments)}}t.extendOptions({index:r.Optional(r.OneOf(Number,String,Boolean)),unique:r.Optional(Boolean),denyInsert:r.Optional(Boolean),denyUpdate:r.Optional(Boolean)}),t.messages({notUnique:"[label] must be unique",insertNotAllowed:"[label] cannot be set during an insert",updateNotAllowed:"[label] cannot be set during an update"});var l=e.Collection;e.Collection=function(e,t){var n,r=this;if(t=t||{},t.schema&&(n=t.schema,delete t.schema),t.virtualFields)throw new Error("Collection2: Sorry, the virtualFields option is no longer supported.");l.call(r,e,t),n&&r.attachSchema(n)},e.Collection.prototype=l.prototype;for(var d in l)l.hasOwnProperty(d)&&(e.Collection[d]=l[d]);if(e.isServer){var p=!1;e.startup(function(){p=!0})}e.Collection.prototype.attachSchema=function(r){var i=this;r instanceof t||(r=new t(r)),i._c2={},i._c2._simpleSchema=r,n.each(r.schema(),function(t,n){function r(){var e,r={};"index"in t?(e=t.index,e===!0&&(e=1)):e=1;var o="c2_"+n,a=n.replace(/\.\$\./g,".");r[a]=e;var s=!!t.unique&&(1===e||-1===e),u=!!t.optional&&s;if(e!==!1)i._collection._ensureIndex(r,{background:!0,name:o,unique:s,sparse:u});else try{i._collection._dropIndex(o)}catch(c){console.warn("Collection2: Tried to drop mongo index "+o+", but there is no index with that name")}}e.isServer&&("index"in t||t.unique===!0)&&(p?r():e.startup(r))}),r.validator(function(){{var e=this.definition,t=this.value,n=this.operator;this.key}return e.denyInsert&&void 0!==t&&!n?"insertNotAllowed":e.denyUpdate&&n&&("$set"!==n||"$set"===n&&void 0!==t)?"updateNotAllowed":!0}),i.deny({insert:function(t,n){var o;return e.isServer&&n._id&&!r.allowsKey("_id")&&(o=n._id,delete n._id),r.clean(n,{isModifier:!1,filter:!1,autoConvert:!1,removeEmptyStrings:!1,extendAutoValueContext:{isInsert:!0,isUpdate:!1,isUpsert:!1,userId:t,isFromTrustedCode:!1}}),o&&(n._id=o),!1
},update:function(e,t,n,o){return r.clean(o,{isModifier:!0,filter:!1,autoConvert:!1,removeEmptyStrings:!1,extendAutoValueContext:{isInsert:!1,isUpdate:!0,isUpsert:!1,userId:e,isFromTrustedCode:!1}}),!1},fetch:[],transform:null}),i.deny({insert:function(t,n){return a.call(i,"insert",[n,{removeEmptyStrings:!1,filter:!1,autoConvert:!1},function(t){if(t)throw new e.Error(400,"INVALID",o.stringify(t.invalidKeys))}],!0,t,!1),!1},update:function(t,n,r,s){return a.call(i,"update",[null,s,{removeEmptyStrings:!1,filter:!1,autoConvert:!1},function(t){if(t)throw new e.Error(400,"INVALID",o.stringify(t.invalidKeys))}],!0,t,!1),!1},fetch:[]}),Package&&Package.insecure&&i.allow({insert:function(){return!0},update:function(){return!0},remove:function(){return!0},fetch:[],transform:null})},e.Collection.prototype.simpleSchema=function(){var e=this;return e._c2?e._c2._simpleSchema:null},n.each(["insert","update","upsert"],function(t){var r=e.Collection.prototype[t];e.Collection.prototype[t]=function(){var o=this,i=n.toArray(arguments);return o._c2&&(i=a.call(o,t,i,!1,e.isClient&&e.userId&&e.userId()||null,e.isServer),!i)?"insert"===t?o._makeNewID():void 0:r.apply(o,i)}}),e.Collection2=function(){throw new Error("Collection2: Doing `new Meteor.Collection2` no longer works. Just use a normal `new Meteor.Collection` call.")}}).call(this),"undefined"==typeof Package&&(Package={}),Package.collection2={}}(),function(){var e,t,n,r,o,a,i,s,u,c,l,d,p,f,h,m,g,_,v,y,b,k,w,S,T,M,L,D,P,C,E,x,I=Package.meteor.Meteor,A=Package["simple-schema"].SimpleSchema,O=Package["simple-schema"].MongoObject,N=(Package.check.check,Package.check.Match),Y=(Package.livedata.DDP,Package.underscore._),F=Package.deps.Deps,H=Package.templating.Template,V=Package.moment.moment,B=Package.ui.UI,R=(Package.ui.Handlebars,Package.htmljs.HTML),U=Package.blaze.Blaze;(function(){A.extendOptions({autoform:N.Optional(Object)})}).call(this),function(){H.__define__("quickForm_bootstrap3",function(){var e=this;return Spacebars.TemplateWith(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"qfAutoFormContext"))},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n    ",U.Each(function(){return Spacebars.dataMustache(e.lookup("afFieldNames"),Spacebars.kw({fields:Spacebars.dot(e.lookup(".."),"atts","fields"),omitFields:Spacebars.dot(e.lookup(".."),"atts","omitFields")}))},function(){return["\n      ",Spacebars.TemplateWith(function(){return{name:Spacebars.call(e.lookup(".")),options:Spacebars.call("auto"),fields:Spacebars.call(Spacebars.dot(e.lookup("..."),"atts","fields")),omitFields:Spacebars.call(Spacebars.dot(e.lookup("..."),"atts","omitFields"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n    "]}),"\n    ",U.If(function(){return Spacebars.call(e.lookup("qfNeedsButton"))},function(){return["\n    ",R.DIV("\n      ",R.BUTTON(R.Attrs(function(){return Spacebars.attrMustache(e.lookup("submitButtonAtts"))}),"\n      ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(e.lookup(".."),"atts","buttonContent"))},function(){return["\n      ",U.View(function(){return Spacebars.mustache(e.lookup("."))}),"\n      "]},function(){return"\n      Submit\n      "}),"\n      "),"\n    "),"\n    "]}),"\n  "]})})}),H.__define__("afFieldLabel_bootstrap3",function(){var e=this;return R.LABEL(R.Attrs(function(){return Spacebars.attrMustache(e.lookup("atts"))}),U.View(function(){return Spacebars.mustache(e.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name")}))}))}),H.__define__("afCheckbox_bootstrap3",function(){var e=this;return R.DIV({"class":"checkbox"},"\n    ",R.LABEL("\n      ",R.INPUT(R.Attrs({type:"checkbox",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"value"))}},function(){return Spacebars.attrMustache(e.lookup("atts"))})),"\n      ",U.View(function(){return Spacebars.mustache(e.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"name")}))}),"\n    "),"\n  ")}),H.__define__("afCheckboxGroup_bootstrap3",function(){var e=this;return U.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"items"))},function(){return["\n    ",R.DIV({"class":"checkbox"},"\n      ",R.LABEL("\n        ",R.INPUT(R.Attrs({type:"checkbox",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"value"))}},function(){return Spacebars.attrMustache(e.lookup("atts"))})),"\n        ",U.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"label"))}),"\n      "),"\n    "),"\n  "]})}),H.__define__("afRadio_bootstrap3",function(){var e=this;return R.DIV({"class":"radio"},"\n    ",R.LABEL("\n      ",R.INPUT(R.Attrs({type:"radio",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"value"))}},function(){return Spacebars.attrMustache(e.lookup("atts"))})),"\n      ",U.View(function(){return Spacebars.mustache(e.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"name")}))}),"\n    "),"\n  ")}),H.__define__("afRadioGroup_bootstrap3",function(){var e=this;return U.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"items"))},function(){return["\n    ",R.DIV({"class":"radio"},"\n      ",R.LABEL("\n        ",R.INPUT(R.Attrs({type:"radio",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"value"))}},function(){return Spacebars.attrMustache(e.lookup("atts"))})),"\n        ",U.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"label"))}),"\n      "),"\n    "),"\n  "]})}),H.__define__("afContenteditable_bootstrap3",function(){var e=this;return Spacebars.include(e.lookupTemplate("afContenteditable_plain"))}),H.__define__("afFieldSelect_bootstrap3",function(){var e=this;return R.SELECT(R.Attrs(function(){return Spacebars.attrMustache(e.lookup("atts"))}),"\n    ",Spacebars.include(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"contentBlock"))}),"\n  ")}),H.__define__("afSelect_bootstrap3",function(){var e=this;return R.SELECT(R.Attrs(function(){return Spacebars.attrMustache(e.lookup("atts"))}),"\n    ",U.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"items"))},function(){return["\n      ",R.OPTION(R.Attrs(function(){return Spacebars.attrMustache(e.lookup("optionAtts"))}),U.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"label"))})),"\n    "]}),"\n  ")}),H.__define__("afTextarea_bootstrap3",function(){var e=this;return R.TEXTAREA(R.Attrs(function(){return Spacebars.attrMustache(e.lookup("atts"))},{value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"value"))}}))}),H.__define__("afInput_bootstrap3",function(){var e=this;return R.INPUT(R.Attrs({type:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"type"))},value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"value"))}},function(){return Spacebars.attrMustache(e.lookup("atts"))}))}),H.__define__("afDeleteButton_bootstrap3",function(){var e=this;return Spacebars.TemplateWith(function(){return{collection:Spacebars.call(Spacebars.dot(e.lookup("."),"collection")),type:Spacebars.call("remove"),doc:Spacebars.call(Spacebars.dot(e.lookup("."),"doc")),id:Spacebars.call(Spacebars.dot(e.lookup("."),"id"))}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n  ",R.BUTTON(R.Attrs({type:"submit"},function(){return Spacebars.attrMustache(e.lookup("atts"))}),U.If(function(){return Spacebars.call(Spacebars.dot(e.lookup(".."),"contentBlock"))},function(){return Spacebars.include(function(){return Spacebars.call(Spacebars.dot(e.lookup(".."),"contentBlock"))})},function(){return"Delete"})),"\n  "]})})}),H.__define__("afQuickField_bootstrap3",function(){var e=this;return R.DIV({"class":function(){return["form-group ",U.If(function(){return Spacebars.dataMustache(e.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"atts","autoform")}))},function(){return"has-error"})]}},"\n    ",U.Unless(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"skipLabel"))},function(){return["\n    ",Spacebars.TemplateWith(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"afFieldLabelAtts"))},function(){return Spacebars.include(e.lookupTemplate("afFieldLabel"))}),"\n    "]}),"\n    ",Spacebars.TemplateWith(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"afFieldInputAtts"))},function(){return Spacebars.include(e.lookupTemplate("afFieldInput"))}),"\n    ",R.SPAN({"class":"help-block"},U.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"atts","autoform")})))})),"\n  ")}),H.__define__("afObjectField_bootstrap3",function(){var e=this;return R.DIV({"class":"panel panel-default"},"\n    ",R.DIV({"class":"panel-heading"},"\n      ",R.H3({"class":"panel-title"},U.View(function(){return Spacebars.mustache(e.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name")}))})),"\n    "),"\n    ",R.DIV({"class":"panel-body"},"\n      ",U.If(function(){return Spacebars.dataMustache(e.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"autoform")}))},function(){return["\n      ",R.SPAN({"class":"help-block"},U.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"autoform")})))})),"\n      "]}),"\n      ",U.Each(function(){return Spacebars.dataMustache(e.lookup("afFieldNames"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),fields:Spacebars.dot(e.lookup("."),"atts","fields"),omitFields:Spacebars.dot(e.lookup("."),"atts","omitFields")}))},function(){return["\n        ",Spacebars.TemplateWith(function(){return{name:Spacebars.call(e.lookup(".")),options:Spacebars.call("auto"),fields:Spacebars.call(Spacebars.dot(e.lookup(".."),"atts","fields")),omitFields:Spacebars.call(Spacebars.dot(e.lookup(".."),"atts","omitFields"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n      "]}),"\n    "),"\n  ")}),H.__define__("afArrayField_bootstrap3",function(){var e=this;return R.DIV({"class":"panel panel-default"},"\n    ",R.DIV({"class":"panel-heading"},U.View(function(){return Spacebars.mustache(e.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name")}))})),"\n    ",U.If(function(){return Spacebars.dataMustache(e.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"autoform")}))},function(){return["\n    ",R.DIV({"class":"panel-body has-error"},"\n      ",R.SPAN({"class":"help-block"},U.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"autoform")})))})),"\n    "),"\n    "]}),"\n    ",R.UL({"class":"list-group"},"\n      ",Spacebars.TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(e.lookup("."),"atts","name")),minCount:Spacebars.call(Spacebars.dot(e.lookup("."),"atts","minCount")),maxCount:Spacebars.call(Spacebars.dot(e.lookup("."),"atts","maxCount"))}},function(){return Spacebars.include(e.lookupTemplate("afEachArrayItem"),function(){return["\n      ",R.LI({"class":"list-group-item autoform-array-item"},"\n        ",R.DIV({"class":"media"},"\n          ",U.If(function(){return Spacebars.dataMustache(e.lookup("afArrayFieldHasMoreThanMinimum"),Spacebars.kw({name:Spacebars.dot(e.lookup(".."),"atts","name"),autoform:Spacebars.dot(e.lookup(".."),"autoform"),minCount:Spacebars.dot(e.lookup(".."),"atts","minCount"),maxCount:Spacebars.dot(e.lookup(".."),"atts","maxCount")}))},function(){return["\n          ",R.BUTTON({"class":"btn btn-primary autoform-remove-item pull-left"},R.SPAN({"class":"glyphicon glyphicon-minus"})),"\n          "]}),"\n          ",R.DIV({"class":"media-body"},"\n            ",Spacebars.TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(e.lookup("."),"name")),label:Spacebars.call(!1),options:Spacebars.call("auto"),fields:Spacebars.call(Spacebars.dot(e.lookup(".."),"atts","fields")),omitFields:Spacebars.call(Spacebars.dot(e.lookup(".."),"atts","omitFields"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n          "),"\n        "),"\n      "),"\n      "]})}),"\n      ",U.If(function(){return Spacebars.dataMustache(e.lookup("afArrayFieldHasLessThanMaximum"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"autoform"),minCount:Spacebars.dot(e.lookup("."),"atts","minCount"),maxCount:Spacebars.dot(e.lookup("."),"atts","maxCount")}))},function(){return["\n      ",R.LI({"class":"list-group-item"},"\n        ",R.BUTTON({"class":"btn btn-primary autoform-add-item","data-autoform-field":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"atts","name"))},"data-autoform-mincount":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"atts","minCount"))},"data-autoform-maxcount":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"atts","maxCount"))}},R.SPAN({"class":"glyphicon glyphicon-plus"})),"\n      "),"\n      "]}),"\n    "),"\n  ")})}.call(this),function(){function e(){var e=Y.clone(this.atts);return"string"==typeof e["class"]?e["class"]+=" form-control":e["class"]="form-control",e}H.afFieldLabel_bootstrap3.atts=function(){var e=(this||{}).atts,t=Y.omit(e,"name","autoform","template");return"string"==typeof t["class"]?t["class"]+=" control-label":t["class"]="control-label",t["for"]=t["for"]||e.name,t},H.afDeleteButton_bootstrap3.atts=function(){var e=this||{},t=Y.omit(e,"_af","collection","doc","contentBlock","type","id");return"string"==typeof t["class"]?t["class"]+=" btn btn-danger":t["class"]="btn btn-danger",t},H.quickForm_bootstrap3.submitButtonAtts=function(){var e=this.atts,t={type:"submit"};return t["class"]="btn btn-primary","string"==typeof e.buttonClasses&&(t["class"]+=" "+e.buttonClasses),t},H.quickForm_bootstrap3.qfNeedsButton=function(){var e=this._af.submitType;return"readonly"!==e&&"disabled"!==e},H.afFieldSelect_bootstrap3.atts=e,H.afSelect_bootstrap3.atts=e,H.afTextarea_bootstrap3.atts=e,H.afInput_bootstrap3.atts=e,H.afCheckbox_bootstrap3.atts=H.afRadio_bootstrap3.atts=H.afCheckboxGroup_bootstrap3.atts=H.afRadioGroup_bootstrap3.atts=function(){var e=Y.clone(this.atts);return this.selected&&(e.checked=""),e},H.afSelect_bootstrap3.optionAtts=function(){var e=this,t={value:e.value};return e.selected&&(t.selected=""),t}}.call(this),function(){H.__define__("afFieldLabel_bootstrap3-span",function(){var e=this;return R.SPAN(R.Attrs(function(){return Spacebars.attrMustache(e.lookup("atts"))}),U.View(function(){return Spacebars.mustache(e.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name")}))}))})}.call(this),function(){H["afFieldLabel_bootstrap3-span"].atts=function(){var e=Y.clone(this||{}).atts,t=Y.omit(e,"name","autoform","template");return"string"==typeof t["class"]?t["class"]+=" control-label":t["class"]="control-label",t}}.call(this),function(){H.__define__("quickForm_bootstrap3-horizontal",function(){var e=this;return Spacebars.TemplateWith(function(){return Spacebars.call(e.lookup("qfAutoFormContext"))},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n    ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("qfClasses"),e.lookup(".."))},function(){return["\n    ",U.Each(function(){return Spacebars.dataMustache(e.lookup("afFieldNames"),Spacebars.kw({fields:Spacebars.dot(e.lookup("..."),"atts","fields"),omitFields:Spacebars.dot(e.lookup("..."),"atts","omitFields"),autoform:e.lookup("..")}))},function(){return["\n      ",Spacebars.TemplateWith(function(){return{name:Spacebars.call(e.lookup(".")),options:Spacebars.call("auto"),template:Spacebars.call("bootstrap3-horizontal"),"input-col-class":Spacebars.call(Spacebars.dot(e.lookup(".."),"inputClass")),"label-class":Spacebars.call(Spacebars.dot(e.lookup(".."),"labelClass")),fields:Spacebars.call(Spacebars.dot(e.lookup("...."),"atts","fields")),omitFields:Spacebars.call(Spacebars.dot(e.lookup("...."),"atts","omitFields"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n    "]}),"\n    "]}),"\n    ",U.If(function(){return Spacebars.call(e.lookup("qfNeedsButton"))},function(){return["\n    ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("qfClasses"),e.lookup(".."))},function(){return["\n    ",R.DIV({"class":"form-group"},"\n      ",R.DIV({"class":function(){return Spacebars.mustache(e.lookup("labelClass"))}}),"\n      ",R.DIV({"class":function(){return Spacebars.mustache(e.lookup("inputClass"))}},"\n        ",R.BUTTON(R.Attrs(function(){return Spacebars.attrMustache(e.lookup("submitButtonAtts"),e.lookup("..."))}),"\n        ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(e.lookup(".."),"atts","buttonContent"))},function(){return["\n        ",U.View(function(){return Spacebars.mustache(e.lookup("."))}),"\n        "]},function(){return"\n        Submit\n        "}),"\n        "),"\n      "),"\n    "),"\n    "]}),"\n    "]}),"\n  "]})})}),H.__define__("afQuickField_bootstrap3-horizontal",function(){var e=this;return R.DIV({"class":function(){return["form-group ",U.If(function(){return Spacebars.dataMustache(e.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"atts","autoform")}))},function(){return"has-error"})]}},"\n    ",U.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"skipLabel"))},function(){return["\n    \n    ",R.LABEL(R.Attrs(function(){return Spacebars.attrMustache(e.lookup("afEmptyFieldLabelAtts"))})),"\n    "]},function(){return["\n    ",Spacebars.TemplateWith(function(){return Spacebars.call(e.lookup("afFieldLabelAtts"))},function(){return Spacebars.include(e.lookupTemplate("afFieldLabel"))}),"\n    "]}),"\n    ",R.DIV({"class":function(){return Spacebars.mustache(e.lookup("rightColumnClass"))}},"\n        ",Spacebars.TemplateWith(function(){return Spacebars.call(e.lookup("afFieldInputAtts"))},function(){return Spacebars.include(e.lookupTemplate("afFieldInput"))}),"\n        ",R.SPAN({"class":"help-block"},U.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"atts","autoform")})))})),"\n    "),"\n  ")}),H.__define__("afObjectField_bootstrap3-horizontal",function(){var e=this;return R.DIV({"class":function(){return["form-group ",U.If(function(){return Spacebars.dataMustache(e.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"atts","autoform")}))},function(){return"has-error"})]}},"\n    ",Spacebars.TemplateWith(function(){return Spacebars.call(e.lookup("afFieldLabelAtts"))},function(){return Spacebars.include(e.lookupTemplate("afFieldLabel"))}),"\n    ",R.DIV({"class":function(){return Spacebars.mustache(e.lookup("rightColumnClass"))}},"\n      ",R.DIV({"class":"panel panel-default autoform-padding-fix"},"\n        ",R.DIV({"class":"panel-body"},"\n        ",U.Each(function(){return Spacebars.dataMustache(e.lookup("afFieldNames"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),fields:Spacebars.dot(e.lookup("."),"atts","fields"),omitFields:Spacebars.dot(e.lookup("."),"atts","omitFields")}))},function(){return["\n          ",Spacebars.TemplateWith(function(){return{name:Spacebars.call(e.lookup(".")),options:Spacebars.call("auto"),fields:Spacebars.call(Spacebars.dot(e.lookup(".."),"atts","fields")),omitFields:Spacebars.call(Spacebars.dot(e.lookup(".."),"atts","omitFields")),template:Spacebars.call("bootstrap3")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n        "]}),"\n        "),"\n      "),"\n    "),"\n  ")}),H.__define__("afArrayField_bootstrap3-horizontal",function(){var e=this;return R.DIV({"class":function(){return["form-group ",U.If(function(){return Spacebars.dataMustache(e.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"autoform")}))},function(){return"has-error"})]}},"\n    ",Spacebars.TemplateWith(function(){return Spacebars.call(e.lookup("afFieldLabelAtts"))},function(){return Spacebars.include(e.lookupTemplate("afFieldLabel"))}),"\n    ",R.DIV({"class":function(){return Spacebars.mustache(e.lookup("rightColumnClass"))}},"\n      ",R.DIV({"class":"panel panel-default autoform-padding-fix"},"\n        ",U.If(function(){return Spacebars.dataMustache(e.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"autoform")}))},function(){return["\n        ",R.DIV({"class":"panel-body has-error"},"\n          ",R.SPAN({"class":"help-block"},U.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"autoform")})))})),"\n        "),"\n        "]}),"\n        ",R.UL({"class":"list-group"},"\n          ",Spacebars.TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(e.lookup("."),"atts","name")),minCount:Spacebars.call(Spacebars.dot(e.lookup("."),"atts","minCount")),maxCount:Spacebars.call(Spacebars.dot(e.lookup("."),"atts","maxCount"))}},function(){return Spacebars.include(e.lookupTemplate("afEachArrayItem"),function(){return["\n          ",R.LI({"class":"list-group-item autoform-array-item"},"\n            ",R.DIV({"class":"media"},"\n              ",U.If(function(){return Spacebars.dataMustache(e.lookup("afArrayFieldHasMoreThanMinimum"),Spacebars.kw({name:Spacebars.dot(e.lookup(".."),"atts","name"),autoform:Spacebars.dot(e.lookup(".."),"autoform"),minCount:Spacebars.dot(e.lookup(".."),"atts","minCount"),maxCount:Spacebars.dot(e.lookup(".."),"atts","maxCount")}))},function(){return["\n              ",R.BUTTON({"class":"btn btn-primary autoform-remove-item pull-left"},R.SPAN({"class":"glyphicon glyphicon-minus"})),"\n              "]}),"\n              ",R.DIV({"class":"media-body"},"\n                ",Spacebars.TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(e.lookup("."),"name")),label:Spacebars.call(!1)}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n              "),"\n            "),"\n          "),"\n          "]})}),"\n          ",U.If(function(){return Spacebars.dataMustache(e.lookup("afArrayFieldHasLessThanMaximum"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"autoform"),minCount:Spacebars.dot(e.lookup("."),"atts","minCount"),maxCount:Spacebars.dot(e.lookup("."),"atts","maxCount")}))},function(){return["\n          ",R.LI({"class":"list-group-item"},"\n            ",R.BUTTON({"class":"btn btn-primary autoform-add-item","data-autoform-field":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"atts","name"))},"data-autoform-mincount":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"atts","minCount"))},"data-autoform-maxcount":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"atts","maxCount"))}},R.SPAN({"class":"glyphicon glyphicon-plus"})),"\n          "),"\n          "]}),"\n        "),"\n      "),"\n    "),"\n  ")})}.call(this),function(){H["quickForm_bootstrap3-horizontal"].qfAutoFormContext=function(){var e=Y.clone(this.qfAutoFormContext||{});return"string"==typeof e["class"]?e["class"]+=" form-horizontal":e["class"]="form-horizontal",e["input-col-class"]&&delete e["input-col-class"],e["label-class"]&&delete e["label-class"],e},H["quickForm_bootstrap3-horizontal"].submitButtonAtts=function(e){var t=e.atts,n={type:"submit"};return n["class"]="btn btn-primary","string"==typeof t.buttonClasses&&(n["class"]+=" "+t.buttonClasses),n},H["quickForm_bootstrap3-horizontal"].qfNeedsButton=function(){var e=this._af.submitType;return"readonly"!==e&&"disabled"!==e},H["quickForm_bootstrap3-horizontal"].qfClasses=function(e){return{inputClass:e.atts["input-col-class"],labelClass:e.atts["label-class"]}},H["afQuickField_bootstrap3-horizontal"].afFieldInputAtts=function(){var e=Y.clone(this.afFieldInputAtts||{});return"input-col-class"in e&&delete e["input-col-class"],e.template="bootstrap3",e},H["afQuickField_bootstrap3-horizontal"].afFieldLabelAtts=function(){var e=Y.clone(this.afFieldLabelAtts||{});return e.template="bootstrap3",e},H["afQuickField_bootstrap3-horizontal"].afEmptyFieldLabelAtts=function(){var e=Y.clone(this.afFieldLabelAtts||{}),t=Y.omit(e,"name","autoform","template");return"string"==typeof t["class"]?t["class"]+=" control-label":t["class"]="control-label",t},H["afQuickField_bootstrap3-horizontal"].rightColumnClass=function(){var e=this.afFieldInputAtts||{};return e["input-col-class"]||""},H["afObjectField_bootstrap3-horizontal"].rightColumnClass=function(){var e=this.atts||{};return e["input-col-class"]||""},H["afObjectField_bootstrap3-horizontal"].afFieldLabelAtts=function(){var e=this.atts;return{template:"bootstrap3","class":e["label-class"],name:e.name}},H["afArrayField_bootstrap3-horizontal"].rightColumnClass=function(){var e=this.atts||{};return e["input-col-class"]||""},H["afArrayField_bootstrap3-horizontal"].afFieldLabelAtts=function(){var e=this.atts||{};return{template:"bootstrap3","class":e["label-class"],name:e.name}}}.call(this),function(){H.__define__("quickForm_plain",function(){var e=this;return Spacebars.TemplateWith(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"qfAutoFormContext"))},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n    ",U.Each(function(){return Spacebars.dataMustache(e.lookup("afFieldNames"),Spacebars.kw({fields:Spacebars.dot(e.lookup(".."),"atts","fields"),omitFields:Spacebars.dot(e.lookup(".."),"atts","omitFields")}))},function(){return["\n      ",Spacebars.TemplateWith(function(){return{name:Spacebars.call(e.lookup(".")),options:Spacebars.call("auto"),fields:Spacebars.call(Spacebars.dot(e.lookup("..."),"atts","fields")),omitFields:Spacebars.call(Spacebars.dot(e.lookup("..."),"atts","omitFields"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n    "]}),"\n    ",U.If(function(){return Spacebars.call(e.lookup("qfNeedsButton"))},function(){return["\n    ",R.DIV("\n      ",R.BUTTON(R.Attrs(function(){return Spacebars.attrMustache(e.lookup("submitButtonAtts"))}),"\n      ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(e.lookup(".."),"atts","buttonContent"))},function(){return["\n      ",U.View(function(){return Spacebars.mustache(e.lookup("."))}),"\n      "]},function(){return"\n      Submit\n      "}),"\n      "),"\n    "),"\n    "]}),"\n  "]})})}),H.__define__("afFieldLabel_plain",function(){var e=this;return R.LABEL(R.Attrs(function(){return Spacebars.attrMustache(e.lookup("atts"))}),U.View(function(){return Spacebars.mustache(e.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name")}))}))}),H.__define__("afCheckbox_plain",function(){var e=this;return R.DIV(R.INPUT(R.Attrs({type:"checkbox",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"value"))}},function(){return Spacebars.attrMustache(e.lookup("atts"))}))," ",R.LABEL({"for":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"name"))}},U.View(function(){return Spacebars.mustache(e.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"name")}))})))}),H.__define__("afCheckboxGroup_plain",function(){var e=this;return U.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"items"))},function(){return["\n    ",R.DIV(R.INPUT(R.Attrs({type:"checkbox",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"value"))}},function(){return Spacebars.attrMustache(e.lookup("atts"))}))," ",R.LABEL({"for":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"name"))}},U.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"label"))}))),"\n  "]})}),H.__define__("afRadio_plain",function(){var e=this;return R.DIV(R.INPUT(R.Attrs({type:"checkbox",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"value"))}},function(){return Spacebars.attrMustache(e.lookup("atts"))}))," ",R.LABEL({"for":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"name"))}},U.View(function(){return Spacebars.mustache(e.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"name")}))})))}),H.__define__("afRadioGroup_plain",function(){var e=this;return U.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"items"))},function(){return["\n    ",R.DIV(R.INPUT(R.Attrs({type:"checkbox",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"value"))}},function(){return Spacebars.attrMustache(e.lookup("atts"))}))," ",R.LABEL({"for":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"name"))}},U.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"label"))}))),"\n  "]})}),H.__define__("afContenteditable_plain",function(){var e=this;return R.DIV(R.Attrs({contenteditable:"true"},function(){return Spacebars.attrMustache(Spacebars.dot(e.lookup("."),"atts"))}),U.View(function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(e.lookup("."),"value")))}))}),H.__define__("afFieldSelect_plain",function(){var e=this;return R.SELECT(R.Attrs(function(){return Spacebars.attrMustache(Spacebars.dot(e.lookup("."),"atts"))}),"\n    ",Spacebars.include(e.lookupTemplate("contentBlock")),"\n  ")}),H.__define__("afSelect_plain",function(){var e=this;return R.SELECT(R.Attrs(function(){return Spacebars.attrMustache(Spacebars.dot(e.lookup("."),"atts"))}),"\n    ",U.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"items"))},function(){return["\n    ",R.OPTION(R.Attrs(function(){return Spacebars.attrMustache(e.lookup("optionAtts"))}),U.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"label"))})),"\n    "]}),"\n  ")}),H.__define__("afTextarea_plain",function(){var e=this;return R.TEXTAREA(R.Attrs(function(){return Spacebars.attrMustache(Spacebars.dot(e.lookup("."),"atts"))},{value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"value"))}}))}),H.__define__("afInput_plain",function(){var e=this;return R.INPUT(R.Attrs({type:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"type"))},value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(e.lookup("."),"atts"))}))}),H.__define__("afDeleteButton_plain",function(){var e=this;return Spacebars.TemplateWith(function(){return{collection:Spacebars.call(Spacebars.dot(e.lookup("."),"collection")),type:Spacebars.call("remove"),doc:Spacebars.call(Spacebars.dot(e.lookup("."),"doc")),id:Spacebars.call(Spacebars.dot(e.lookup("."),"id"))}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n  ",R.BUTTON(R.Attrs({type:"submit"},function(){return Spacebars.attrMustache(e.lookup("atts"))}),U.If(function(){return Spacebars.call(Spacebars.dot(e.lookup(".."),"contentBlock"))},function(){return Spacebars.include(function(){return Spacebars.call(Spacebars.dot(e.lookup(".."),"contentBlock"))})},function(){return"Delete"})),"\n  "]})})}),H.__define__("afQuickField_plain",function(){var e=this;return R.DIV({"class":function(){return U.If(function(){return Spacebars.dataMustache(e.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"atts","autoform")}))
},function(){return"has-error"})}},"\n    ",U.Unless(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"skipLabel"))},function(){return["\n    ",Spacebars.TemplateWith(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"afFieldLabelAtts"))},function(){return Spacebars.include(e.lookupTemplate("afFieldLabel"))}),"\n    "]}),"\n    ",Spacebars.TemplateWith(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"afFieldInputAtts"))},function(){return Spacebars.include(e.lookupTemplate("afFieldInput"))}),"\n    ",R.SPAN(U.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"atts","autoform")})))})),"\n  ")}),H.__define__("afObjectField_plain",function(){var e=this;return R.FIELDSET("\n    ",R.LEGEND(U.View(function(){return Spacebars.mustache(e.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name")}))})),"\n    ",U.Each(function(){return Spacebars.dataMustache(e.lookup("afFieldNames"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),fields:Spacebars.dot(e.lookup("."),"atts","fields"),omitFields:Spacebars.dot(e.lookup("."),"atts","omitFields")}))},function(){return["\n      ",Spacebars.TemplateWith(function(){return{name:Spacebars.call(e.lookup(".")),options:Spacebars.call("auto"),fields:Spacebars.call(Spacebars.dot(e.lookup(".."),"atts","fields")),omitFields:Spacebars.call(Spacebars.dot(e.lookup(".."),"atts","omitFields"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n    "]}),"\n  ")}),H.__define__("afArrayField_plain",function(){var e=this;return R.FIELDSET("\n    ",R.LEGEND(U.View(function(){return Spacebars.mustache(e.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name")}))})),"\n    ",U.If(function(){return Spacebars.dataMustache(e.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"autoform")}))},function(){return["\n    ",R.DIV({"class":"autoform-array-field-error"},"\n      ",U.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"autoform")})))}),"\n    "),"\n    "]}),"\n    ",Spacebars.TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(e.lookup("."),"atts","name")),minCount:Spacebars.call(Spacebars.dot(e.lookup("."),"atts","minCount")),maxCount:Spacebars.call(Spacebars.dot(e.lookup("."),"atts","maxCount"))}},function(){return Spacebars.include(e.lookupTemplate("afEachArrayItem"),function(){return["\n    ",R.DIV({"class":"autoform-array-item"},"\n      ",Spacebars.TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(e.lookup("."),"name")),label:Spacebars.call(!1)}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n      ",U.If(function(){return Spacebars.dataMustache(e.lookup("afArrayFieldHasMoreThanMinimum"),Spacebars.kw({name:Spacebars.dot(e.lookup(".."),"atts","name"),autoform:Spacebars.dot(e.lookup(".."),"autoform"),minCount:Spacebars.dot(e.lookup(".."),"atts","minCount"),maxCount:Spacebars.dot(e.lookup(".."),"atts","maxCount")}))},function(){return["\n      ",R.BUTTON({"class":"autoform-remove-item"},"Remove"),"\n      "]}),"\n    "),"\n    "]})}),"\n    ",U.If(function(){return Spacebars.dataMustache(e.lookup("afArrayFieldHasLessThanMaximum"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name"),autoform:Spacebars.dot(e.lookup("."),"autoform"),minCount:Spacebars.dot(e.lookup("."),"atts","minCount"),maxCount:Spacebars.dot(e.lookup("."),"atts","maxCount")}))},function(){return["\n    ",R.DIV({style:"margin-top: 20px;"},"\n      ",R.BUTTON({"class":"autoform-add-item","data-autoform-field":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"atts","name"))},"data-autoform-mincount":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"atts","minCount"))},"data-autoform-maxcount":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"atts","maxCount"))}},"Add"),"\n    "),"\n    "]}),"\n  ")})}.call(this),function(){H.afFieldLabel_plain.atts=function(){var e=Y.clone(this||{}).atts,t=Y.omit(e,"name","autoform","template");return t["for"]=t["for"]||e.name,t},H.afDeleteButton_plain.atts=function(){var e=this||{};return Y.omit(e,"_af","collection","doc","contentBlock","type","id")},H.quickForm_plain.submitButtonAtts=function(){var e=this.atts,t={type:"submit"};return"string"==typeof e.buttonClasses&&(t["class"]=e.buttonClasses),t},H.quickForm_plain.qfNeedsButton=function(){var e=this._af.submitType;return"readonly"!==e&&"disabled"!==e},H.afCheckbox_plain.atts=H.afRadio_plain.atts=function(){var e=Y.clone(this.atts);return this.selected&&(e.checked=""),e},H.afSelect_plain.optionAtts=function(){var e=this,t={value:e.value};return e.selected&&(t.selected=""),t}}.call(this),function(){H.__define__("quickForm_plain-fieldset",function(){var e=this;return Spacebars.TemplateWith(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"qfAutoFormContext"))},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n    ",R.FIELDSET("\n      ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(e.lookup(".."),"atts","legend"))},function(){return["\n      ",R.LEGEND(U.View(function(){return Spacebars.mustache(e.lookup("."))})),"\n      "]}),"\n      ",U.Each(function(){return Spacebars.dataMustache(e.lookup("afFieldNames"),Spacebars.kw({fields:Spacebars.dot(e.lookup(".."),"atts","fields"),omitFields:Spacebars.dot(e.lookup(".."),"atts","omitFields")}))},function(){return["\n        ",Spacebars.TemplateWith(function(){return{name:Spacebars.call(e.lookup(".")),options:Spacebars.call("auto"),fields:Spacebars.call(Spacebars.dot(e.lookup("..."),"atts","fields")),omitFields:Spacebars.call(Spacebars.dot(e.lookup("..."),"atts","omitFields"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n      "]}),"\n    "),"\n    ",U.If(function(){return Spacebars.call(e.lookup("qfNeedsButton"))},function(){return["\n    ",R.DIV("\n      ",R.BUTTON(R.Attrs(function(){return Spacebars.attrMustache(e.lookup("submitButtonAtts"))}),"\n        ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(e.lookup(".."),"atts","buttonContent"))},function(){return["\n        ",U.View(function(){return Spacebars.mustache(e.lookup("."))}),"\n        "]},function(){return"\n        Submit\n        "}),"\n      "),"\n    "),"\n    "]}),"\n  "]})})})}.call(this),function(){H["quickForm_plain-fieldset"].submitButtonAtts=function(){var e=this.atts,t={type:"submit"};return"string"==typeof e.buttonClasses&&(t["class"]=e.buttonClasses),t},H["quickForm_plain-fieldset"].qfNeedsButton=function(){var e=this._af.submitType;return"readonly"!==e&&"disabled"!==e}}.call(this),function(){H.__define__("afFieldLabel_plain-span",function(){var e=this;return R.SPAN(R.Attrs(function(){return Spacebars.attrMustache(e.lookup("atts"))}),U.View(function(){return Spacebars.mustache(e.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name")}))}))})}.call(this),function(){H["afFieldLabel_plain-span"].atts=function(){var e=(this||{}).atts;return Y.omit(e,"name","autoform","template")}}.call(this),function(){H.__define__("autoForm",function(){var e=this;return R.FORM(R.Attrs(function(){return Spacebars.attrMustache(e.lookup("atts"))}),"\n  	",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("innerContext"),e.lookup(".."))},function(){return["\n    ",U.InOuterTemplateScope(e,function(){return Spacebars.TemplateWith(function(){return Spacebars.call(e.lookup("."))},function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})})}),"\n    "]}),"\n  ")}),H.__define__("quickForm",function(){var e=this;return Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("getTemplate"),"quickForm",Spacebars.dot(e.lookup("."),"template"))},function(){return["\n    ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("innerContext"),e.lookup(".."))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("..")),"\n    "]}),"\n  "]})}),H.__define__("afDeleteButton",function(){var e=this;return Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("getTemplate"),"afDeleteButton",Spacebars.dot(e.lookup("."),"template"))},function(){return["\n    ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("innerContext"),e.lookup(".."),e.templateContentBlock)},function(){return["\n      ",Spacebars.include(e.lookupTemplate("..")),"\n    "]}),"\n  "]})}),H.__define__("afQuickField",function(){var e=this;return["\n  ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("_af_findAutoForm"),"afQuickField",e.lookup(".."),e.lookup("..."),e.lookup("...."),e.lookup("....."),e.lookup("......"))},function(){return["\n    ",U.If(function(){return Spacebars.dataMustache(e.lookup("isGroup"),Spacebars.kw({autoform:e.lookup("."),atts:e.lookup("..")}))},function(){return["\n      ",Spacebars.TemplateWith(function(){return Spacebars.call(e.lookup(".."))},function(){return Spacebars.include(e.lookupTemplate("afObjectField"))}),"\n    "]},function(){return["\n      ",U.If(function(){return Spacebars.dataMustache(e.lookup("isFieldArray"),Spacebars.kw({autoform:e.lookup("."),atts:e.lookup("..")}))},function(){return["\n        ",Spacebars.TemplateWith(function(){return Spacebars.call(e.lookup(".."))},function(){return Spacebars.include(e.lookupTemplate("afArrayField"))}),"\n      "]},function(){return["\n        ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("innerContext"),Spacebars.kw({autoform:e.lookup("."),atts:e.lookup("..")}))},function(){return["\n          ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("getTemplate"),"afQuickField",Spacebars.dot(e.lookup("..."),"template"),Spacebars.dot(e.lookup("..."),"name"),e.lookup(".."))},function(){return["\n            ",Spacebars.With(function(){return Spacebars.call(e.lookup(".."))},function(){return["\n            ",Spacebars.include(e.lookupTemplate("..")),"\n            "]}),"\n          "]}),"\n        "]}),"\n      "]}),"\n    "]}),"\n  "]})]}),H.__define__("afObjectField",function(){var e=this;return["\n  ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("_af_findAutoForm"),"afObjectField",e.lookup(".."),e.lookup("..."),e.lookup("...."),e.lookup("....."),e.lookup("......"))},function(){return["\n    ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("getTemplate"),"afObjectField",Spacebars.dot(e.lookup(".."),"template"),Spacebars.dot(e.lookup(".."),"name"),e.lookup("."))},function(){return["\n      ",Spacebars.With(function(){return{autoform:Spacebars.call(e.lookup("..")),atts:Spacebars.call(e.lookup("..."))}},function(){return["\n        ",Spacebars.include(e.lookupTemplate("..")),"\n      "]}),"\n    "]}),"\n  "]})]}),H.__define__("afArrayField",function(){var e=this;return["\n  ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("_af_findAutoForm"),"afArrayField",e.lookup(".."),e.lookup("..."),e.lookup("...."),e.lookup("....."),e.lookup("......"))},function(){return["\n    ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("getTemplate"),"afArrayField",Spacebars.dot(e.lookup(".."),"template"),Spacebars.dot(e.lookup(".."),"name"),e.lookup("."))},function(){return["\n      ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("innerContext"),Spacebars.kw({autoform:e.lookup(".."),atts:e.lookup("...")}))},function(){return["\n        ",Spacebars.include(e.lookupTemplate("..")),"\n      "]}),"\n    "]}),"\n  "]})]}),H.__define__("afFieldInput",function(){var e=this;return["\n  ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("_af_findAutoForm"),"afFieldInput",e.lookup(".."),e.lookup("..."),e.lookup("...."),e.lookup("....."),e.lookup("......"))},function(){return["\n	  ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("innerContext"),Spacebars.kw({autoform:e.lookup("."),atts:e.lookup("..")}))},function(){return["\n	    ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("getTemplate"),e.lookup("getTemplateType"),Spacebars.dot(e.lookup("..."),"template"),Spacebars.dot(e.lookup("..."),"name"),e.lookup(".."))},function(){return["\n        ",Spacebars.With(function(){return Spacebars.call(e.lookup(".."))},function(){return["\n        ",Spacebars.include(e.lookupTemplate("..")),"\n        "]}),"\n	    "]}),"\n	  "]}),"\n  "]})]}),H.__define__("afFieldSelect",function(){var e=this;return["\n  ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("_af_findAutoForm"),"afFieldSelect",e.lookup(".."),e.lookup("..."),e.lookup("...."),e.lookup("....."),e.lookup("......"))},function(){return["\n	  ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("innerContext"),Spacebars.kw({autoform:e.lookup("."),atts:e.lookup(".."),contentBlock:e.templateContentBlock}))},function(){return["\n	    ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("getTemplate"),"afFieldSelect",Spacebars.dot(e.lookup("..."),"template"),Spacebars.dot(e.lookup("..."),"name"),e.lookup(".."))},function(){return["\n	      ",Spacebars.With(function(){return Spacebars.call(e.lookup(".."))},function(){return["\n        ",Spacebars.include(e.lookupTemplate("..")),"\n        "]}),"\n	    "]}),"\n	  "]}),"\n  "]})]}),H.__define__("afFieldLabel",function(){var e=this;return["\n  ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("_af_findAutoForm"),"afFieldLabel",e.lookup(".."),e.lookup("..."),e.lookup("...."),e.lookup("....."),e.lookup("......"))},function(){return["\n    ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("getTemplate"),"afFieldLabel",Spacebars.dot(e.lookup(".."),"template"),Spacebars.dot(e.lookup(".."),"name"),e.lookup("."))},function(){return["\n      ",Spacebars.With(function(){return{autoform:Spacebars.call(e.lookup("..")),atts:Spacebars.call(e.lookup("..."))}},function(){return["\n        ",Spacebars.include(e.lookupTemplate("..")),"\n      "]}),"\n    "]}),"\n  "]})]}),H.__define__("afEachArrayItem",function(){var e=this;return["\n  \n  ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("_af_findAutoForm"),"afEachArrayItem",e.lookup(".."),e.lookup("..."),e.lookup("...."),e.lookup("....."),e.lookup("......"))},function(){return["\n    ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("innerContext"),Spacebars.kw({autoform:e.lookup("."),atts:e.lookup("..")}))},function(){return["\n      ",U.Each(function(){return Spacebars.call(e.lookup("."))},function(){return["\n      ",U.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"removed"))},function(){return["\n      ",R.INPUT({type:"hidden",name:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"name"))},"data-schema-key":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"name"))},"data-null-value":"true",value:""}),"\n      "]},function(){return["\n      ",U.InOuterTemplateScope(e,function(){return Spacebars.TemplateWith(function(){return Spacebars.call(e.lookup("."))},function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})})}),"\n      "]}),"\n      "]}),"\n    "]}),"\n  "]})]})}.call(this),function(){t={cleanNulls:function n(r,o){var a=o?[]:{};return Y.each(r,function(r,o){!Y.isArray(r)&&e(r)?(r=n(r,!1),Y.isEmpty(r)||(a[o]=r)):Y.isArray(r)?(r=n(r,!0),Y.isEmpty(r)||(a[o]=r)):t.isNullUndefinedOrEmptyString(r)||(a[o]=r)}),a},reportNulls:function(e){var n={};return Y.each(e,function(e,r){t.isNullUndefinedOrEmptyString(e)?n[r]="":Y.isArray(e)&&0===t.cleanNulls(e,!0).length&&(n[r]="")}),n},docToModifier:function(e){var n={},r=new O(e),o=r.getFlatObject({keepArrays:!0});r=null;var a=t.reportNulls(o);return o=t.cleanNulls(o),Y.isEmpty(o)||(n.$set=o),Y.isEmpty(a)||(n.$unset=a),n},getSelectValues:function(e){for(var t,n=[],r=e&&e.options||[],o=0,a=r.length;a>o;o++)t=r[o],t.selected&&n.push(t.value||t.text);return n},maybeNum:function(e){var t=parseFloat(e);return isNaN(t)?e:t},lookup:function(e){var t,n=window;if("string"==typeof e){for(t=e.split(".");t.length&&(n=n[t.shift()]););if(!n)throw new Error(e+" is not in the window scope");return n}return e},getDefs:function(e,t){if("string"!=typeof t)throw new Error("Invalid field name: (not a string)");var n=e.schema(t);if(!n)throw new Error("Invalid field name: "+t);return n},objAffectsKey:function(e,t){var n=new O(e);return n.affectsKey(t)},expandObj:function(e){var t,n,r,o,a,i={};return Y.each(e,function(e,s){t=s.split("."),r=t.length,a=i;for(var u=0;r>u&&(n=t[u],"undefined"==typeof a[n]||Y.isObject(a[n]));u++)u===r-1?a[n]=e:(o=t[u+1],o=parseInt(o,10),isNaN(o)&&!Y.isObject(a[n])?a[n]={}:isNaN(o)||Y.isArray(a[n])||(a[n]=[])),a=a[n]}),i},compactArrays:function r(e){Y.isObject(e)&&Y.each(e,function(t,n){Y.isArray(t)?(e[n]=Y.without(t,void 0,null),Y.each(e[n],function(e){r(e)})):t instanceof Date||!Y.isObject(t)||r(t)})},getSimpleSchemaFromContext:function(e,n){var r=t.lookup(e.schema);if(r){if(r instanceof A)return r;throw new Error('AutoForm: schema attribute for form with id "'+n+'" is not a SimpleSchema instance')}var o=t.lookup(e.collection);if(o){if(o instanceof I.Collection){if("function"==typeof o.simpleSchema)return o.simpleSchema();throw new Error('AutoForm: collection attribute for form with id "'+n+'" refers to a collection that does not have a schema. You might have forgotten to attach a schema to the collection or you might need to add the collection2 package to your app.')}throw new Error('AutoForm: collection attribute for form with id "'+n+'" is not a Meteor.Collection instance')}throw new Error('AutoForm: form with id "'+n+'" needs either "schema" or "collection" attribute')},isNullUndefinedOrEmptyString:function(e){return void 0===e||null===e||"string"==typeof e&&0===e.length},isValidDateString:function(e){var t=V(e,"YYYY-MM-DD",!0);return t&&t.isValid()},isValidTimeString:function(e){if("string"!=typeof e)return!1;var t=/^[0-2][0-9]:[0-5][0-9](:[0-5][0-9](\.[0-9]{1,3})?)?$/;return t.test(e)},dateToDateString:function(e){var t=e.getMonth()+1;10>t&&(t="0"+t);var n=e.getDate();return 10>n&&(n="0"+n),e.getFullYear()+"-"+t+"-"+n},dateToDateStringUTC:function(e){var t=e.getUTCMonth()+1;10>t&&(t="0"+t);var n=e.getUTCDate();return 10>n&&(n="0"+n),e.getUTCFullYear()+"-"+t+"-"+n},dateToNormalizedForcedUtcGlobalDateAndTimeString:function(e){return V(e).utc().format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},isValidNormalizedForcedUtcGlobalDateAndTimeString:function(e){if("string"!=typeof e)return!1;var n=e.substring(0,10),r=e.substring(10,11),o=e.substring(11,e.length-1),a=e.substring(e.length-1);return t.isValidDateString(n)&&"T"===r&&t.isValidTimeString(o)&&"Z"===a},dateToNormalizedLocalDateAndTimeString:function(e,t){var n=V(e);return n.zone(t),n.format("YYYY-MM-DD[T]hh:mm:ss.SSS")},isValidNormalizedLocalDateAndTimeString:function(e){if("string"!=typeof e)return!1;var n=e.substring(0,10),r=e.substring(10,11),o=e.substring(11,e.length);return t.isValidDateString(n)&&"T"===r&&t.isValidTimeString(o)},normalizeContext:function(e,n){e=e||{};var r=e.atts||e,o=r.autoform||e.autoform;if(!o||!o._af)throw new Error(n+" must be used within an autoForm block");var a=t.getDefs(o._af.ss,r.name);if(a.type===Array)var i=t.getDefs(o._af.ss,r.name+".$"),s=i.allowedValues;else var s=a.allowedValues;var u=a.autoform||{};return"afFieldLabel"===n?Y.has(r,"options")&&delete r.options:(u.options&&"auto"===r.options&&delete r.options,r=Y.extend({},u,r),"auto"===r.options&&(s?r.options="allowed":delete r.options)),{afc:o,af:o._af,atts:r,defs:a}},stringToArray:function(e,t){if("string"==typeof e)return e.replace(/ /g,"").split(",");if(Y.isArray(e))return e;throw new Error(t)}},"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var e=function(e){return Y.isObject(e)&&Object.getPrototypeOf(e)===Object.prototype}}.call(this),function(){n=function(e){var t=this;if(!Y.isString(e))throw Error("You must define an unique migration name of type String");if(t.registeredForms={},t.retrievedDocuments={},Package.reload){var n=Package.reload.Reload;t.retrievedDocuments=n._migrationData(e)||{},n._onMigrate(e,function(){return[!0,t._retrieveRegisteredDocuments()]})}},n.prototype.getDocument=function(e){var t=this;return Y.has(t.retrievedDocuments,e)?t.retrievedDocuments[e]:!1},n.prototype.saveDocument=function(e){this.retrievedDocuments[e]=this.registeredForms[e]()},n.prototype.registerForm=function(e,t){this.registeredForms[e]=t},n.prototype.unregisterForm=function(e){delete this.registeredForms[e]},n.prototype._retrieveRegisteredDocuments=function(){return r={},Y.each(this.registeredForms,function(e,t){r[t]=e()}),r}}.call(this),function(){o={form:{},global:{before:{},after:{},formToDoc:[],docToForm:[],onSubmit:[],onSuccess:[],onError:[],beginSubmit:[],endSubmit:[]}},o.addHooksToList=function(e,t,n){t.before&&Y.each(t.before,function(t,r){if("function"!=typeof t)throw new Error("AutoForm before hook must be a function, not "+typeof t);e.before[r]=!n&&e.before[r]?e.before[r]:[],e.before[r].push(t)}),t.after&&Y.each(t.after,function(t,r){if("function"!=typeof t)throw new Error("AutoForm after hook must be a function, not "+typeof t);e.after[r]=!n&&e.after[r]?e.after[r]:[],e.after[r].push(t)}),Y.each(["formToDoc","docToForm","onSubmit","onSuccess","onError","beginSubmit","endSubmit"],function(r){if(t[r]){if("function"!=typeof t[r])throw new Error("AutoForm "+r+" hook must be a function, not "+typeof t[r]);n&&(e[r]=[]),e[r].push(t[r])}})},o.getHooks=function(e,t,n){var r,a;return n?(r=o.form[e]&&o.form[e][t]&&o.form[e][t][n]||[],a=o.global[t]&&o.global[t][n]||[]):(r=o.form[e]&&o.form[e][t]||[],a=o.global[t]||[]),r.concat(a)}}.call(this),function(){a={"select.autoform-boolean":function(){var e=this.val();return"true"===e?!0:"false"===e?!1:void 0},"select[multiple]":function(){return t.getSelectValues(this[0])},select:function(){return this.val()},"input.autoform-boolean[type=checkbox]":function(){return this.is(":checked")},"input.autoform-array-item[type=checkbox]":function(){return this.is(":checked")?this.val():void 0},"input.autoform-boolean[type=radio]":function(){var e=this.val();if(this.is(":checked")){if("true"===e)return!0;if("false"===e)return!1}},"input[type=radio]":function(){return this.is(":checked")?this.val():void 0},"input.autoform-boolean[type=hidden]":function(){var e=this.val();return"true"===e?!0:"false"===e?!1:void 0},"[type=select]":function(){return t.maybeNum(this.val())},"input[type=date]":function(){var e=this.val();return t.isValidDateString(e)?new Date(e):null},"input[type=datetime]":function(){var e=this.val();return e="string"==typeof e?e.replace(/ /g,"T"):e,t.isValidNormalizedForcedUtcGlobalDateAndTimeString(e)?new Date(e):null},"input[type=datetime-local]":function(){var e=this.val();e="string"==typeof e?e.replace(/ /g,"T"):e;var n=this.attr("data-offset")||"Z";return t.isValidNormalizedLocalDateAndTimeString(e)?new Date(e+n):null},"[contenteditable]":function(){return this.html()},"[data-null-value]":function(){return null},"[data-schema-key]":function(){return this.val()}}}.call(this),function(){i=function(){var e=this;e.forms={}},i.prototype.initForm=function(e){var t=this;t.forms[e]||(t.forms[e]={sourceDoc:null,deps:{sourceDoc:new F.Dependency}})},i.prototype.sourceDoc=function(e,t){var n=this;return n.initForm(e),t?(n.forms[e].sourceDoc=t,void n.forms[e].deps.sourceDoc.changed()):(n.forms[e].deps.sourceDoc.depend(),n.forms[e].sourceDoc)},i.prototype.getDocCountForField=function(e,t){var n,r=this,o=r.sourceDoc(e);if(o){var a=o.getInfoForKey(t);a&&Y.isArray(a.value)&&(n=a.value.length)}return n}}.call(this),function(){s=function(){var e=this;e.info={}},s.prototype.getMinMax=function(e,n,r,o){var a=t.getDefs(e,n);r=r||0;var i=a.minCount||0;i=Math.max(r,i),o=o||1/0;var s=a.maxCount||1/0;return s=Math.min(o,s),{minCount:i,maxCount:s}},s.prototype.initForm=function(e){var t=this;t.info[e]||(t.info[e]={})},s.prototype.getForm=function(e){var t=this;return t.initForm(e),t.info[e]},s.prototype.ensureField=function(e,t){var n=this;n.initForm(e),n.info[e][t]||n.resetField(e,t)},s.prototype.initField=function(t,n,r,o,a,i){var s=this;if(s.ensureField(t,n),null==s.info[t][n].array){var c=s.getMinMax(r,n,a,i),l=Math.max(c.minCount,o||1),d=[];r.schema(n+".$").type===Object&&(d=u(r,n+".$"));for(var p=[],f=0;l>f;f++){var h=e(t,n,f,d,a,i);p.push(h)}s.info[t][n].array=p;var m=p.length;s.info[t][n].count=m,s.info[t][n].visibleCount=m,s.info[t][n].deps.changed()}},s.prototype.resetField=function(e,t){var n=this;n.initForm(e),n.info[e][t]||(n.info[e][t]={deps:new F.Dependency}),n.info[e][t].array=null,n.info[e][t].count=0,n.info[e][t].visibleCount=0,n.info[e][t].deps.changed()},s.prototype.resetForm=function(e){var t=this;Y.each(t.info[e],function(n,r){t.resetField(e,r)})},s.prototype.untrackForm=function(e){var t=this;t.info[e]={}},s.prototype.tracksField=function(e,t){var n=this;return n.ensureField(e,t),n.info[e][t].deps.depend(),!!n.info[e][t].array},s.prototype.getField=function(e,t){var n=this;return n.ensureField(e,t),n.info[e][t].deps.depend(),n.info[e][t].array},s.prototype.getCount=function(e,t){var n=this;return n.ensureField(e,t),n.info[e][t].deps.depend(),n.info[e][t].count},s.prototype.getVisibleCount=function(e,t){var n=this;return n.ensureField(e,t),n.info[e][t].deps.depend(),n.info[e][t].visibleCount},s.prototype.isFirstFieldlVisible=function(e,t,n){var r=this;r.ensureField(e,t),r.info[e][t].deps.depend();var o=Y.find(r.info[e][t].array,function(e){return!e.removed});return o&&o.index===n},s.prototype.isLastFieldlVisible=function(e,t,n){var r=this;r.ensureField(e,t),r.info[e][t].deps.depend();var o=Y.last(Y.filter(r.info[e][t].array,function(e){return!e.removed}));return o&&o.index===n},s.prototype.addOneToField=function(t,n,r,o,a){var i=this;if(i.ensureField(t,n),i.info[t][n].array){var s=i.info[t][n].visibleCount,c=i.getMinMax(r,n,o,a).maxCount;if(c>s){var l=i.info[t][n].array.length,d=[];r.schema(n+".$").type===Object&&(d=u(r,n+".$"));var p=e(t,n,l,d,o,a);i.info[t][n].array.push(p),i.info[t][n].count++,i.info[t][n].visibleCount++,i.info[t][n].deps.changed()}}},s.prototype.removeFromFieldAtIndex=function(e,t,n,r,o,a){var i=this;if(i.ensureField(e,t),i.info[e][t].array){var s=i.info[e][t].visibleCount,u=i.getMinMax(r,t,o,a).minCount;s>u&&(i.info[e][t].array[n].removed=!0,i.info[e][t].count--,i.info[e][t].visibleCount--,i.info[e][t].deps.changed())}},u=function(e,t){t=A._makeGeneric(t);var n=t+".",r=[];return Y.each(e._schemaKeys,function(e){if(0===e.indexOf(n)){var t=e.slice(n.length);-1===t.indexOf(".")&&r.push(t)}}),r};var e=function(e,t,n,r,o,a){var i={formId:e,arrayFieldName:t,name:t+"."+n,index:n,minCount:o,maxCount:a};return r.length&&(i.current={},Y.each(r,function(e){i.current[e]=t+"."+n+"."+e})),i}}.call(this),function(){function r(e,t){e=Y.omit(e,"label");var n={name:e.name,template:e.template,autoform:t};return Y.each(e,function(e,t){0===t.indexOf("label-")&&(n[t.substring(6)]=e)}),n}function u(e,t){e=Y.omit(e,"label");var n={autoform:t};return Y.each(e,function(e,t){0!==t.indexOf("label-")&&(n[t]=e)}),n}function M(e){var t={};return e.each(function(){var e=$(this),n=e.attr("data-schema-key");Y.every([g,a],function(r){return Y.every(r,function(r,o){if(1===e.filter(o).length){var a=e.hasClass("autoform-array-item");a&&(Y.isArray(t[n])||(t[n]=[]));var i=r.call(e);return void 0!==i&&(a?t[n].push(i):t[n]=i),!1}return!0})})}),t}function L(e,n,r,o,a,i,s){function u(e){if(!(e instanceof Date))return e.toString?e.toString():e;if(a instanceof Date){if("datetime"===o)return t.dateToNormalizedForcedUtcGlobalDateAndTimeString(e);if("datetime-local"===o){var r=n.offset||"Z";return t.dateToNormalizedLocalDateAndTimeString(e,r)}return t.dateToDateStringUTC(e)}}if("undefined"==typeof a)if(i){var c=i.getInfoForKey(e);c&&(a=c.value)}else null!==s&&void 0!==s&&(a=s);return a=null==a?"":a,r&&!Y.isArray(a)&&(a="string"==typeof a?a.split(","):[a]),a=Y.isArray(a)?Y.map(a,function(e){return u(e)}):u(a),("boolean-radios"===o||"boolean-select"===o||"boolean-checkbox"===o)&&(a="true"===a?!0:!1),a}function D(e,n,r,o,a,i,s){function u(){return[{name:v.name,value:"false",_id:"false",selected:!r,label:g,atts:l},{name:v.name,value:"true",_id:"true",selected:r,label:m,atts:l}]}var c=e.type,l=Y.omit(n,"autoform","value","firstOption","radio","select","noselect","trueLabel","falseLabel","options","offset","timezoneId","template");"undefined"!=typeof l.required||e.optional||(l.required=""),"disabled"===s?l.disabled="":"readonly"===s&&(l.readonly="");var d="function"==typeof e.min?e.min():e.min,p="function"==typeof e.max?e.max():e.max;"datetime-local"===o&&(l["data-offset"]=n.offset||"Z",l["data-timezoneId"]=n.timezoneId||"UTC");var f=n.firstOption,h=(n.radio,n.select,n.noselect),m=n.trueLabel||"True",g=n.falseLabel||"False",_=n.options;"allowed"===_?_=Y.map(e.allowedValues,function(e){var t=e;return n.capitalize&&e.length>0&&c===String&&(t=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()),{label:t,value:e}}):"function"==typeof _&&(_=_()),"schemaLabel"===n.placeholder&&(l.placeholder=a),Y.each(["disabled","readonly","checked","required","autofocus"],function(e){Y.has(n,e)&&(n[e]===!0||"true"===n[e]||""===n[e]?l[e]="":delete l[e])}),l["data-schema-key"]=l.name;var v={};if(v.name=l.name,v.expectsArray=i,_)v.items=[],h&&i&&(l["class"]=(l["class"]||"")+" autoform-array-item"),h||(l.autocomplete="off",i&&(l.multiple=""),f&&!i&&v.items.push({name:v.name,label:f,value:"",_id:"",selected:!1,atts:l})),Y.each(_,function(e){var t=i?Y.contains(r,e.value.toString()):e.value.toString()===r.toString();v.items.push({name:v.name,label:e.label,value:e.value,_id:e.value,selected:t,atts:l})});else if("textarea"===o)"undefined"==typeof l.maxlength&&"number"==typeof p&&(l.maxlength=p),v.value=r;else if("contenteditable"===o)"undefined"==typeof l["data-maxlength"]&&"number"==typeof p&&(l["data-maxlength"]=p),v.value=r;else if("boolean-radios"===o||"boolean-select"===o||"boolean-checkbox"===o)l["class"]=(l["class"]||"")+" autoform-boolean","boolean-radios"===o||"boolean-select"===o?v.items=u():(delete l.required,v.value="true",v.selected=r);else{switch(o){case"number":"undefined"==typeof l.max&&"number"==typeof p&&(l.max=p),"undefined"==typeof l.min&&"number"==typeof d&&(l.min=d),"undefined"==typeof l.step&&e.decimal&&(l.step="0.01");break;case"date":"undefined"==typeof l.max&&p instanceof Date&&(l.max=t.dateToDateStringUTC(p)),"undefined"==typeof l.min&&d instanceof Date&&(l.min=t.dateToDateStringUTC(d));break;case"datetime":"undefined"==typeof l.max&&p instanceof Date&&(l.max=t.dateToNormalizedForcedUtcGlobalDateAndTimeString(p)),"undefined"==typeof l.min&&d instanceof Date&&(l.min=t.dateToNormalizedForcedUtcGlobalDateAndTimeString(d));break;case"datetime-local":"undefined"==typeof l.max&&p instanceof Date&&(l.max=t.dateToNormalizedLocalDateAndTimeString(p,l["data-offset"])),"undefined"==typeof l.min&&d instanceof Date&&(l.min=t.dateToNormalizedLocalDateAndTimeString(d,l["data-offset"]));break;case"hidden":c===Boolean&&(l["class"]=(l["class"]||"")+" autoform-boolean")}"undefined"==typeof l.maxlength&&"number"==typeof p&&Y.contains(["text","email","search","password","tel","url"],o)&&(l.maxlength=p),v.type=o,v.value=r}return v.atts=l,v}function P(e,t,n){var r=t.type,o="text";return e.type?o=e.type:e.options?o=e.noselect?n?"select-checkbox":"select-radio":"select":r===String&&t.regEx===A.RegEx.Email?o="email":r===String&&t.regEx===A.RegEx.Url?o="url":r===String&&e.rows?o="textarea":r===Number?o="number":r===Date?o="date":r===Boolean&&(o=e.radio?"boolean-radios":e.select?"boolean-select":"boolean-checkbox"),o
}function C(e){var t={select:"afSelect","select-checkbox":"afCheckboxGroup","select-radio":"afRadioGroup",textarea:"afTextarea",contenteditable:"afContenteditable","boolean-radios":"afRadioGroup","boolean-select":"afSelect","boolean-checkbox":"afCheckbox"},n="afInput";return t[e]||n}c="_afGenericID",l=new n("autoforms"),d={},p={},f={},h={};var E=new i;m=new s,g={},_="bootstrap3",v={quickForm:null,afFieldLabel:null,afFieldSelect:null,afCheckboxGroup:null,afRadioGroup:null,afSelect:null,afTextarea:null,afContenteditable:null,afCheckbox:null,afRadio:null,afInput:null,afDeleteButton:null,afQuickField:null,afObjectField:null,afArrayField:null},y={defaultTemplate:new F.Dependency,defaultTypeTemplates:{quickForm:new F.Dependency,afFieldLabel:new F.Dependency,afFieldSelect:new F.Dependency,afCheckboxGroup:new F.Dependency,afRadioGroup:new F.Dependency,afSelect:new F.Dependency,afTextarea:new F.Dependency,afContenteditable:new F.Dependency,afCheckbox:new F.Dependency,afRadio:new F.Dependency,afInput:new F.Dependency,afDeleteButton:new F.Dependency,afQuickField:new F.Dependency,afObjectField:new F.Dependency,afArrayField:new F.Dependency}},H.afFieldInput.getTemplate=H.afFieldLabel.getTemplate=H.afFieldSelect.getTemplate=H.afDeleteButton.getTemplate=H.afQuickField.getTemplate=H.afObjectField.getTemplate=H.afArrayField.getTemplate=H.quickForm.getTemplate=function(n,r,o,a){var i;if(o&&a){var s=t.getDefs(a._af.ss,o);r=r||s.autoform&&s.autoform.template}var u=e.getDefaultTemplateForType(n)||e.getDefaultTemplate();if(r){var i=H[n+"_"+r];i||console.warn(n+': "'+r+'" is not a valid template name. Falling back to default template, "'+u+'".')}if(!i&&(i=H[n+"_"+u],!i))throw new Error(n+': "'+u+'" is not a valid template name');return i},H.autoForm.atts=function(){var e=Y.clone(this);return"browser"===e.validation||e.novalidate||(e.novalidate="novalidate"),Y.omit(e,"schema","collection","validation","doc","resetOnSuccess","type","template")},H.autoForm.innerContext=function(e){var n=this,r=n.id||c,a=t.lookup(n.collection),i=t.getSimpleSchemaFromContext(n,r),s=l.getDocument(r);s!==!1&&(n.doc=s);var u;if(n.doc&&!Y.isEmpty(n.doc)){var p=Y.clone(n.doc);Y.each(o.getHooks(r,"docToForm"),function(e){p=e(p,i,r)}),u=new O(p),E.sourceDoc(r,u)}else E.sourceDoc(r,null);var f,h;n.autosave===!0&&"update"===n.type?(f=!0,h=!1):(f=!1,h=n.resetOnSuccess);var g={_af:{formId:r,collection:a,ss:i,ssIsOverride:!!a&&!!n.schema,doc:n.doc||null,mDoc:u,validationType:null==n.validation?"submitThenKeyup":n.validation,submitType:n.type,submitMethod:n.meteormethod,resetOnSuccess:h,autosave:f}};return d[r]=g._af,m.resetForm(r),Y.extend(g,e),g},H.autoForm.created=function(){var e=this,t=e.data.id||c;p[t]=e},H.autoForm.destroyed=function(){var e=this;e._notInDOM=!0;var t=e.data.id||c;p[t]&&delete p[t],d[t]&&delete d[t],m.untrackForm(t),f[t]&&delete f[t],l.unregisterForm(t)},B.registerHelper("quickForm",function(){throw new Error("Use the new syntax {{> quickForm}} rather than {{quickForm}}")}),H.quickForm.innerContext=function(e){var t=Y.omit(e,"buttonContent","buttonClasses","fields","omitFields");return{qfAutoFormContext:t,atts:e}},B.registerHelper("afFieldLabel",function(){throw new Error('Use the new syntax {{> afFieldLabel name="name"}} rather than {{afFieldLabel "name"}}')}),B.registerHelper("afFieldInput",function(){throw new Error('Use the new syntax {{> afFieldInput name="name"}} rather than {{afFieldInput "name"}}')}),H.afFieldInput.getTemplateType=function(){return C(this.type)},H.afFieldSelect.innerContext=H.afFieldInput.innerContext=function(e){var n=t.normalizeContext(e.hash,"afFieldInput and afFieldSelect"),r=e.hash.contentBlock;h[n.af.formId]=h[n.af.formId]||new F.Dependency,h[n.af.formId].depend();var o=n.af.ss,a=n.defs,i=!1,s=a.defaultValue;a.type===Array&&(a=o.schema(n.atts.name+".$"),i=!n.atts.type);var u=P(n.atts,a,i),c=L(n.atts.name,n.atts,i,u,n.atts.value,n.af.mDoc,s);w(n.af.formId,n.atts.name,c);var l=D(a,n.atts,c,u,o.label(n.atts.name),i,n.af.submitType,n.af);return Y.extend({_af:n.af,contentBlock:r,type:u},l)},B.registerHelper("afFieldSelect",function(){throw new Error('Use the new syntax {{> afFieldSelect name="name"}} rather than {{afFieldSelect "name"}}')}),B.registerHelper("afDeleteButton",function(){throw new Error("Use the syntax {{> afDeleteButton collection=collection doc=doc}}")}),H.afDeleteButton.innerContext=function(e,t){return Y.extend(e,{contentBlock:t})},B.registerHelper("afArrayField",function(){throw new Error('Use the syntax {{> afArrayField name="name"}} rather than {{afArrayField "name"}}')}),H.afArrayField.innerContext=function(e){var n=t.normalizeContext(e.hash,"afArrayField"),r=n.atts.name,o=n.atts.minCount||0,a=n.atts.maxCount||1/0,i=n.af.ss,s=n.af.formId,u=E.getDocCountForField(s,r);return m.initField(s,r,i,u,o,a),{atts:n.atts,autoform:n.afc}},B.registerHelper("afObjectField",function(){throw new Error('Use the syntax {{> afObjectField name="name"}} rather than {{afObjectField "name"}}')}),B.registerHelper("afQuickField",function(){throw new Error('Use the new syntax {{> afQuickField name="name"}} rather than {{afQuickField "name"}}')}),H.afQuickField.innerContext=function(e){var n=t.normalizeContext(e.hash,"afQuickField"),o=(n.af.ss,r(n.atts,n.afc)),a=u(n.atts,n.afc);return{skipLabel:!(n.atts.label!==!1&&(n.defs.type!==Boolean||"select"in n.atts||"radio"in n.atts)),afFieldLabelAtts:o,afFieldInputAtts:a,atts:{name:a.name,autoform:a.autoform}}},H.afQuickField.isGroup=function(e){var n=t.normalizeContext(e.hash,"afQuickField");return n.defs.type===Object&&!n.atts.options&&!n.atts.type},H.afQuickField.isFieldArray=function(e){var n=t.normalizeContext(e.hash,"afQuickField");return n.defs.type===Array&&!n.atts.options&&!n.atts.type},H.afEachArrayItem.innerContext=function(e){var n=t.normalizeContext(e.hash,"afEachArrayItem"),r=n.af.formId,o=n.atts.name,a=E.getDocCountForField(r,o);return m.initField(r,o,n.af.ss,a,n.atts.minCount,n.atts.maxCount),m.getField(r,o)},b=function(e,t){var n=M(e.$('[data-schema-key="'+t+'"], [data-schema-key^="'+t+'."]'));return n&&n[t]},k=function(e,n,r){var a=M(e.$("[data-schema-key]").not("[disabled]"));a=t.expandObj(a),t.compactArrays(a);var i=o.getHooks(n,"formToDoc");Y.each(i,function(e){a=e(a,r,n)});var s={insertDoc:r.clean(t.cleanNulls(a),{isModifier:!1,getAutoValues:!1}),updateDoc:r.clean(t.docToModifier(a),{isModifier:!0,getAutoValues:!1})};return s},w=function(e,t,n){f[e]=f[e]||{},f[e][t]=f[e][t]||{_deps:new F.Dependency},f[e][t]._val=n,f[e][t]._deps.changed()},S=function(e){var t=p[e];t&&Y.each(f[e],function(n,r){w(e,r,b(t,r))})},T=function(e){h[e]=h[e]||new F.Dependency,h[e].changed()}}.call(this),function(){function n(e,n,r){var o=(e||{}).hash||{},a=o.autoform&&o.autoform._af||n&&n._af||n&&n.autoform&&n.autoform._af,i=a.ss;if(!i)throw new Error(r+" helper must be used within an autoForm block");return o.name&&t.getDefs(i,o.name),Y.extend({},a,o)}B.registerHelper("afFieldMessage",function(e){if("string"==typeof e)throw new Error('Use the new syntax {{afFieldMessage name="name"}} rather than {{afFieldMessage "name"}}');return e=n(e,this,"afFieldMessage"),e.ss.namedContext(e.formId).keyErrorMessage(e.name)}),B.registerHelper("afFieldIsInvalid",function(e){if("string"==typeof e)throw new Error('Use the new syntax {{#if afFieldIsInvalid name="name"}} rather than {{#if afFieldIsInvalid "name"}}');return e=n(e,this,"afFieldIsInvalid"),e.ss.namedContext(e.formId).keyIsInvalid(e.name)}),B.registerHelper("afArrayFieldHasMoreThanMinimum",function(e){e=n(e,this,"afArrayFieldHasMoreThanMinimum");var t=m.getMinMax(e.ss,e.name,e.minCount,e.maxCount),r=m.getVisibleCount(e.formId,e.name);return r>t.minCount}),B.registerHelper("afArrayFieldHasLessThanMaximum",function(e){e=n(e,this,"afArrayFieldHasLessThanMaximum");var t=m.getMinMax(e.ss,e.name,e.minCount,e.maxCount),r=m.getVisibleCount(e.formId,e.name);return r<t.maxCount}),B.registerHelper("afFieldValueIs",function(t){t=n(t,this,"afFieldValueIs");var r=e.getFieldValue(t.formId,t.name);return r===t.value}),B.registerHelper("afArrayFieldIsFirstVisible",function(){var e=this;return m.isFirstFieldlVisible(e.formId,e.arrayFieldName,e.index)}),B.registerHelper("afArrayFieldIsLastVisible",function(){var e=this;return m.isLastFieldlVisible(e.formId,e.arrayFieldName,e.index)}),B.registerHelper("afFieldValueContains",function(t){t=n(t,this,"afFieldValueContains");var r=e.getFieldValue(t.formId,t.name);return Y.isArray(r)&&Y.contains(r,t.value)}),B.registerHelper("afFieldLabelText",function(e){return e=n(e,this,"afFieldLabelText"),e.ss.label(e.name)}),B.registerHelper("afFieldNames",function(e){e=n(e,this,"afFieldNames");var r=e.ss,o=e.name,a=e.fields;a?a=t.stringToArray(a,"AutoForm: fields attribute must be an array or a string containing a comma-delimited list of fields"):o?(a=u(r,o),a=Y.map(a,function(e){return o+"."+e})):a=r.firstLevelSchemaKeys()||[];var i=e.omitFields;return i&&(i=t.stringToArray(i,"AutoForm: omitFields attribute must be an array or a string containing a comma-delimited list of fields"),a=Y.difference(a,i),a=Y.reject(a,function(e){return Y.contains(i,A._makeGeneric(e))})),a=Y.filter(a,function(t){var n=r.schema(t);return n.denyInsert&&"insert"===e.submitType?!1:n.denyUpdate&&"update"===e.submitType?!1:!0}),a=Y.unique(a)}),B.registerHelper("_af_findAutoForm",function(e){var t,n=1;do t=arguments[n],n++;while(t&&!t._af);if(!t)throw new Error(e+" must be used within an autoForm block");return t})}.call(this),function(){M=function(e,t,n,r){if("none"===t.validationType)return!0;var o=r&&t.collection?t.collection.simpleSchema():t.ss;return"update"===t.submitType?L(n.updateDoc,!0,e,o):L(n.insertDoc,!1,e,o)},L=function(e,t,n,r,o){var a={userId:I.userId&&I.userId()||null,isInsert:!t,isUpdate:!!t,isUpsert:!1,isFromTrustedCode:!1},i=r.clean(Y.clone(e),{isModifier:t,filter:!1,autoConvert:!1,extendAutoValueContext:a});return o?r.namedContext(n).validateOne(i,o,{modifier:t,extendedCustomContext:a}):r.namedContext(n).validate(i,{modifier:t,extendedCustomContext:a})},D=function(e,n,r,o){if(n&&!n._notInDOM){var a=n.data,i=a.id||c,s=d[i],u=s.ss;if(!o||!u.namedContext(i).isValid()){var l=k(n,i,u);if("update"===s.submitType)var p=l.updateDoc,f=!0;else var p=l.insertDoc,f=!1;return r&&!t.objAffectsKey(p,e)?!0:L(p,f,i,u,e)}}};var e={},n={},r=!1;P=function(t,o,a,i){return e[t]===!1?(I.clearTimeout(n[t]),void(n[t]=I.setTimeout(function(){e[t]=!0,r||D(t,o,a,i)},300))):(e[t]=!1,void(r||D(t,o,a,i)))},C=function(){r=!0,I.setTimeout(function(){r=!1},500)},E=function(e,t,n){var r=t.namedContext(e);r.isValid()||n.$("[data-schema-key]").each(function(){var e=$(this);return r.keyIsInvalid(e.attr("data-schema-key"))?(e.focus(),!1):void 0})}}.call(this),function(){function t(e,t){if(t&&!t._notInDOM){var n=o.getHooks(e,"beginSubmit");if(n.length)Y.each(n,function(n){n(e,t)});else{var r=t.find("button[type=submit]")||t.find("input[type=submit]");r&&(r.disabled=!0)}}}function n(e,t){if(t&&!t._notInDOM){var n=o.getHooks(e,"endSubmit");if(n.length)Y.each(n,function(n){n(e,t)});else{var r=t.find("button[type=submit]")||t.find("input[type=submit]");r&&(r.disabled=!1)}}}H.autoForm.events({"submit form":function(r,a){function i(){r.preventDefault(),r.stopPropagation(),n(h,a)}function s(){E(h,S,a);var e,t=S.namedContext(h),n=t.invalidKeys();n?(n.length?(n=Y.map(n,function(e){return Y.extend({message:t.keyErrorMessage(e.name)},e)}),e=new Error(n[0].message)):e=new Error("form failed validation"),e.invalidKeys=n):e=new Error("form failed validation"),Y.each(N,function(t){t("pre-submit validation",e,a)}),i()}function u(t){var r=o.getHooks(h,"after",t);return function(o,i){o?(C(),E(h,S,a),Y.each(N,function(e){e(t,o,a)})):(A!==!1&&e.resetForm(h,a),Y.each(O,function(e){e(t,i,a)})),Y.each(r,function(e){e(o,i,a)}),n(h,a)}}function l(e,t,r,o,i){function s(t,u){if(x=r[t],!x)return void i(u);var c,l=function(e){if(e===!1)n(h,a);else{if(!Y.isObject(e))throw new Error(o+" must return an object");s(t+1,e)}},d={result:Y.once(l)};c=e?x.call(d,e,u,a):x.call(d,u,a),void 0!==c&&d.result(c)}s(0,t)}function p(t,o,i,s){var u=t.length,c=0;if(0===u)return void n(h,a);var l={event:r,template:a,resetForm:function(){e.resetForm(h,a)},done:function(){c++,c===u&&n(h,a)}},d=!1;Y.each(t,function(e){var t=e.call(l,o,i,s);d===!1&&t===!1&&(d=!0)}),d&&(r.preventDefault(),r.stopPropagation())}var f,h=this.id||c,m=d[h],g="insert"===m.submitType,_="update"===m.submitType,v="remove"===m.submitType,y="method"===m.submitType,b=m.submitMethod,w=!(g||_||v||y),S=m.ss,T=m.ssIsOverride,L=m.collection,D=m.doc,P=D?D._id:null,A=m.resetOnSuccess;if(!L){if(g)throw new Error("AutoForm: You must specify a collection when form type is insert.");if(_)throw new Error("AutoForm: You must specify a collection when form type is update.");if(v)throw new Error("AutoForm: You must specify a collection when form type is remove.")}w||r.preventDefault();var O=o.getHooks(h,"onSuccess"),N=o.getHooks(h,"onError");if(v){t(h,a);var F=o.getHooks(h,"before","remove"),H=Y.any(F,function(e){return e(P,a)===!1});if(H)return i();var V=u("remove");return void L.remove(P,V)}var B=k(a,h,S),R=B.insertDoc,U=B.updateDoc;if("none"!==m.validationType&&(T||y||w)&&(f=M(h,m,B),f===!1))return s();if(t(h,a),g){var j=o.getHooks(h,"before","insert");l(null,R,j,"before.insert hook",function(e){var t=u("insert");"function"==typeof L.simpleSchema&&null!=L.simpleSchema()?L.insert(e,{validationContext:h},t):L.insert(e,t)})}else if(_){var z=o.getHooks(h,"before","update");l(P,U,z,"before.update hook",function(e){var t=u("update");Y.isEmpty(e)&&t(null,0),L.update(P,e,{validationContext:h},t)})}else if(y){var $=o.getHooks(h,"before",b);l(null,R,$,"before.method hook",function(e){if(T&&(f=M(h,m,B,!0),f===!1))return s();var t=u(b);I.call(b,e,U,P,t)})}else if(w){var q=o.getHooks(h,"onSubmit");p(q,R,U,D)}},"keyup [data-schema-key]":function(e,t){var n=t.data.validation||"submitThenKeyup",r="submitThenKeyup"===n,o=!(8===e.keyCode||46===e.keyCode);("keyup"===n||"submitThenKeyup"===n)&&P(e.currentTarget.getAttribute("data-schema-key"),t,o,r)},"blur [data-schema-key]":function(e,t){var n=t.data.validation||"submitThenKeyup",r="submitThenKeyup"===n||"submitThenBlur"===n;("keyup"===n||"blur"===n||"submitThenKeyup"===n||"submitThenBlur"===n)&&P(e.currentTarget.getAttribute("data-schema-key"),t,!1,r)},"change form":function(e,t){var n=this,r=e.target.getAttribute("data-schema-key");if(r){var o=n.id||c,a=d[o];if(a){if(l.registerForm(o,function(){return k(t,o,a.ss).insertDoc}),w(o,r,b(t,r)),a.autosave)return void $(e.currentTarget).submit();var i=a.validationType||"submitThenKeyup",s="submitThenKeyup"===i||"submitThenBlur"===i;("keyup"===i||"blur"===i||"submitThenKeyup"===i||"submitThenBlur"===i)&&P(r,t,!1,s)}}},"reset form":function(e,t){var n=this.id||c;l.unregisterForm(n),m.resetForm(n);var r=d[n];r&&(r.ss&&r.ss.namedContext(n).resetValidation(),this.doc?(e.preventDefault(),T(n),t.$("[autofocus]").focus()):I.setTimeout(function(){S(n),t&&!t._notInDOM&&t.$("[autofocus]").focus()},0))},"keydown .autoform-array-item input":function(e){13===e.keyCode&&e.preventDefault()},"click .autoform-remove-item":function(e,t){var n=this;e.preventDefault();var r=n.arrayFieldName,o=n.minCount,a=n.maxCount,i=n.index,s=t.data,u=s&&s.id||c,l=d[u].ss;m.removeFromFieldAtIndex(u,r,i,l,o,a)},"click .autoform-add-item":function(e,t){e.preventDefault();var n=$(e.currentTarget),r=n.attr("data-autoform-field"),o=n.attr("data-autoform-minCount"),a=n.attr("data-autoform-maxCount"),i=t.data,s=i&&i.id||c,u=d[s].ss;m.addOneToField(s,r,u,o,a)}})}.call(this),function(){e=e||{},e.addHooks=function(e,t,n){"string"==typeof e&&(e=[e]),e?Y.each(e,function(e){o.form[e]=o.form[e]||{before:{},after:{},formToDoc:[],docToForm:[],onSubmit:[],onSuccess:[],onError:[],beginSubmit:[],endSubmit:[]},o.addHooksToList(o.form[e],t,n)}):o.addHooksToList(o.global,t,n)},e.hooks=function(t,n){Y.each(t,function(t,r){e.addHooks(r,t,n)})},e.resetForm=function(e,t){t=t||p[e],t&&!t._notInDOM&&t.$("form")[0].reset()},e.setDefaultTemplate=function(e){_=e,y.defaultTemplate.changed()},e.getDefaultTemplate=function(){return y.defaultTemplate.depend(),_},e.setDefaultTemplateForType=function(e,t){if(!y.defaultTypeTemplates[e])throw new Error("invalid template type: "+e);if(null!==t&&!H[e+"_"+t])throw new Error("setDefaultTemplateForType can't set default template to \""+t+'" for type "'+e+'" because there is no defined template with the name "'+e+"_"+t+'"');v[e]=t,y.defaultTypeTemplates[e].changed()},e.getDefaultTemplateForType=function(e){if(!y.defaultTypeTemplates[e])throw new Error("invalid template type: "+e);return y.defaultTypeTemplates[e].depend(),v[e]},e.getFormValues=function(e){var n=p[e];if(!n||n._notInDOM)throw new Error("getFormValues: There is currently no autoForm template rendered for the form with id "+e);var r=n.data,o=t.getSimpleSchemaFromContext(r,e);return k(n,e,o)},e.getFieldValue=function(e,t){return f[e]=f[e]||{},f[e][t]=f[e][t]||{_deps:new F.Dependency},f[e][t]._deps.depend(),f[e][t]._val},e.inputValueHandlers=function(e){Y.extend(g,e)},e.validateField=function(e,t,n){var r=p[e];if(!r||r._notInDOM)throw new Error("validateField: There is currently no autoForm template rendered for the form with id "+e);return D(t,r,n,!1)},e.validateForm=function(e){var t=p[e];if(!t||t._notInDOM)throw new Error("validateForm: There is currently no autoForm template rendered for the form with id "+e);var n=d[e],r=n.ss,o=k(t,e,r),a=M(e,n,o);return a===!1?(E(e,r,t),!1):!0},e.getValidationContext=function(e){var t=d[e],n=t.ss;return n.namedContext(e)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.autoform={AutoForm:e,Utility:t}}(),function(){Package.meteor.Meteor,Package["service-configuration"].ServiceConfiguration,Package.oauth.OAuth,Package.oauth.Oauth;"undefined"==typeof Package&&(Package={}),Package.oauth2={}}(),function(){var e,t=Package.meteor.Meteor,n=Package.oauth.OAuth,r=(Package.oauth.Oauth,Package.templating.Template),o=Package.random.Random,a=Package["service-configuration"].ServiceConfiguration,i=(Package.ui.UI,Package.ui.Handlebars,Package.htmljs.HTML),s=Package.blaze.Blaze;(function(){r.__define__("configureLoginServiceDialogForFacebook",function(){var e=this;return[i.Raw("<p>\n    First, you'll need to register your app on Facebook. Follow these steps:\n  </p>\n  "),i.OL("\n    ",i.Raw('<li>\n      Visit <a href="https://developers.facebook.com/apps" target="_blank">https://developers.facebook.com/apps</a>\n    </li>'),"\n    ",i.Raw('<li>\n      Select "Apps", then "Create a New App". (You don\'t need to enter a namespace.)\n    </li>'),"\n    ",i.Raw('<li>\n      Select "Settings" and enter a "Contact Email".  Then select "Add Platform"\n      and choose "Website".\n    </li>'),"\n    ",i.LI("\n      Set Site URL to: ",i.SPAN({"class":"url"},s.View(function(){return Spacebars.mustache(e.lookup("siteUrl"))})),"\n    "),"\n    ",i.Raw('<li>\n      Select "Status" and make the app and all its live features available to\n      the general public.\n    </li>'),"\n    ",i.Raw('<li>\n      Select "Dashboard".\n    </li>'),"\n  ")]})}).call(this),function(){r.configureLoginServiceDialogForFacebook.siteUrl=function(){return t.absoluteUrl()},r.configureLoginServiceDialogForFacebook.fields=function(){return[{property:"appId",label:"App ID"},{property:"secret",label:"App Secret"}]}}.call(this),function(){e={},e.requestCredential=function(e,r){r||"function"!=typeof e||(r=e,e={});var i=a.configurations.findOne({service:"facebook"});if(!i)return void(r&&r(new a.ConfigError));var s=o.secret(),u=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent),c=u?"touch":"popup",l="email";e&&e.requestPermissions&&(l=e.requestPermissions.join(","));var d="https://www.facebook.com/dialog/oauth?client_id="+i.appId+"&redirect_uri="+t.absoluteUrl("_oauth/facebook?close")+"&display="+c+"&scope="+l+"&state="+s;n.showPopup(d,_.bind(r,null,s))}}.call(this),"undefined"==typeof Package&&(Package={}),Package.facebook={Facebook:e}}(),function(){var e=Package.meteor.Meteor,t=Package["accounts-base"].Accounts,n=Package.facebook.Facebook;(function(){t.oauth.registerService("facebook"),e.isClient?e.loginWithFacebook=function(e,r){r||"function"!=typeof e||(r=e,e=null);var o=t.oauth.credentialRequestCompleteHandler(r);n.requestCredential(e,o)}:t.addAutopublishFields({forLoggedInUser:["services.facebook"],forOtherUsers:["services.facebook.id","services.facebook.username","services.facebook.gender"]})}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-facebook"]={}}(),function(){{var e,t,n,r,o,a,i,s,u=Package.meteor.Meteor,c=(Package.underscore._,Package.jquery.$);Package.jquery.jQuery}(function(){a=function(){return r("siteUrl",u.absoluteUrl())},r=function(e,t){var n=Settings.find().fetch()[0];return n&&"undefined"!=typeof n[e]?n[e]:"undefined"==typeof t?"":t},o=function(e,t){return"undefined"!=typeof themeSettings[e]?themeSettings[e]:"undefined"==typeof t?"":t},t=function(e){return e.replace(/\W+/g,"-").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()},n=function(e){return e.replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})},i=function(e,t){return s=e.split(/\s+/,t),s.length>=t?s.join(" ")+"…":e}}).call(this),function(){e=function(){var t,n,r,o,a,i,s=arguments[0]||{},u=1,c=arguments.length,l=!1,d=Object.prototype.toString,p=Object.prototype.hasOwnProperty,f=(Array.prototype.push,Array.prototype.slice,String.prototype.trim,Array.prototype.indexOf,{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"}),h={isFunction:function(e){return"function"===h.type(e)},isArray:Array.isArray||function(e){return"array"===h.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):f[d.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==h.type(e)||e.nodeType)return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var n;for(n in e);return void 0===n||p.call(e,n)}};for("boolean"==typeof s&&(l=s,s=arguments[1]||{},u=2),"object"==typeof s||h.isFunction(s)||(s={}),c===u&&(s=this,--u),u;c>u;u++)if(null!=(t=arguments[u]))for(n in t)r=s[n],o=t[n],s!==o&&(l&&o&&(h.isPlainObject(o)||(a=h.isArray(o)))?(a?(a=!1,i=r&&h.isArray(r)?r:[]):i=r&&h.isPlainObject(r)?r:{},s[n]=e(l,i,o)):void 0!==o&&(s[n]=o));return s}}.call(this),function(){(function(){var e,t=[].slice;e=function(){var e,n,r,o,a,i,s,u;if(i=1<=arguments.length?t.call(arguments,0):[],s=/(^|\s)(\b(https?):\/\/[\-A-Z0-9+&@#\/%?=~_|!:,.;]*[\-A-Z0-9+&@#\/%=~_|]\b)/gi,i.length>0){a=i[0],n=a.callback,null!=n&&"function"==typeof n&&(e=n,delete a.callback),o="";for(r in a)u=a[r],o+=" "+r+"='"+u+"'";return this.replace(s,function(t,n,r){var a,i;return i=e&&e(r),a=i||"<a href='"+r+"'"+o+">"+r+"</a>",""+n+a})}return this.replace(s,"$1<a href='$2'>$2</a>")},String.prototype.autoLink=e}).call(this)}.call(this),function(){c.fn.exists=function(){return 0!==this.length}}.call(this),"undefined"==typeof Package&&(Package={}),Package["telescope-lib"]={deepExtend:e,camelToDash:t,dashToCamel:n,getSetting:r,getThemeSetting:o,getSiteUrl:a,trimWords:i}}(),function(){{var e,t,n,r,o,a,i,s,u,c,l,d,p,f,h,m,g,_,v,y,b,k,w,S,T,M,L;Package.meteor.Meteor,Package["telescope-lib"].deepExtend,Package["telescope-lib"].camelToDash,Package["telescope-lib"].dashToCamel,Package["telescope-lib"].getSetting,Package["telescope-lib"].getThemeSetting,Package["telescope-lib"].getSiteUrl,Package["telescope-lib"].trimWords}(function(){n=[],r=[],o=[],t=[{route:"posts_top",label:"Top"},{route:"posts_new",label:"New"},{route:"posts_best",label:"Best"},{route:"posts_digest",label:"Digest"}],e=[],a=[],i=["viewsMenu","adminMenu"],s=["userMenu","submitButton"],u={},u.top=function(){return{options:{sort:{sticky:-1,score:-1}}}},u.new=function(){return{options:{sort:{sticky:-1,postedAt:-1}}}},u.best=function(){return{options:{sort:{sticky:-1,baseScore:-1}}}},u.pending=function(){return{find:{status:1},options:{sort:{createdAt:-1}}}},u.digest=function(e){return{find:{postedAt:{$gte:e.after,$lt:e.before}},options:{sort:{sticky:-1,baseScore:-1}}}},c=[],l=[],h=["left-left","left-center","left-right","center-left","center-center","center-right","right-left","right-center","right-right"],d=[{template:"postUpvote",position:"left-left"},{template:"postActions",position:"left-right"},{template:"postContent",position:"center-center"},{template:"postDiscuss",position:"right-right"}],p=[{template:"postTitle",order:1},{template:"postDomain",order:5}],f=[{template:"postMeta",order:1},{template:"postCommentsLink",order:3},{template:"postAdmin",order:5}],m=[],g=[],_=[],v=[],y=[],w=[],L=[],w=[],T={},S=function(e){return T[e]?T[e]:e},M={useDropdowns:!0}}).call(this),function(){}.call(this),"undefined"==typeof Package&&(Package={}),Package["telescope-base"]={adminNav:e,viewNav:t,addToPostSchema:n,addToCommentsSchema:r,addToSettingsSchema:o,preloadSubscriptions:a,primaryNav:i,secondaryNav:s,viewParameters:u,footerModules:c,heroModules:l,postModules:d,postHeading:p,postMeta:f,modulePositions:h,postSubmitRenderedCallbacks:m,postSubmitClientCallbacks:g,postSubmitServerCallbacks:_,postEditRenderedCallbacks:v,postEditClientCallbacks:y,commentSubmitClientCallbacks:b,commentSubmitServerCallbacks:k,commentEditClientCallbacks:w,getTemplate:S,templates:T,themeSettings:M}}(),function(){var e,t,n,r,o,a,i,s,u=Package.meteor.Meteor,c=(Package["telescope-lib"].deepExtend,Package["telescope-lib"].camelToDash,Package["telescope-lib"].dashToCamel,Package["telescope-lib"].getSetting,Package["telescope-lib"].getThemeSetting,Package["telescope-lib"].getSiteUrl),t=(Package["telescope-lib"].trimWords,Package["telescope-base"].adminNav),r=(Package["telescope-base"].viewNav,Package["telescope-base"].addToPostSchema),e=(Package["telescope-base"].addToCommentsSchema,Package["telescope-base"].addToSettingsSchema,Package["telescope-base"].preloadSubscriptions),o=Package["telescope-base"].primaryNav,l=(Package["telescope-base"].secondaryNav,Package["telescope-base"].viewParameters),a=(Package["telescope-base"].footerModules,Package["telescope-base"].heroModules,Package["telescope-base"].postModules),d=Package["telescope-base"].postHeading,p=(Package["telescope-base"].postMeta,Package["telescope-base"].modulePositions,Package["telescope-base"].postSubmitRenderedCallbacks,Package["telescope-base"].postSubmitClientCallbacks),f=(Package["telescope-base"].postSubmitServerCallbacks,Package["telescope-base"].postEditRenderedCallbacks,Package["telescope-base"].postEditClientCallbacks),h=(Package["telescope-base"].commentSubmitClientCallbacks,Package["telescope-base"].commentSubmitServerCallbacks,Package["telescope-base"].commentEditClientCallbacks,Package["telescope-base"].getTemplate),m=(Package["telescope-base"].templates,Package["telescope-base"].themeSettings,Package["simple-schema"].SimpleSchema),g=(Package["simple-schema"].MongoObject,Package.jquery.$),_=(Package.jquery.jQuery,Package.underscore._,Package["iron-router"].RouteController,Package["iron-router"].Route,Package["iron-router"].Router),v=(Package["iron-router"].IronLocation,Package.templating.Template),y=(Package.ui.UI,Package.ui.Handlebars,Package["iron-core"].Iron,Package.htmljs.HTML),b=Package.blaze.Blaze;(function(){i=new m({_id:{type:String,optional:!0},order:{type:Number,optional:!0},slug:{type:String},name:{type:String}}),n=new u.Collection("categories",{schema:i}),l.category=function(e){return{find:{"categories.slug":e.category},options:{sort:{sticky:-1,score:-1}}}},d.push({template:"postCategories",order:3}),o.push("categoriesMenu"),r.push({propertyName:"categories",propertySchema:{type:[i],optional:!0}});var e=function(e){return e.categories=[],g("input[name=category]:checked").each(function(){var t=g(this).val();e.categories.push(n.findOne(t))}),e};p.push(e),f.push(e),u.startup(function(){n.allow({insert:isAdminById,update:isAdminById,remove:isAdminById}),u.methods({category:function(e){if(console.log(e),!u.user()||!isAdmin(u.user()))throw new u.Error(i18n.t("You need to login and be an admin to add a new category."));n.insert(e);return e.name}})}),s=function(e){return c()+"category/"+e}}).call(this),function(){e.push("categories"),t.push({route:"categories",label:"Categories"}),u.startup(function(){_.onBeforeAction(_._filters.isAdmin,{only:["categories"]}),_.map(function(){this.route("posts_category",{path:"/category/:slug/:limit?",controller:PostsListController,onAfterAction:function(){Session.set("categorySlug",this.params.slug)}}),this.route("categories")})})}.call(this),function(){v.__define__("categories",function(){var e=this;return y.DIV({"class":"grid-small grid-block dialog admin"},y.Raw('\n    <h2>Categories</h2>\n    <form class="form-block">\n      <h3>Add new category</h3>\n      <div class="control-group">\n        <label>Name</label>\n        <div class="controls"><input id="name" type="text" value=""></div>\n      </div>\n      <div class="control-group">\n        <label>Order</label>\n        <div class="controls"><input id="order" type="number" value=""></div>\n      </div>\n      <div class="form-actions">\n        <input type="submit" class="button" value="Submit">\n      </div>\n    </form>\n    '),y.UL("\n      ",b.Each(function(){return Spacebars.call(e.lookup("categories"))},function(){return["\n        ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("categoryItem"))}},function(){return Spacebars.include(function(){return Spacebars.call(v.__dynamic)})}),"\n      "]}),"\n    "),"\n  ")})}.call(this),function(){u.startup(function(){v[h("categories")].helpers({categories:function(){return n.find({},{sort:{order:1,name:1}})},categoryItem:function(){return h("categoryItem")}}),v[h("categories")].events({"click input[type=submit]":function(e){e.preventDefault();var t=g("#name").val(),r=n.find().count(),o=parseInt(g("#order").val())||r+1,a=slugify(t);u.call("category",{name:t,order:o,slug:a},function(e){e?(console.log(e),throwError(e.reason),clearSeenErrors()):g("#name").val("")})}})})}.call(this),function(){v.__define__("categoryItem",function(){var e=this;return y.LI("      \n		",y.FORM("\n        ",y.DIV({"class":"control-group inline"},"\n          ",y.Raw('<a class="button submit edit-link" href="#">Save</a>'),"\n          ",y.DIV({"class":"controls"},"\n            ",y.INPUT({"class":"category-name",id:function(){return["name_",Spacebars.mustache(e.lookup("_id"))]},type:"text",value:function(){return Spacebars.mustache(e.lookup("name"))},placeholder:"Name"}),"\n            ",y.INPUT({"class":"category-number",id:function(){return["order_",Spacebars.mustache(e.lookup("_id"))]},type:"number",value:function(){return Spacebars.mustache(e.lookup("order"))},placeholder:"0"}),"\n          "),"\n          ",y.SPAN({"class":"category-slug small"},"Slug: /",b.View(function(){return Spacebars.mustache(e.lookup("slug"))})),"\n        "),"\n      "),"\n  ")})}.call(this),function(){u.startup(function(){v[h("categoryItem")].events({"click .edit-link":function(e,t){e.preventDefault();var r=t.data._id,o=g("#name_"+r).val(),a=parseInt(g("#order_"+r).val()),i=slugify(o);o?n.update(r,{$set:{name:o,slug:i,order:a}}):n.remove(r),u.call("updateCategoryInPosts",r,function(e){e&&throwError(e.reason)})}})})}.call(this),function(){v.__define__("categoriesMenu",function(){var e=this;return b.If(function(){return Spacebars.call(e.lookup("hasCategories"))},function(){return["\n    ",y.DIV({"class":"dropdown"},"\n      ",y.A({"class":"categories dropdown-top-level",href:"/"},b.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Categories")})),"\n      ",y.DIV({"class":"dropdown-menu"},"\n        ",y.UL({role:"menu","aria-labelledby":"dLabel"},"\n          ",b.Each(function(){return Spacebars.call(e.lookup("categories"))
},function(){return["\n            ",y.LI(y.A({"class":"dropdown-sub-level",href:function(){return Spacebars.mustache(e.lookup("categoryLink"))}},b.View(function(){return Spacebars.mustache(e.lookup("name"))}))),"\n          "]}),"\n        "),"\n      "),"\n    "),"\n  "]})})}.call(this),function(){u.startup(function(){v[h("categoriesMenu")].helpers({hasCategories:function(){return"undefined"!=typeof n&&n.find().count()},categories:function(){return n.find({},{sort:{order:1,name:1}})},categoryLink:function(){return s(this.slug)}})})}.call(this),function(){v.__define__("postCategories",function(){var e=this;return b.Each(function(){return Spacebars.call(e.lookup("categories"))},function(){return["\n    ",y.A({href:function(){return Spacebars.mustache(e.lookup("categoryLink"))},"class":function(){return["post-category category-",Spacebars.mustache(e.lookup("slug"))]}},b.View(function(){return Spacebars.mustache(e.lookup("name"))})),"\n  "]})})}.call(this),function(){u.startup(function(){v[h("postCategories")].helpers({categoryLink:function(){return s(this.slug)}})})}.call(this),"undefined"==typeof Package&&(Package={}),Package["telescope-tags"]={preloadSubscriptions:e,adminNav:t,Categories:n,addToPostSchema:r,primaryNav:o,postModules:a}}(),function(){var e,t,n,r,o,a=Package.meteor.Meteor,i=Package["telescope-lib"].deepExtend,e=(Package["telescope-lib"].camelToDash,Package["telescope-lib"].dashToCamel,Package["telescope-lib"].getSetting,Package["telescope-lib"].getThemeSetting,Package["telescope-lib"].getSiteUrl,Package["telescope-lib"].trimWords,Package["telescope-base"].adminNav),s=(Package["telescope-base"].viewNav,Package["telescope-base"].addToPostSchema,Package["telescope-base"].addToCommentsSchema,Package["telescope-base"].addToSettingsSchema,Package["telescope-base"].preloadSubscriptions,Package["telescope-base"].primaryNav),t=(Package["telescope-base"].secondaryNav,Package["telescope-base"].viewParameters),u=(Package["telescope-base"].footerModules,Package["telescope-base"].heroModules,Package["telescope-base"].postModules,Package["telescope-base"].postHeading,Package["telescope-base"].postMeta,Package["telescope-base"].modulePositions,Package["telescope-base"].postSubmitRenderedCallbacks,Package["telescope-base"].postSubmitClientCallbacks,Package["telescope-base"].postSubmitServerCallbacks,Package["telescope-base"].postEditRenderedCallbacks,Package["telescope-base"].postEditClientCallbacks,Package["telescope-base"].commentSubmitClientCallbacks,Package["telescope-base"].commentSubmitServerCallbacks,Package["telescope-base"].commentEditClientCallbacks,Package["telescope-base"].getTemplate),c=(Package["telescope-base"].templates,Package["telescope-base"].themeSettings,Package["simple-schema"].SimpleSchema),l=(Package["simple-schema"].MongoObject,Package.jquery.$),d=(Package.jquery.jQuery,Package.underscore._,Package["iron-router"].RouteController,Package["iron-router"].Route,Package["iron-router"].Router),p=(Package["iron-router"].IronLocation,Package.templating.Template),f=(Package.ui.UI,Package.ui.Handlebars,Package["iron-core"].Iron,Package.htmljs.HTML),h=Package.blaze.Blaze;(function(){s.push("search"),n=new a.Collection("searches",{schema:new c({_id:{type:String,optional:!0},timestamp:{type:Date},keyword:{type:String}})}),n.allow({update:r,remove:r}),r=function(e){var t=a.users.findOne(e);return!(!t||!isAdmin(t))},t.search=function(e,t){if("undefined"==typeof e.query||!e.query)return{find:{_id:0}};a.isServer&&logSearch(e.query);var n=i(!0,t,{find:{$or:[{title:{$regex:e.query,$options:"i"}},{url:{$regex:e.query,$options:"i"}},{body:{$regex:e.query,$options:"i"}}]}});return n}}).call(this),function(){e.push({route:"searchLogs",label:"Search Logs"}),a.startup(function(){d.onBeforeAction(d._filters.isAdmin,{only:["logs"]}),d.map(function(){this.route("search",{path:"/search/:limit?",controller:PostsListController}),this.route("searchLogs",{path:"/logs/:limit?",waitOn:function(){var e=this.params.limit||100;return a.isClient&&Session.set("logsLimit",e),a.subscribe("searches",e)},data:function(){return n.find({},{sort:{timestamp:-1}})},fastRender:!0})})})}.call(this),function(){p.__define__("search",function(){var e=this;return f.DIV({"class":function(){return["search ",Spacebars.mustache(e.lookup("searchQueryEmpty"))]}},"\n    ",f.INPUT({id:"search",type:"search","class":"search-field",placeholder:"search",value:function(){return Spacebars.mustache(e.lookup("searchQuery"))}}),"\n  ")})}.call(this),function(){var e=function(){var e=0;return function(t,n){clearTimeout(e),e=setTimeout(t,n)}}();a.startup(function(){p[u("search")].helpers({searchQuery:function(){return Session.get("searchQuery")},searchQueryEmpty:function(){return Session.get("searchQuery")?"":"empty"}}),p[u("search")].events({"keyup, search .search-field":function(t){t.preventDefault();var n=l(t.target).val(),r=l(".search");""==n?(r.addClass("empty"),Session.set("searchQuery","")):e(function(){Session.set("searchQuery",n),r.removeClass("empty"),-1==getCurrentRoute().indexOf("search")&&d.go("/search")},700)}})})}.call(this),function(){p.__define__("searchLogs",function(){var e=this;return f.DIV({"class":"grid-small grid-block dialog admin"},f.Raw("\n    <h2>Search Logs</h2>\n      "),f.TABLE("\n        ",f.THEAD("\n          ",f.TR("\n            ",f.TH("Keyword"),"\n            ",f.TH("Timestamp"),"\n          "),"\n        "),"\n        ",f.TBODY("\n        ",h.Each(function(){return Spacebars.call(e.lookup("."))},function(){return["\n          ",h.If(function(){return Spacebars.call(e.lookup("isNewDate"))},function(){return["\n            ",f.TR({"class":"search-date-header"},"\n              ",f.TH({colspan:"2"},"\n                ",f.SPAN({"class":"search-date"},h.View(function(){return Spacebars.mustache(e.lookup("getDate"))})),"\n                ",f.SPAN({"class":"search-count"},h.View(function(){return Spacebars.mustache(e.lookup("searchCount"))})),"\n              "),"\n            "),"\n          "]}),"\n          ",f.TR("\n            ",f.TD(h.View(function(){return Spacebars.mustache(e.lookup("keyword"))})),"\n            ",f.TD(h.View(function(){return Spacebars.mustache(e.lookup("getTime"))})),"\n          "),"\n        "]}),"\n      "),"\n    "),"\n    ",f.DIV({"class":"grid more-button"},"\n      ",f.A({"class":"more-link",href:function(){return Spacebars.mustache(e.lookup("loadMoreUrl"))}},h.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Load more")})),"\n    "),"\n  ")})}.call(this),function(){a.startup(function(){p[u("searchLogs")].helpers({getTime:function(){return moment(this.timestamp).format("HH:mm:ss")},getDate:function(){return o=moment(this.timestamp).format("MMMM DD")},searchCount:function(){var e=moment(this.timestamp).startOf("day").valueOf(),t=moment(this.timestamp).endOf("day").valueOf();return n.find({timestamp:{$gte:e,$lt:t}}).count()},isNewDate:function(){return"undefined"==typeof o?!0:o!==moment(this.timestamp).format("MMMM DD")},loadMoreUrl:function(){var e=parseInt(Session.get("logsLimit"))+100;return"/logs/"+e}})})}.call(this),"undefined"==typeof Package&&(Package={}),Package["telescope-search"]={adminNav:e,viewParameters:t}}(),function(){{var e;Package.meteor.Meteor}"undefined"==typeof Package&&(Package={}),Package["telescope-rss"]={serveRSS:e}}(),function(){{var e;Package.meteor.Meteor}"undefined"==typeof Package&&(Package={}),Package["telescope-api"]={serveAPI:e}}(),function(){Package.meteor.Meteor,Package.jquery.$,Package.jquery.jQuery;(function(){!function(e){function t(t){if("string"==typeof t.data&&(t.data={keys:t.data}),t.data&&t.data.keys&&"string"==typeof t.data.keys){var n=t.handler,r=t.data.keys.toLowerCase().split(" "),o=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"];t.handler=function(t){if(this===t.target||!(/textarea|select/i.test(t.target.nodeName)||e.inArray(t.target.type,o)>-1)){var a=e.hotkeys.specialKeys[t.keyCode],i="keypress"===t.type&&String.fromCharCode(t.which).toLowerCase(),s="",u={};t.altKey&&"alt"!==a&&(s+="alt+"),t.ctrlKey&&"ctrl"!==a&&(s+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==a&&(s+="meta+"),t.shiftKey&&"shift"!==a&&(s+="shift+"),a&&(u[s+a]=!0),i&&(u[s+i]=!0,u[s+e.hotkeys.shiftNums[i]]=!0,"shift+"===s&&(u[e.hotkeys.shiftNums[i]]=!0));for(var c=0,l=r.length;l>c;c++)if(u[r[c]])return n.apply(this,arguments)}}}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",186:";",191:"/",220:"\\",222:"'",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:t}})}(this.jQuery)}).call(this),"undefined"==typeof Package&&(Package={}),Package["jquery-hotkeys"]={}}(),function(){Package.meteor.Meteor;(function(){(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||c.defaults,this.rules=l.normal,this.options.gfm&&(this.rules=this.options.tables?l.tables:l.gfm)}function t(e,t){if(this.options=t||c.defaults,this.links=e,this.rules=d.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?d.breaks:d.gfm:this.options.pedantic&&(this.rules=d.pedantic)}function n(e){this.options=e||{}}function r(e){this.tokens=[],this.token=null,this.options=e||c.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?String.fromCharCode("x"===t.charAt(1)?parseInt(t.substring(2),16):+t.substring(1)):""})}function i(e,t){return e=e.source,t=t||"",function n(r,o){return r?(o=o.source||o,o=o.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,o),n):new RegExp(e,t)}}function s(){}function u(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function c(t,n,a){if(a||"function"==typeof n){a||(a=n,n=null),n=u({},c.defaults,n||{});var i,s,l=n.highlight,d=0;try{i=e.lex(t,n)}catch(p){return a(p)}s=i.length;var f=function(){var e,t;try{e=r.parse(i,n)}catch(o){t=o}return n.highlight=l,t?a(t):a(null,e)};if(!l||l.length<3)return f();if(delete n.highlight,!s)return f();for(;d<i.length;d++)!function(e){return"code"!==e.type?--s||f():l(e.text,e.lang,function(t,n){return null==n||n===e.text?--s||f():(e.text=n,e.escaped=!0,void(--s||f()))})}(i[d])}else try{return n&&(n=u({},c.defaults,n)),r.parse(e.lex(t,n),n)}catch(p){if(p.message+="\nPlease report this to https://github.com/chjj/marked.",(n||c.defaults).silent)return"<p>An error occured:</p><pre>"+o(p.message+"",!0)+"</pre>";throw p}}var l={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:s,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:s,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:s,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};l.bullet=/(?:[*+-]|\d+\.)/,l.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,l.item=i(l.item,"gm")(/bull/g,l.bullet)(),l.list=i(l.list)(/bull/g,l.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+l.def.source+")")(),l.blockquote=i(l.blockquote)("def",l.def)(),l._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",l.html=i(l.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,l._tag)(),l.paragraph=i(l.paragraph)("hr",l.hr)("heading",l.heading)("lheading",l.lheading)("blockquote",l.blockquote)("tag","<"+l._tag)("def",l.def)(),l.normal=u({},l),l.gfm=u({},l.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),l.gfm.paragraph=i(l.paragraph)("(?!","(?!"+l.gfm.fences.source.replace("\\1","\\2")+"|"+l.list.source.replace("\\1","\\3")+"|")(),l.tables=u({},l.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=l,e.lex=function(t,n){var r=new e(n);return r.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var r,o,a,i,s,u,c,d,p,e=e.replace(/^ +$/gm,"");e;)if((a=this.rules.newline.exec(e))&&(e=e.substring(a[0].length),a[0].length>1&&this.tokens.push({type:"space"})),a=this.rules.code.exec(e))e=e.substring(a[0].length),a=a[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?a:a.replace(/\n+$/,"")});else if(a=this.rules.fences.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"code",lang:a[2],text:a[3]});else if(a=this.rules.heading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:a[1].length,text:a[2]});else if(t&&(a=this.rules.nptable.exec(e))){for(e=e.substring(a[0].length),u={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/\n$/,"").split("\n")},d=0;d<u.align.length;d++)u.align[d]=/^ *-+: *$/.test(u.align[d])?"right":/^ *:-+: *$/.test(u.align[d])?"center":/^ *:-+ *$/.test(u.align[d])?"left":null;for(d=0;d<u.cells.length;d++)u.cells[d]=u.cells[d].split(/ *\| */);this.tokens.push(u)}else if(a=this.rules.lheading.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"heading",depth:"="===a[2]?1:2,text:a[1]});else if(a=this.rules.hr.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"hr"});else if(a=this.rules.blockquote.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"blockquote_start"}),a=a[0].replace(/^ *> ?/gm,""),this.token(a,t,!0),this.tokens.push({type:"blockquote_end"});else if(a=this.rules.list.exec(e)){for(e=e.substring(a[0].length),i=a[2],this.tokens.push({type:"list_start",ordered:i.length>1}),a=a[0].match(this.rules.item),r=!1,p=a.length,d=0;p>d;d++)u=a[d],c=u.length,u=u.replace(/^ *([*+-]|\d+\.) +/,""),~u.indexOf("\n ")&&(c-=u.length,u=this.options.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&d!==p-1&&(s=l.bullet.exec(a[d+1])[0],i===s||i.length>1&&s.length>1||(e=a.slice(d+1).join("\n")+e,d=p-1)),o=r||/\n\n(?!\s*$)/.test(u),d!==p-1&&(r="\n"===u.charAt(u.length-1),o||(o=r)),this.tokens.push({type:o?"loose_item_start":"list_item_start"}),this.token(u,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(a=this.rules.html.exec(e))e=e.substring(a[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===a[1]||"script"===a[1]||"style"===a[1],text:a[0]});else if(!n&&t&&(a=this.rules.def.exec(e)))e=e.substring(a[0].length),this.tokens.links[a[1].toLowerCase()]={href:a[2],title:a[3]};else if(t&&(a=this.rules.table.exec(e))){for(e=e.substring(a[0].length),u={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/(?: *\| *)?\n$/,"").split("\n")},d=0;d<u.align.length;d++)u.align[d]=/^ *-+: *$/.test(u.align[d])?"right":/^ *:-+: *$/.test(u.align[d])?"center":/^ *:-+ *$/.test(u.align[d])?"left":null;for(d=0;d<u.cells.length;d++)u.cells[d]=u.cells[d].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(u)}else if(t&&(a=this.rules.paragraph.exec(e)))e=e.substring(a[0].length),this.tokens.push({type:"paragraph",text:"\n"===a[1].charAt(a[1].length-1)?a[1].slice(0,-1):a[1]});else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),this.tokens.push({type:"text",text:a[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var d={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:s,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:s,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};d._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,d._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,d.link=i(d.link)("inside",d._inside)("href",d._href)(),d.reflink=i(d.reflink)("inside",d._inside)(),d.normal=u({},d),d.pedantic=u({},d.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),d.gfm=u({},d.normal,{escape:i(d.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:i(d.text)("]|","~]|")("|","|https?://|")()}),d.breaks=u({},d.gfm,{br:i(d.br)("{2,}","*")(),text:i(d.gfm.text)("{2,}","*")()}),t.rules=d,t.output=function(e,n,r){var o=new t(n,r);return o.output(e)},t.prototype.output=function(e){for(var t,n,r,a,i="";e;)if(a=this.rules.escape.exec(e))e=e.substring(a[0].length),i+=a[1];else if(a=this.rules.autolink.exec(e))e=e.substring(a[0].length),"@"===a[2]?(n=this.mangle(":"===a[1].charAt(6)?a[1].substring(7):a[1]),r=this.mangle("mailto:")+n):(n=o(a[1]),r=n),i+=this.renderer.link(r,null,n);else if(this.inLink||!(a=this.rules.url.exec(e))){if(a=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(a[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(a[0])&&(this.inLink=!1),e=e.substring(a[0].length),i+=this.options.sanitize?o(a[0]):a[0];else if(a=this.rules.link.exec(e))e=e.substring(a[0].length),this.inLink=!0,i+=this.outputLink(a,{href:a[2],title:a[3]}),this.inLink=!1;else if((a=this.rules.reflink.exec(e))||(a=this.rules.nolink.exec(e))){if(e=e.substring(a[0].length),t=(a[2]||a[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){i+=a[0].charAt(0),e=a[0].substring(1)+e;continue}this.inLink=!0,i+=this.outputLink(a,t),this.inLink=!1}else if(a=this.rules.strong.exec(e))e=e.substring(a[0].length),i+=this.renderer.strong(this.output(a[2]||a[1]));else if(a=this.rules.em.exec(e))e=e.substring(a[0].length),i+=this.renderer.em(this.output(a[2]||a[1]));else if(a=this.rules.code.exec(e))e=e.substring(a[0].length),i+=this.renderer.codespan(o(a[2],!0));else if(a=this.rules.br.exec(e))e=e.substring(a[0].length),i+=this.renderer.br();else if(a=this.rules.del.exec(e))e=e.substring(a[0].length),i+=this.renderer.del(this.output(a[1]));else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),i+=o(this.smartypants(a[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(a[0].length),n=o(a[1]),r=n,i+=this.renderer.link(r,null,n);return i},t.prototype.outputLink=function(e,t){var n=o(t.href),r=t.title?o(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,o(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"—").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},t.prototype.mangle=function(e){for(var t,n="",r=e.length,o=0;r>o;o++)t=e.charCodeAt(o),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},n.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+o(t,!0)+'">'+(n?e:o(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:o(e,!0))+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(a(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(o){return""}if(0===r.indexOf("javascript:"))return""}var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},n.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},r.parse=function(e,t,n){var o=new r(t,n);return o.parse(e)},r.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,o,a="",i="";for(n="",e=0;e<this.token.header.length;e++)r={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(a+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",o=0;o<t.length;o++)n+=this.renderer.tablecell(this.inline.output(t[o]),{header:!1,align:this.token.align[o]});i+=this.renderer.tablerow(n)}return this.renderer.table(a,i);case"blockquote_start":for(var i="";"blockquote_end"!==this.next().type;)i+=this.tok();return this.renderer.blockquote(i);case"list_start":for(var i="",s=this.token.ordered;"list_end"!==this.next().type;)i+=this.tok();return this.renderer.list(i,s);case"list_item_start":for(var i="";"list_item_end"!==this.next().type;)i+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(i);case"loose_item_start":for(var i="";"list_item_end"!==this.next().type;)i+=this.tok();return this.renderer.listitem(i);case"html":var u=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(u);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},s.exec=s,c.options=c.setOptions=function(e){return u(c.defaults,e),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},c.Parser=r,c.parser=r.parse,c.Renderer=n,c.Lexer=e,c.lexer=e.lex,c.InlineLexer=t,c.inlineLexer=t.output,c.parse=c,"object"==typeof exports?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):this.marked=c}).call(function(){return this||("undefined"!=typeof window?window:global)}())}).call(this),function(){if(Package.templating){var e=Package.templating.Template,t=Package.ui.UI,n=Package.htmljs.HTML,r=Package.blaze.Blaze;t.registerHelper("markdown",e.__create__("markdown",function(){var e=this,t="";return e.templateContentBlock&&(t=r.toText(e.templateContentBlock,n.TEXTMODE.STRING)),n.Raw(marked(t))}))}}.call(this),"undefined"==typeof Package&&(Package={}),Package.marked={}}(),function(){Package.meteor.Meteor,Package.jquery.$,Package.jquery.jQuery;(function(){!function(e,t){function n(){return new Date(Date.UTC.apply(Date,arguments))}function r(){var e=new Date;return n(e.getFullYear(),e.getMonth(),e.getDate())}function o(e){return function(){return this[e].apply(this,arguments)}}function a(t,n){function r(e,t){return t.toLowerCase()}var o,a=e(t).data(),i={},s=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var u in a)n.test(u)&&(o=u.replace(s,r),i[o]=a[u]);return i}function i(t){var n={};if(h[t]||(t=t.split("-")[0],h[t])){var r=h[t];return e.each(f,function(e,t){t in r&&(n[t]=r[t])}),n}}var s=e(window),u=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),n=0,r=this.length;r>n;n++)if(this[n].valueOf()===t)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.splice(0)},copy:function(){var e=new u;return e.replace(this),e}};return function(){var n=[];return n.push.apply(n,arguments),e.extend(n,t),n}}(),c=function(t,n){this.dates=new u,this.viewDate=r(),this.focusDate=null,this._process_options(n),this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(t){this._o=e.extend({},this._o,t);var n=this.o=e.extend({},this._o),r=n.language;switch(h[r]||(r=r.split("-")[0],h[r]||(r=p.language)),n.language=r,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.multidate!==!0&&(n.multidate=Number(n.multidate)||!1,n.multidate=n.multidate!==!1?Math.max(0,n.multidate):1),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var o=m.parseFormat(n.format);n.startDate!==-1/0&&(n.startDate=n.startDate?n.startDate instanceof Date?this._local_to_utc(this._zero_time(n.startDate)):m.parseDate(n.startDate,o,n.language):-1/0),1/0!==n.endDate&&(n.endDate=n.endDate?n.endDate instanceof Date?this._local_to_utc(this._zero_time(n.endDate)):m.parseDate(n.endDate,o,n.language):1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],e.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=e.map(n.daysOfWeekDisabled,function(e){return parseInt(e,10)});var a=String(n.orientation).toLowerCase().split(/\s+/g),i=n.orientation.toLowerCase();if(a=e.grep(a,function(e){return/^auto|left|right|top|bottom$/.test(e)}),n.orientation={x:"auto",y:"auto"},i&&"auto"!==i)if(1===a.length)switch(a[0]){case"top":case"bottom":n.orientation.y=a[0];break;case"left":case"right":n.orientation.x=a[0]}else i=e.grep(a,function(e){return/^left|right$/.test(e)}),n.orientation.x=i[0]||"auto",i=e.grep(a,function(e){return/^top|bottom$/.test(e)}),n.orientation.y=i[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var n,r,o,a=0;a<e.length;a++)n=e[a][0],2===e[a].length?(r=t,o=e[a][1]):3===e[a].length&&(r=e[a][1],o=e[a][2]),n.on(o,r)},_unapplyEvents:function(e){for(var n,r,o,a=0;a<e.length;a++)n=e[a][0],2===e[a].length?(o=t,r=e[a][1]):3===e[a].length&&(o=e[a][1],r=e[a][2]),n.off(r,o)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var r=n||this.dates.get(-1),o=this._utc_to_local(r);this.element.trigger({type:t,date:o,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return m.formatDate(n,t,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date
},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:o("setDates"),setUTCDate:o("setUTCDates"),setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change()},getFormattedDate:function(n){n===t&&(n=this.o.format);var r=this.o.language;return e.map(this.dates,function(e){return m.formatDate(e,n,r)}).join(this.o.multidateSeparator)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=this.picker.outerWidth(),n=this.picker.outerHeight(),r=10,o=s.width(),a=s.height(),i=s.scrollTop(),u=parseInt(this.element.parents().filter(function(){return"auto"!==e(this).css("z-index")}).first().css("z-index"))+10,c=this.component?this.component.parent().offset():this.element.offset(),l=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=c.left,f=c.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=t-d)):(this.picker.addClass("datepicker-orient-left"),c.left<0?p-=c.left-r:c.left+t>o&&(p=o-t-r));var h,m,g=this.o.orientation.y;"auto"===g&&(h=-i+c.top-n,m=i+a-(c.top+l+n),g=Math.max(h,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+g),"top"===g?f+=l:f-=n+parseInt(this.picker.css("padding-top")),this.picker.css({top:f,left:p,zIndex:u})}},_allow_update:!0,update:function(){if(this._allow_update){var t=this.dates.copy(),n=[],r=!1;arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)},this)),r=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=e.map(n,e.proxy(function(e){return m.parseDate(e,this.o.format,this.o.language)},this)),n=e.grep(n,e.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),r?this.setValue():n.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';t+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+h[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+h[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var n=[],r=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),a=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<o?n.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>o)&&n.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===a.getFullYear()&&t.getUTCMonth()===a.getMonth()&&t.getUTCDate()===a.getDate()&&n.push("today"),-1!==this.dates.contains(t)&&n.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var r,o=new Date(this.viewDate),a=o.getUTCFullYear(),i=o.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,u=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,c=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,l=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0,d=h[this.o.language].today||h.en.today||"",p=h[this.o.language].clear||h.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(h[this.o.language].months[i]+" "+a),this.picker.find("tfoot th.today").text(d).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(p).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var f=n(a,i-1,28),g=m.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(g),f.setUTCDate(g-(f.getUTCDay()-this.o.weekStart+7)%7);var _=new Date(f);_.setUTCDate(_.getUTCDate()+42),_=_.valueOf();for(var v,y=[];f.valueOf()<_;){if(f.getUTCDay()===this.o.weekStart&&(y.push("<tr>"),this.o.calendarWeeks)){var b=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),k=new Date(Number(b)+(11-b.getUTCDay())%7*864e5),w=new Date(Number(w=n(k.getUTCFullYear(),0,1))+(11-w.getUTCDay())%7*864e5),S=(k-w)/864e5/7+1;y.push('<td class="cw">'+S+"</td>")}if(v=this.getClassNames(f),v.push("day"),this.o.beforeShowDay!==e.noop){var T=this.o.beforeShowDay(this._utc_to_local(f));T===t?T={}:"boolean"==typeof T?T={enabled:T}:"string"==typeof T&&(T={classes:T}),T.enabled===!1&&v.push("disabled"),T.classes&&(v=v.concat(T.classes.split(/\s+/))),T.tooltip&&(r=T.tooltip)}v=e.unique(v),y.push('<td class="'+v.join(" ")+'"'+(r?' title="'+r+'"':"")+">"+f.getUTCDate()+"</td>"),f.getUTCDay()===this.o.weekEnd&&y.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var M=this.picker.find(".datepicker-months").find("th:eq(1)").text(a).end().find("span").removeClass("active");e.each(this.dates,function(e,t){t.getUTCFullYear()===a&&M.eq(t.getUTCMonth()).addClass("active")}),(s>a||a>c)&&M.addClass("disabled"),a===s&&M.slice(0,u).addClass("disabled"),a===c&&M.slice(l+1).addClass("disabled"),y="",a=10*parseInt(a/10,10);var L=this.picker.find(".datepicker-years").find("th:eq(1)").text(a+"-"+(a+9)).end().find("td");a-=1;for(var D,P=e.map(this.dates,function(e){return e.getUTCFullYear()}),C=-1;11>C;C++)D=["year"],-1===C?D.push("old"):10===C&&D.push("new"),-1!==e.inArray(a,P)&&D.push("active"),(s>a||a>c)&&D.push("disabled"),y+='<span class="'+D.join(" ")+'">'+a+"</span>",a+=1;L.html(y)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(t){t.preventDefault();var r,o,a,i=e(t.target).closest("span, td, th");if(1===i.length)switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var s=m.modes[this.viewMode].navStep*("prev"===i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var u=new Date;u=n(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(u,c);break;case"clear":var l;this.isInput?l=this.element:this.component&&(l=this.element.find("input")),l&&l.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":i.is(".disabled")||(this.viewDate.setUTCDate(1),i.is(".month")?(a=1,o=i.parent().find("span").index(i),r=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(o),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(r,o,a))):(a=1,o=0,r=parseInt(i.text(),10)||0,this.viewDate.setUTCFullYear(r),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(r,o,a))),this.showMode(-1),this.fill());break;case"td":i.is(".day")&&!i.is(".disabled")&&(a=parseInt(i.text(),10)||1,r=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),i.is(".old")?0===o?(o=11,r-=1):o-=1:i.is(".new")&&(11===o?(o=0,r+=1):o+=1),this._setDate(n(r,o,a)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e?-1!==t?this.dates.remove(t):this.dates.push(e):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,n){if(!e)return t;if(!n)return e;var r,o,a=new Date(e.valueOf()),i=a.getUTCDate(),s=a.getUTCMonth(),u=Math.abs(n);if(n=n>0?1:-1,1===u)o=-1===n?function(){return a.getUTCMonth()===s}:function(){return a.getUTCMonth()!==r},r=s+n,a.setUTCMonth(r),(0>r||r>11)&&(r=(r+12)%12);else{for(var c=0;u>c;c++)a=this.moveMonth(a,n);r=a.getUTCMonth(),a.setUTCDate(i),o=function(){return r!==a.getUTCMonth()}}for(;o();)a.setUTCDate(--i),a.setUTCMonth(r);return a},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return void(27===e.keyCode&&this.show());var t,n,o,a=!1,i=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||r(),t),o=this.moveYear(i,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||r(),t),o=this.moveMonth(i,t),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||r()),n.setUTCDate(n.getUTCDate()+t),o=new Date(i),o.setUTCDate(i.getUTCDate()+t)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||r(),t),o=this.moveYear(i,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||r(),t),o=this.moveMonth(i,t),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||r()),n.setUTCDate(n.getUTCDate()+7*t),o=new Date(i),o.setUTCDate(i.getUTCDate()+7*t)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:i=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(i),a=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(a){this._trigger(this.dates.length?"changeDate":"clearDate");var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var l=function(t,n){this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,e(this.inputs).datepicker(n).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};l.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var n=e(t.target).data("datepicker"),r=n.getUTCDate(),o=e.inArray(t.target,this.inputs),a=this.inputs.length;if(-1!==o){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(r)}),r<this.dates[o])for(;o>=0&&r<this.dates[o];)this.pickers[o--].setUTCDate(r);else if(r>this.dates[o])for(;a>o&&r>this.dates[o];)this.pickers[o++].setUTCDate(r);this.updateDates(),delete this.updating}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var d=e.fn.datepicker;e.fn.datepicker=function(n){var r=Array.apply(null,arguments);r.shift();var o;return this.each(function(){var s=e(this),u=s.data("datepicker"),d="object"==typeof n&&n;if(!u){var f=a(this,"date"),h=e.extend({},p,f,d),m=i(h.language),g=e.extend({},p,m,f,d);if(s.is(".input-daterange")||g.inputs){var _={inputs:g.inputs||s.find("input").toArray()};s.data("datepicker",u=new l(this,e.extend(g,_)))}else s.data("datepicker",u=new c(this,g))}return"string"==typeof n&&"function"==typeof u[n]&&(o=u[n].apply(u,r),o!==t)?!1:void 0}),o!==t?o:this};var p=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},f=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=c;var h=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,m.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\x00").split("\x00"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(r,o,a){function i(){var e=this.slice(0,p[l].length),t=p[l].slice(0,e.length);return e===t}if(!r)return t;if(r instanceof Date)return r;"string"==typeof o&&(o=m.parseFormat(o));var s,u,l,d=/([\-+]\d+)([dmwy])/,p=r.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(r)){for(r=new Date,l=0;l<p.length;l++)switch(s=d.exec(p[l]),u=parseInt(s[1]),s[2]){case"d":r.setUTCDate(r.getUTCDate()+u);break;case"m":r=c.prototype.moveMonth.call(c.prototype,r,u);break;case"w":r.setUTCDate(r.getUTCDate()+7*u);break;case"y":r=c.prototype.moveYear.call(c.prototype,r,u)}return n(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),0,0,0)}p=r&&r.match(this.nonpunctuation)||[],r=new Date;var f,g,_={},v=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};y.M=y.MM=y.mm=y.m,y.dd=y.d,r=n(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0);var b=o.parts.slice();if(p.length!==b.length&&(b=e(b).filter(function(t,n){return-1!==e.inArray(n,v)}).toArray()),p.length===b.length){var k;for(l=0,k=b.length;k>l;l++){if(f=parseInt(p[l],10),s=b[l],isNaN(f))switch(s){case"MM":g=e(h[a].months).filter(i),f=e.inArray(g[0],h[a].months)+1;break;case"M":g=e(h[a].monthsShort).filter(i),f=e.inArray(g[0],h[a].monthsShort)+1}_[s]=f}var w,S;for(l=0;l<v.length;l++)S=v[l],S in _&&!isNaN(_[S])&&(w=new Date(r),y[S](w,_[S]),isNaN(w)||(r=w))}return r},formatDate:function(t,n,r){if(!t)return"";"string"==typeof n&&(n=m.parseFormat(n));var o={d:t.getUTCDate(),D:h[r].daysShort[t.getUTCDay()],DD:h[r].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:h[r].monthsShort[t.getUTCMonth()],MM:h[r].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m,t=[];for(var a=e.extend([],n.separators),i=0,s=n.parts.length;s>=i;i++)a.length&&t.push(a.shift()),t.push(o[n.parts[i]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=m,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=d,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);n.data("datepicker")||(t.preventDefault(),n.datepicker("show"))}),e(function(){e('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery)}).call(this),"undefined"==typeof Package&&(Package={}),Package["bootstrap3-datepicker"]={}}(),function(){var e=Package.meteor.Meteor,t=(Package["telescope-lib"].deepExtend,Package["telescope-lib"].camelToDash,Package["telescope-lib"].dashToCamel,Package["telescope-lib"].getSetting),n=(Package["telescope-lib"].getThemeSetting,Package["telescope-lib"].getSiteUrl),r=(Package["telescope-lib"].trimWords,Package["telescope-base"].adminNav,Package["telescope-base"].viewNav,Package["telescope-base"].addToPostSchema,Package["telescope-base"].addToCommentsSchema,Package["telescope-base"].addToSettingsSchema,Package["telescope-base"].preloadSubscriptions,Package["telescope-base"].primaryNav,Package["telescope-base"].secondaryNav,Package["telescope-base"].viewParameters,Package["telescope-base"].footerModules,Package["telescope-base"].heroModules,Package["telescope-base"].postModules),o=(Package["telescope-base"].postHeading,Package["telescope-base"].postMeta,Package["telescope-base"].modulePositions,Package["telescope-base"].postSubmitRenderedCallbacks,Package["telescope-base"].postSubmitClientCallbacks,Package["telescope-base"].postSubmitServerCallbacks,Package["telescope-base"].postEditRenderedCallbacks,Package["telescope-base"].postEditClientCallbacks,Package["telescope-base"].commentSubmitClientCallbacks,Package["telescope-base"].commentSubmitServerCallbacks,Package["telescope-base"].commentEditClientCallbacks,Package["telescope-base"].getTemplate),a=(Package["telescope-base"].templates,Package["telescope-base"].themeSettings,Package.jquery.$),i=(Package.jquery.jQuery,Package.underscore._,Package.templating.Template),s=(Package.ui.UI,Package.ui.Handlebars,Package.htmljs.HTML),u=Package.blaze.Blaze;(function(){r.push({template:"postShare",position:"right-center"})}).call(this),function(){i.__define__("postShare",function(){var e=this;return[s.A({href:"#","class":"share-link"},s.Raw('<i class="icon-share"></i>'),s.SPAN({"class":"action"},u.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Share")}))),"\n  ",s.DIV({"class":"share-options hidden"},"\n    ",s.A({"class":"mt-facebook mt-share-inline-square-sm",href:function(){return["https://www.facebook.com/sharer/sharer.php?u=",Spacebars.mustache(e.lookup("sourceLink"))]},target:"_blank"},s.Raw('<img src="http://mojotech-static.s3.amazonaws.com/facebook@2x.png">')),"\n    ",s.A({"class":"mt-twitter mt-share-inline-square-sm",href:function(){return["http://twitter.com/intent/tweet?text=",Spacebars.mustache(e.lookup("title")),"&url=",Spacebars.mustache(e.lookup("sourceLink")),"&",Spacebars.mustache(e.lookup("viaTwitter"))]},target:"_blank"},s.Raw('<img src="http://mojotech-static.s3.amazonaws.com/twitter@2x.png">')),"\n    ",s.A({"class":"mt-linkedin mt-share-inline-square-sm",href:function(){return["http://www.linkedin.com/shareArticle?mini=true&url=",Spacebars.mustache(e.lookup("sourceLink")),s.CharRef({html:"&amp;",str:"&"}),"summary=",Spacebars.mustache(e.lookup("title"))]},target:"_blank"},s.Raw('<img src="http://mojotech-static.s3.amazonaws.com/linkedin@2x.png">')),"\n    ",s.A({"class":"mt-google mt-share-inline-square-sm",href:function(){return["https://plus.google.com/share?url=",Spacebars.mustache(e.lookup("sourceLink"))]},target:"_blank"},s.Raw('<img src="http://mojotech-static.s3.amazonaws.com/google@2x.png">')),"\n  ")]})}.call(this),function(){e.startup(function(){i[o("postShare")].helpers({sourceLink:function(){return this.url?this.url:n()+"posts/"+this._id},viaTwitter:function(){return t("twitterAccount")?"via="+t("twitterAccount"):""}}),i[o("postShare")].events({"click .share-link":function(e){var t=a(e.target).parents(".post-share").find(".share-link"),n=t.parents(".post-share").find(".share-options");e.preventDefault(),a(".share-link").not(t).removeClass("active"),a(".share-options").not(n).addClass("hidden"),t.toggleClass("active"),n.toggleClass("hidden")}})})}.call(this),"undefined"==typeof Package&&(Package={}),Package["telescope-module-share"]={}}(),function(){var e,t=Package.meteor.Meteor,n=Package.deps.Deps,r=Package.underscore._;(function(){e=function(e){var o=this;o.options=e||{},o.options.cacheLimit=o.options.cacheLimit||10,o.options.expireIn=o.options.expireIn||5,o._cacheMap={},o._cacheList=[],o.ready=!1,o.dep=new n.Dependency,o.computation=n.autorun(function(){o._applyExpirations(),o._applyCacheLimit();var e=!0;r.each(o._cacheList,function(n){n.ready=t.subscribe.apply(t,n.args).ready(),e=e&&n.ready}),e&&(o.ready=!0,o.dep.changed())})},e.prototype.subscribe=function(){var e=this;return t.isClient?(this._addSub(arguments),{ready:function(){return e.dep.depend(),e.ready}}):t.subscribe?t.subscribe.apply(t,arguments):void 0},e.prototype._addSub=function(e){var t=this,r=JSON.stringify(e);if(!t._cacheMap[r]){var o={args:e,hash:r};t._cacheMap[r]=o,t._cacheList.push(o),t.ready=!1,n.currentComputation?n.afterFlush(function(){t.computation.invalidate()}):t.computation.invalidate()}var o=t._cacheMap[r];o.updated=(new Date).getTime();var a=t._cacheList.indexOf(o);t._cacheList.splice(a,1),t._cacheList.push(o)},e.prototype._applyCacheLimit=function(){var e=this,t=e._cacheList.length-e.options.cacheLimit;if(t>0){var n=e._cacheList.splice(0,t);r.each(n,function(t){delete e._cacheMap[t.hash]})}},e.prototype._applyExpirations=function(){var e=this,t=[],n=(new Date).getTime()-60*e.options.expireIn*1e3;r.each(e._cacheList,function(r){r.updated>=n?t.push(r):delete e._cacheMap[r.hash]}),e._cacheList=t}}).call(this),"undefined"==typeof Package&&(Package={}),Package["subs-manager"]={SubsManager:e}}(),function(){var e=(Package.meteor.Meteor,Package["telescope-lib"].deepExtend,Package["telescope-lib"].camelToDash,Package["telescope-lib"].dashToCamel,Package["telescope-lib"].getSetting,Package["telescope-lib"].getThemeSetting,Package["telescope-lib"].getSiteUrl,Package["telescope-lib"].trimWords,Package["telescope-base"].adminNav,Package["telescope-base"].viewNav,Package["telescope-base"].addToPostSchema),t=(Package["telescope-base"].addToCommentsSchema,Package["telescope-base"].addToSettingsSchema),n=(Package["telescope-base"].preloadSubscriptions,Package["telescope-base"].primaryNav,Package["telescope-base"].secondaryNav,Package["telescope-base"].viewParameters,Package["telescope-base"].footerModules,Package["telescope-base"].heroModules,Package["telescope-base"].postModules),r=(Package["telescope-base"].postHeading,Package["telescope-base"].postMeta,Package["telescope-base"].modulePositions,Package["telescope-base"].postSubmitRenderedCallbacks,Package["telescope-base"].postSubmitClientCallbacks,Package["telescope-base"].postSubmitServerCallbacks,Package["telescope-base"].postEditRenderedCallbacks,Package["telescope-base"].postEditClientCallbacks,Package["telescope-base"].commentSubmitClientCallbacks,Package["telescope-base"].commentSubmitServerCallbacks,Package["telescope-base"].commentEditClientCallbacks,Package["telescope-base"].getTemplate),o=(Package["telescope-base"].templates,Package["telescope-base"].themeSettings,Package.templating.Template),a=(Package.ui.UI,Package.ui.Handlebars,Package.htmljs.HTML),i=Package.blaze.Blaze;(function(){var r={propertyName:"thumbnailUrl",propertySchema:{type:String,optional:!0}};e.push(r);var o={propertyName:"media",propertySchema:{type:Object,optional:!0,blackbox:!0}};e.push(o),n.push({template:"postThumbnail",position:"center-left"});var a={propertyName:"embedlyKey",propertySchema:{type:String,optional:!0}};t.push(a)}).call(this),function(){o.__define__("postThumbnail",function(){var e=this;return[i.If(function(){return Spacebars.call(e.lookup("thumbnailUrl"))},function(){return["\n    ",a.A({"class":function(){return["post-thumbnail-link ",Spacebars.mustache(e.lookup("playVideoClass"))]},href:function(){return Spacebars.mustache(e.lookup("postLink"))},target:"_blank"},"\n      ",a.IMG({"class":"post-thumbnail-image",src:function(){return Spacebars.mustache(e.lookup("thumbnailUrl"))}}),"\n    "),"\n  "]}),"\n  ",i.If(function(){return Spacebars.call(e.lookup("media"))},function(){return["\n    ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("videoTemplate")),data:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(function(){return Spacebars.call(o.__dynamic)})}),"\n  "]})]})}.call(this),function(){o[r("postThumbnail")].helpers({postLink:function(){return this.url?getOutgoingUrl(this.url):"/posts/"+this._id},playVideoClass:function(){return this.media?"post-thumbnail-has-video":""},videoTemplate:function(){return r("postVideo")}}),o[r("postThumbnail")].events({"click .post-thumbnail-has-video":function(e){e.preventDefault(),$("body").addClass("showing-lightbox"),$(e.target).parents(".post").find(".post-video-lightbox").fadeIn("fast")}})}.call(this),function(){o.__define__("postVideo",function(){var e=this;return Spacebars.With(function(){return Spacebars.call(e.lookup("media"))},function(){return["\n    ",a.DIV({"class":"post-video-lightbox hidden"},"\n      ",a.A({"class":"post-video-lightbox-hide",href:"#"},"×"),"\n      ",a.DIV({"class":"post-video-lightbox-inner"},"\n        ",i.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("html")))}),"\n      "),"\n    "),"\n  "]})})}.call(this),function(){o[r("postVideo")].events({"click .post-video-lightbox-hide, click .post-video-lightbox":function(e){e.preventDefault(),$(e.target).parents(".post").find(".post-video-lightbox").fadeOut("fast"),$("body").removeClass("showing-lightbox")}})}.call(this),"undefined"==typeof Package&&(Package={}),Package["telescope-module-embedly"]={}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["handlebars-server"]={}}(),function(){{var e;Package.meteor.Meteor}"undefined"==typeof Package&&(Package={}),Package.npm={Async:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.templating.Template,r=(Package.ui.UI,Package.ui.Handlebars,Package.htmljs.HTML),o=Package.blaze.Blaze;(function(){n.__define__("MailChimpListSubscribe",function(){var e=this;return r.DIV("\n	",o.If(function(){return Spacebars.call(e.lookup("message"))},function(){return["\n		",r.P({"class":"message"},o.View(function(){return Spacebars.mustache(e.lookup("message"))})),"\n	"]}),r.Raw('\n		<input class="email" type="email" placeholder="email@example.com">\n		<button class="subscribe" type="button">Subscribe</button>\n	'))})}).call(this),function(){var t,r,o,a="Get on the mailing list:",i="Invalid email address :(",s="Subscribing...",u="Check your inbox! :)",c="Already subscribed! O.o",l=function(e){t&&(t.innerHTML=e)},d=function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},p=function(e){""!==r.value&&d(r.value)?(o.disabled=!1,e&&l(a)):(o.disabled=!0,""!==r.value?l(i):e&&l(a))},f=function(t,n){var o=new e;o.call("lists","subscribe",{id:n,email:{email:t}},function(e,t){if(e){switch(e.error){case 232:l(i);break;case 214:l(c);break;case 200:default:l("Internal error ["+e.error+"]")}console.log("[MailChimp][Subscribe] Error: "+e.error+" - "+e.reason)}else console.log("[MailChimp][Subscribe]: "+r.value+" "+u),console.log(JSON.stringify(t)),l(u);r.disabled=!1,p(!1)})},h=function(e){return r.disabled=!0,o.disabled=!0,l(s),f(r.value),e};n.MailChimpListSubscribe.rendered=function(){t=this.find(".message"),r=this.find(".email"),o=this.find(".subscribe"),o.disabled=""===r.value},n.MailChimpListSubscribe.helpers({message:function(){return a}}),n.MailChimpListSubscribe.events({"focus .email, paste .email, cut .email":function(){setTimeout(function(){p(!0)},0)},"keyup .email":function(e){var t=e.which||e.keyCode||e.charCode;(8===t||46===t)&&setTimeout(function(){p(!0)},0)},"keypress .email":function(e){var t=e.which||e.keyCode||e.charCode;setTimeout(function(){p(!0),d(r.value)&&13===t&&h(!0)},0)},"click .subscribe":function(){p(!0),d(r.value)&&h(!1)}})}.call(this),function(){e=function(e,t){this._options=function(){return{apiKey:e?e:Session.get("MailChimpOptions.apiKey"),options:t}
}},e.prototype.call=function(e,n,r,o){t.call("MailChimp",this._options(),e,n,r,function(e,t){o(e,t)})}}.call(this),"undefined"==typeof Package&&(Package={}),Package.mailchimp={MailChimp:e}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["synced-cron"]={}}(),function(){var e,t=(Package.meteor.Meteor,Package.deps.Deps);(function(){e={},e._deps={},e._dep=new t.Dependency,e.get=function(n){var r=e._deps[n];r||(e._deps[n]=new t.Dependency,r=e._deps[n]),r.depend();var o=document.cookie,a=o.indexOf(n+"=");if(-1===a)return null;a=o.indexOf("=",a)+1;var i=o.indexOf(";",a);return-1===i&&(i=o.length),unescape(o.substring(a,i))},e.set=function(n,r,o){var a=(new Date).getTime();o?(o.seconds&&(a+=1e3*o.seconds),o.minutes&&(a+=1e3*o.minutes*60),o.hours&&(a+=1e3*o.hours*60*60),o.days&&(a+=1e3*o.days*60*60*24),o.months&&(a+=1e3*o.months*60*60*30),o.years&&(a+=1e3*o.years*60*60*24*366),o.clear&&(a=0)):a+=316224e5;var i=""+n+"="+escape(r)+"; expires="+new Date(a).toUTCString()+"; path=/";document.cookie=i;var s=e._deps[n];s||(e._deps[n]=new t.Dependency,s=e._deps[n]),s.changed(),e._dep.changed()},e.list=function(){e._dep.depend();var t=document.cookie,n=t.split(";"),r=[];for(var o in n){var a=n[o].indexOf("=");r.push(n[o].substring(0,a).replace(/^ +/,"").replace(/ +$/,""))}return r},e.clear=function(t){e.set(t,null,{clear:!0})},e.clearAll=function(){var t=document.cookie,n=t.split(";"),r=[];for(var o in n){var a=n[o].indexOf("=");r.push(n[o].substring(0,a).replace(/^ +/,"").replace(/ +$/,""))}for(var o in r)e.clear(r[o]);e._dep.changed()}}).call(this),"undefined"==typeof Package&&(Package={}),Package.cookies={Cookie:e}}(),function(){var e,t,n=Package.meteor.Meteor,r=(Package["telescope-lib"].deepExtend,Package["telescope-lib"].camelToDash,Package["telescope-lib"].dashToCamel,Package["telescope-lib"].getSetting),o=(Package["telescope-lib"].getThemeSetting,Package["telescope-lib"].getSiteUrl,Package["telescope-lib"].trimWords,Package["telescope-base"].adminNav,Package["telescope-base"].viewNav,Package["telescope-base"].addToPostSchema),a=(Package["telescope-base"].addToCommentsSchema,Package["telescope-base"].addToSettingsSchema),i=(Package["telescope-base"].preloadSubscriptions,Package["telescope-base"].primaryNav,Package["telescope-base"].secondaryNav,Package["telescope-base"].viewParameters),s=(Package["telescope-base"].footerModules,Package["telescope-base"].heroModules),u=(Package["telescope-base"].postModules,Package["telescope-base"].postHeading,Package["telescope-base"].postMeta,Package["telescope-base"].modulePositions,Package["telescope-base"].postSubmitRenderedCallbacks,Package["telescope-base"].postSubmitClientCallbacks,Package["telescope-base"].postSubmitServerCallbacks,Package["telescope-base"].postEditRenderedCallbacks,Package["telescope-base"].postEditClientCallbacks,Package["telescope-base"].commentSubmitClientCallbacks,Package["telescope-base"].commentSubmitServerCallbacks,Package["telescope-base"].commentEditClientCallbacks,Package["telescope-base"].getTemplate),c=(Package["telescope-base"].templates,Package["telescope-base"].themeSettings,Package["simple-schema"].SimpleSchema),l=(Package["simple-schema"].MongoObject,Package.mailchimp.MailChimp,Package.jquery.$),d=(Package.jquery.jQuery,Package.underscore._,Package["iron-router"].RouteController,Package["iron-router"].Route,Package["iron-router"].Router),p=(Package["iron-router"].IronLocation,Package.templating.Template),f=Package.cookies.Cookie,h=(Package.ui.UI,Package.ui.Handlebars,Package["iron-core"].Iron,Package.htmljs.HTML),m=Package.blaze.Blaze;(function(){e=new c({_id:{type:String,optional:!0},createdAt:{type:Date,optional:!0},sentAt:{type:String,optional:!0},status:{type:String,optional:!0},posts:{type:[String],optional:!0},webHits:{type:Number,optional:!0}}),t=new n.Collection("campaigns",{schema:e}),o.push({propertyName:"scheduledAt",propertySchema:{type:Date,optional:!0}});var r={propertyName:"showBanner",propertySchema:{type:Boolean,optional:!0,label:"Show newsletter sign-up banner"}};a.push(r);var u={propertyName:"mailChimpAPIKey",propertySchema:{type:String,optional:!0}};a.push(u);var l={propertyName:"mailChimpListId",propertySchema:{type:String,optional:!0}};a.push(l);var d={propertyName:"postsPerNewsletter",propertySchema:{type:Number,optional:!0}};a.push(d);var p={propertyName:"newsletterFrequency",propertySchema:{type:Number,optional:!0,autoform:{options:[{value:1,label:"Every Day"},{value:2,label:"Mondays, Wednesdays, Fridays"},{value:3,label:"Mondays & Thursdays"},{value:7,label:"Once a week (Mondays)"},{value:0,label:"Don't send newsletter"}]},label:"Newsletter Frequency (requires restart)"}};a.push(p),i.campaign=function(e){return{find:{scheduledAt:{$exists:!1},postedAt:{$gte:e.after}},options:{sort:{sticky:-1,score:-1}}}},s.push({template:"newsletterBanner"})}).call(this),function(){p.__define__("newsletterBanner",function(){var e=this;return m.If(function(){return Spacebars.call(e.lookup("showBanner"))},function(){return["\n    ",h.DIV({"class":"newsletter-banner module grid"},"\n      ",h.FORM("\n        ",h.H4({"class":"newsletter-tagline"},"Receive the best of ",m.View(function(){return Spacebars.mustache(e.lookup("siteName"))})," right in your inbox"),"\n        ",m.If(function(){return Spacebars.call(e.lookup("isNotConnected"))},function(){return["\n          ",h.INPUT({"class":"newsletter-email",type:"email",placeholder:"Your Email"}),"\n        "]}),"\n        ",h.BUTTON({"class":"button newsletter-button"},"Get Newsletter",h.SPAN({"class":"button-loader"},h.IMG({src:"/img/loading-balls.svg"}))),"\n      "),"\n      ",h.H4({"class":"newsletter-subscribed"},"Thanks for subscribing!"),"\n      ",h.A({href:"#","class":"newsletter-dismiss"},"×"),"\n    "),"\n  "]})})}.call(this),function(){var e=function(){l(".newsletter-banner form").css("opacity",0),l(".newsletter-banner .newsletter-subscribed").css("display","block").css("opacity",1),n.setInterval(function(){t()},2e3)},t=function(){l(".newsletter-banner").fadeOut("fast",function(){n.user()?setUserSetting("showBanner",!1):f.set("showBanner","no")})};p[u("newsletterBanner")].helpers({siteName:function(){return r("title")},isNotConnected:function(){return!n.user()},showBanner:function(){return 0==r("showBanner",!1)||"/"!=d.current().path||"no"==f.get("showBanner")||n.user()&&0==getUserSetting("showBanner",!0)||n.user()&&1==getUserSetting("subscribedToNewsletter",!1)?!1:!0}}),p[u("newsletterBanner")].events({"click .newsletter-button":function(t){t.preventDefault();var r=l(".newsletter-banner");if(n.user())r.addClass("show-loader"),n.call("addCurrentUserToMailChimpList",function(t,n){r.removeClass("show-loader"),t?(console.log(t),throwError(t.message)):(console.log(n),e())});else{var o=l(".newsletter-email").val();if(!o)return void alert("Please fill in your email.");r.addClass("show-loader"),n.call("addEmailToMailChimpList",o,function(t,n){r.removeClass("show-loader"),t?(console.log(t),throwError(t.message)):(console.log(n),e())})}},"click .newsletter-dismiss":function(e){l(".newsletter-banner").fadeOut("fast"),t(),e.preventDefault()}})}.call(this),"undefined"==typeof Package&&(Package={}),Package["telescope-newsletter"]={}}(),function(){Package.meteor.Meteor,Package["telescope-lib"].deepExtend,Package["telescope-lib"].camelToDash,Package["telescope-lib"].dashToCamel,Package["telescope-lib"].getSetting,Package["telescope-lib"].getThemeSetting,Package["telescope-lib"].getSiteUrl,Package["telescope-lib"].trimWords,Package["telescope-base"].adminNav,Package["telescope-base"].viewNav,Package["telescope-base"].addToPostSchema,Package["telescope-base"].addToCommentsSchema,Package["telescope-base"].addToSettingsSchema,Package["telescope-base"].preloadSubscriptions,Package["telescope-base"].primaryNav,Package["telescope-base"].secondaryNav,Package["telescope-base"].viewParameters,Package["telescope-base"].footerModules,Package["telescope-base"].heroModules,Package["telescope-base"].postModules,Package["telescope-base"].postHeading,Package["telescope-base"].postMeta,Package["telescope-base"].modulePositions,Package["telescope-base"].postSubmitRenderedCallbacks,Package["telescope-base"].postSubmitClientCallbacks,Package["telescope-base"].postSubmitServerCallbacks,Package["telescope-base"].postEditRenderedCallbacks,Package["telescope-base"].postEditClientCallbacks,Package["telescope-base"].commentSubmitClientCallbacks,Package["telescope-base"].commentSubmitServerCallbacks,Package["telescope-base"].commentEditClientCallbacks,Package["telescope-base"].getTemplate,Package["telescope-base"].templates,Package["telescope-base"].themeSettings;"undefined"==typeof Package&&(Package={}),Package["telescope-theme-base"]={}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.coffeescript={}}(),function(){var e,t,n=Package.underscore._;(function(){t={}}).call(this),function(){!function(e,n){"use strict";function r(e,t){var n,r,o=e.toLowerCase();for(t=[].concat(t),n=0;n<t.length;n+=1)if(r=t[n]){if(r.test&&r.test(e))return!0;if(r.toLowerCase()===o)return!0}}var o=n.prototype.trim,a=n.prototype.trimRight,i=n.prototype.trimLeft,s=function(e){return 1*e||0},u=function(e,t){if(1>t)return"";for(var n="";t>0;)1&t&&(n+=e),t>>=1,e+=e;return n},c=[].slice,l=function(e){return null==e?"\\s":e.source?e.source:"["+m.escapeRegExp(e)+"]"},d={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},p={};for(var f in d)p[d[f]]=f;p["'"]="#39";var h=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var t=u,r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};return r.format=function(r,o){var a,i,s,u,c,l,d,p=1,f=r.length,m="",g=[];for(i=0;f>i;i++)if(m=e(r[i]),"string"===m)g.push(r[i]);else if("array"===m){if(u=r[i],u[2])for(a=o[p],s=0;s<u[2].length;s++){if(!a.hasOwnProperty(u[2][s]))throw new Error(h('[_.sprintf] property "%s" does not exist',u[2][s]));a=a[u[2][s]]}else a=u[1]?o[u[1]]:o[p++];if(/[^s]/.test(u[8])&&"number"!=e(a))throw new Error(h("[_.sprintf] expecting number but found %s",e(a)));switch(u[8]){case"b":a=a.toString(2);break;case"c":a=n.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=u[7]?a.toExponential(u[7]):a.toExponential();break;case"f":a=u[7]?parseFloat(a).toFixed(u[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=n(a))&&u[7]?a.substring(0,u[7]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}a=/[def]/.test(u[8])&&u[3]&&a>=0?"+"+a:a,l=u[4]?"0"==u[4]?"0":u[4].charAt(1):" ",d=u[6]-n(a).length,c=u[6]?t(l,d):"",g.push(u[5]?a+c:c+a)}return g.join("")},r.cache={},r.parse=function(e){for(var t=e,n=[],r=[],o=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))r.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))r.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw new Error("[_.sprintf] huh?");if(n[2]){o|=1;var a=[],i=n[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(i)))throw new Error("[_.sprintf] huh?");for(a.push(s[1]);""!==(i=i.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(i)))a.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(i)))throw new Error("[_.sprintf] huh?");a.push(s[1])}n[2]=a}else o|=2;if(3===o)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");r.push(n)}t=t.substring(n[0].length)}return r},r}(),m={VERSION:"2.3.0",isBlank:function(e){return null==e&&(e=""),/^\s*$/.test(e)},stripTags:function(e){return null==e?"":n(e).replace(/<\/?[^>]+>/g,"")},capitalize:function(e){return e=null==e?"":n(e),e.charAt(0).toUpperCase()+e.slice(1)},chop:function(e,t){return null==e?[]:(e=n(e),t=~~t,t>0?e.match(new RegExp(".{1,"+t+"}","g")):[e])},clean:function(e){return m.strip(e).replace(/\s+/g," ")},count:function(e,t){if(null==e||null==t)return 0;e=n(e),t=n(t);for(var r=0,o=0,a=t.length;;){if(o=e.indexOf(t,o),-1===o)break;r++,o+=a}return r},chars:function(e){return null==e?[]:n(e).split("")},swapCase:function(e){return null==e?"":n(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})},escapeHTML:function(e){return null==e?"":n(e).replace(/[&<>"']/g,function(e){return"&"+p[e]+";"})},unescapeHTML:function(e){return null==e?"":n(e).replace(/\&([^;]+);/g,function(e,t){var r;return t in d?d[t]:(r=t.match(/^#x([\da-fA-F]+)$/))?n.fromCharCode(parseInt(r[1],16)):(r=t.match(/^#(\d+)$/))?n.fromCharCode(~~r[1]):e})},escapeRegExp:function(e){return null==e?"":n(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(e,t,n,r){var o=m.chars(e);return o.splice(~~t,~~n,r),o.join("")},insert:function(e,t,n){return m.splice(e,t,0,n)},include:function(e,t){return""===t?!0:null==e?!1:-1!==n(e).indexOf(t)},join:function(){var e=c.call(arguments),t=e.shift();return null==t&&(t=""),e.join(t)},lines:function(e){return null==e?[]:n(e).split("\n")},reverse:function(e){return m.chars(e).reverse().join("")},startsWith:function(e,t){return""===t?!0:null==e||null==t?!1:(e=n(e),t=n(t),e.length>=t.length&&e.slice(0,t.length)===t)},endsWith:function(e,t){return""===t?!0:null==e||null==t?!1:(e=n(e),t=n(t),e.length>=t.length&&e.slice(e.length-t.length)===t)},succ:function(e){return null==e?"":(e=n(e),e.slice(0,-1)+n.fromCharCode(e.charCodeAt(e.length-1)+1))},titleize:function(e){return null==e?"":(e=n(e).toLowerCase(),e.replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()}))},camelize:function(e){return m.trim(e).replace(/[-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})},underscored:function(e){return m.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(e){return m.trim(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(e){return m.titleize(n(e).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(e){return m.capitalize(m.underscored(e).replace(/_id$/,"").replace(/_/g," "))},trim:function(e,t){return null==e?"":!t&&o?o.call(e):(t=l(t),n(e).replace(new RegExp("^"+t+"+|"+t+"+$","g"),""))},ltrim:function(e,t){return null==e?"":!t&&i?i.call(e):(t=l(t),n(e).replace(new RegExp("^"+t+"+"),""))},rtrim:function(e,t){return null==e?"":!t&&a?a.call(e):(t=l(t),n(e).replace(new RegExp(t+"+$"),""))},truncate:function(e,t,r){return null==e?"":(e=n(e),r=r||"...",t=~~t,e.length>t?e.slice(0,t)+r:e)},prune:function(e,t,r){if(null==e)return"";if(e=n(e),t=~~t,r=null!=r?n(r):"...",e.length<=t)return e;var o=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},a=e.slice(0,t+1).replace(/.(?=\W*\w*$)/g,o);return a=a.slice(a.length-2).match(/\w\w/)?a.replace(/\s*\S+$/,""):m.rtrim(a.slice(0,a.length-1)),(a+r).length>e.length?e:e.slice(0,a.length)+r},words:function(e,t){return m.isBlank(e)?[]:m.trim(e,t).split(t||/\s+/)},pad:function(e,t,r,o){e=null==e?"":n(e),t=~~t;var a=0;switch(r?r.length>1&&(r=r.charAt(0)):r=" ",o){case"right":return a=t-e.length,e+u(r,a);case"both":return a=t-e.length,u(r,Math.ceil(a/2))+e+u(r,Math.floor(a/2));default:return a=t-e.length,u(r,a)+e}},lpad:function(e,t,n){return m.pad(e,t,n)},rpad:function(e,t,n){return m.pad(e,t,n,"right")},lrpad:function(e,t,n){return m.pad(e,t,n,"both")},sprintf:h,vsprintf:function(e,t){return t.unshift(e),h.apply(null,t)},toNumber:function(e,t){return e?(e=m.trim(e),e.match(/^-?\d+(?:\.\d+)?$/)?s(s(e).toFixed(~~t)):0/0):0},numberFormat:function(e,t,n,r){if(isNaN(e)||null==e)return"";e=e.toFixed(~~t),r="string"==typeof r?r:",";var o=e.split("."),a=o[0],i=o[1]?(n||".")+o[1]:"";return a.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+i},strRight:function(e,t){if(null==e)return"";e=n(e),t=null!=t?n(t):t;var r=t?e.indexOf(t):-1;return~r?e.slice(r+t.length,e.length):e},strRightBack:function(e,t){if(null==e)return"";e=n(e),t=null!=t?n(t):t;var r=t?e.lastIndexOf(t):-1;return~r?e.slice(r+t.length,e.length):e},strLeft:function(e,t){if(null==e)return"";e=n(e),t=null!=t?n(t):t;var r=t?e.indexOf(t):-1;return~r?e.slice(0,r):e},strLeftBack:function(e,t){if(null==e)return"";e+="",t=null!=t?""+t:t;var n=e.lastIndexOf(t);return~n?e.slice(0,n):e},toSentence:function(e,t,n,r){t=t||", ",n=n||" and ";var o=e.slice(),a=o.pop();return e.length>2&&r&&(n=m.rtrim(t)+n),o.length?o.join(t)+n+a:a},toSentenceSerial:function(){var e=c.call(arguments);return e[3]=!0,m.toSentence.apply(m,e)},slugify:function(e){if(null==e)return"";var t="ąàáäâãåæăćęèéëêìíïîłńòóöôõøśșțùúüûñçżź",r="aaaaaaaaaceeeeeiiiilnoooooosstuuuunczz",o=new RegExp(l(t),"g");return e=n(e).toLowerCase().replace(o,function(e){var n=t.indexOf(e);return r.charAt(n)||"-"}),m.dasherize(e.replace(/[^\w\s-]/g,""))},surround:function(e,t){return[t,e,t].join("")},quote:function(e,t){return m.surround(e,t||'"')},unquote:function(e,t){return t=t||'"',e[0]===t&&e[e.length-1]===t?e.slice(1,e.length-1):e},exports:function(){var e={};for(var t in this)this.hasOwnProperty(t)&&!t.match(/^(?:include|contains|reverse)$/)&&(e[t]=this[t]);return e},repeat:function(e,t,r){if(null==e)return"";if(t=~~t,null==r)return u(n(e),t);for(var o=[];t>0;o[--t]=e);return o.join(r)},naturalCmp:function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var r=/(\.\d+)|(\d+)|(\D+)/g,o=n(e).toLowerCase().match(r),a=n(t).toLowerCase().match(r),i=Math.min(o.length,a.length),s=0;i>s;s++){var u=o[s],c=a[s];if(u!==c){var l=parseInt(u,10);if(!isNaN(l)){var d=parseInt(c,10);if(!isNaN(d)&&l-d)return l-d}return c>u?-1:1}}return o.length===a.length?o.length-a.length:t>e?-1:1},levenshtein:function(e,t){if(null==e&&null==t)return 0;if(null==e)return n(t).length;if(null==t)return n(e).length;e=n(e),t=n(t);for(var r,o,a=[],i=0;i<=t.length;i++)for(var s=0;s<=e.length;s++)o=i&&s?e.charAt(s-1)===t.charAt(i-1)?r:Math.min(a[s],a[s-1],r)+1:i+s,r=a[s],a[s]=o;return a.pop()},toBoolean:function(e,t,n){return"number"==typeof e&&(e=""+e),"string"!=typeof e?!!e:(e=m.trim(e),r(e,t||["true","1"])?!0:r(e,n||["false","0"])?!1:void 0)}};m.strip=m.trim,m.lstrip=m.ltrim,m.rstrip=m.rtrim,m.center=m.lrpad,m.rjust=m.lpad,m.ljust=m.rpad,m.contains=m.include,m.q=m.quote,m.toBool=m.toBoolean,"undefined"!=typeof t&&("undefined"!=typeof module&&module.exports&&(module.exports=m),t._s=m),"function"==typeof define&&define.amd&&define("underscore.string",[],function(){return m}),e._=e._||{},e._.string=e._.str=m}(this,String)}.call(this),function(){e=t._s,n.str=e,n.mixin(n.str.exports()),n.str.include("Underscore.string","string")}.call(this),"undefined"==typeof Package&&(Package={}),Package["underscore-string-latest"]={_s:e}}(),function(){var e,t,n,r,o,a,i,s,u,c,l,d,p,f,h,m,g,_,v,y,b,k,w,S,T,M,L,D,P,C,E,x,I,A,O,N,Y,F,H,V,B=Package.meteor.Meteor,R=Package.ui.UI,U=(Package.ui.Handlebars,Package.templating.Template),j=Package.underscore._,z=(Package["underscore-string-latest"]._s,Package.htmljs.HTML),q=Package.blaze.Blaze;(function(){U.__define__("simpleFormFileField",function(){var e=this;return[q.If(function(){return Spacebars.call(e.lookup("file"))},function(){return["\n  ",q.View(function(){return Spacebars.mustache(e.lookup("originalFileName"))})," ",z.A({href:function(){return Spacebars.mustache(e.lookup("file"))},"class":"remove"}," ",z.I({"class":"fa fa-trash-o"})),"\n"]},function(){return["\n  ",Spacebars.TemplateWith(function(){return{settings:Spacebars.call(e.lookup("settings"))}},function(){return Spacebars.include(e.lookupTemplate("uploader"))}),"\n"]}),"\n  ",z.INPUT({type:"hidden","class":"simpleFormFile",value:function(){return Spacebars.mustache(e.lookup("file"))},name:function(){return[Spacebars.mustache(Spacebars.dot(e.lookup("settings"),"name")),"Url"]}}),"\n  ",z.INPUT({type:"hidden","class":"simpleFormFile",value:function(){return Spacebars.mustache(e.lookup("originalFileName"))},name:function(){return[Spacebars.mustache(Spacebars.dot(e.lookup("settings"),"name")),"OriginalFileName"]}})]})}).call(this),function(){U.simpleFormFileField.helpers({originalFileName:function(){return Session.get(this.field+"OriginalFileName")?Session.get(this.field+"OriginalFileName"):this.object[this.field+"OriginalFileName"]},file:function(){return Session.get(this.field+"Url")?Session.get(this.field+"Url"):this.object[this.field+"Url"]}}),U.simpleFormFileField.events({"click .remove":function(e){e.preventDefault(),B.call("uploaderDelete",$(e.target).parent().attr("href"),function(){Session.set(this.field+"OriginalFileName",void 0),Session.set(this.field+"Url",void 0),$('input[name="'+this.field+'Url"').val(void 0),$('input[name="'+this.field+'OriginalFileName"').val(void 0),this.object[this.field+"Url"]=void 0,this.object[this.field+"OriginalFileName"]=void 0}.bind(this))}})}.call(this),function(){t=function(e){return e?n=e["class"]?" "+e["class"]:"":void 0},r=function(e){return e.required?" required":""},o=function(e){return e?e.id?" id='"+e.id+"'":"":void 0},a=function(e){return i=e.placeholder?" placeholder='"+e.placeholder+"' ":""},s=function(e,t){return u=j.isString(e.label)?e.label:j.humanize(t)},c=function(e,t){return e.label===!1?"":(u=s(e,t),"<label for='"+t+"'>"+u+"</label>")},l=function(e){return d=e.hint?"<span class='help-block'>"+e.hint+"</span>":""},p=function(e){return f="",(e.before||e.after)&&(f="<div class='input-group'>",e.before&&(f=f+"<span class='input-group-addon'>"+e.before+"</span>")),f},h=function(e){return f="",(e.before||e.after)&&(e.after&&(f="<span class='input-group-addon'>"+e.after+"</span>"),f+="</div>"),f},m=function(e,t){if(g=t.constructor.name,!window[g])return!1;if(_=j.contains(j.pluck(window[g].belongs_to,"name"),e)){v=window[j.classify(e)].all();var n=[];return j.each(v,function(e){n.push({value:e._id,name:e.name})}),n}return!1},y=function(e,t){if(g=t.constructor.name,!window[g])return!1;if(_=j.contains(j.pluck(window[g].has_and_belongs_to_many,"name"),e)){v=window[j.classify(j.singularize(e))].all();var n=[];return j.each(v,function(e){n.push({value:e._id,name:e.name})}),n}return!1},b=function(e,t,n,r){return!1},R.registerHelper("text_field",function(e,o){var s=this;if(e)return S=s[e]||"",n=t(o.hash),T=o.hash.type||"text",S&&"date"===T&&S.constructor===Date&&(S=S.getFullYear()+"-"+("0"+(S.getMonth()+1)).slice(-2)+"-"+("0"+S.getDate()).slice(-2)),i=a(o.hash),M=r(o.hash),w="<input type='"+T+"' id='"+e+"' name='"+e+"' value='"+S+"' class='form-control"+n+"'"+i+M+" >",k=c(o.hash,e),L=l(o.hash),D=p(o.hash),P=h(o.hash),new Spacebars.SafeString(k+D+w+P+L)}),R.registerHelper("text_area",function(e,o){var a=this;if(e)return S=a[e]||"",n=t(o.hash),C=o.hash.rows?"rows='"+o.hash.rows+"' ":"",M=r(o.hash),w="<textarea id='"+e+"' "+C+"name='"+e+"' class='form-control"+n+"'"+M+">"+S+"</textarea>",k=c(o.hash,e),L=l(o.hash),new Spacebars.SafeString(k+w+L)}),R.registerHelper("select_box",function(e,o){return E=this,x=void 0,e?(I=m(e,E),n=t(o.hash),I?(x=I,A=e+"_id"):(A=e,x=o.hash.optionValues&&o.hash.optionValues.length>0?o.hash.optionValues:E[""+e+"Options"]()),M=r(o.hash),O=[],j.each(x,function(t){return g=t.name||j.humanize(t),S=t.value||t,N=E[e]===S?" selected":"",O.push("<option value='"+S+"'"+N+">"+g+"</option>")}),w="<select class='form-control"+n+"' name='"+A+"'"+M+">"+O.join("")+"</select>",k=c(o.hash,A),L=l(o.hash),new Spacebars.SafeString(k+w+L)):void 0}),R.registerHelper("check_box",function(e,o){var a;if(e)return I=null,I?b(e,this,I,o):(n=t(o.hash),a="true"===this[e]?" checked":"",k=s(o.hash,e),M=r(o.hash),w="<label for='"+e+"'><input id='"+e+"' name='"+e+"' type='hidden' value='false'><input name='"+e+"' class='"+n+"' type='checkbox' value='true' "+a+M+">"+k+"</label>",L=l(o.hash),new Spacebars.SafeString(w+L))}),R.registerHelper("file_field",function(){return Package.uploader?(this.settings={name:this.field,onUpload:function(e,t){t?($('input[name="'+this.name+'Url"').val(t.url),$('input[name="'+this.name+'OriginalFileName"').val(t.originalFileName),Session.set(this.name+"OriginalFileName",t.originalFileName),Session.set(this.name+"Url",t.url)):console.log(e)}},U.simpleFormFileField):void 0}),R.registerHelper("submit_button",function(e,r){var a=this;return e||r||(r={}),e&&e.hash&&(r=e,e=void 0),Y=a.constructor.name,F=a._id?"Update ":"Add ",S=e||F+Y,n=t(r.hash),H=o(r.hash),w=r.hash&&r.hash.button?"<button type='submit' class='btn btn-default"+n+"'"+H+">"+S+"</button>":"<input type='submit' value='"+S+"' class='btn btn-default"+n+"'"+H+">",new Spacebars.SafeString(w)})}.call(this),function(){e={processForm:function(e){var t={};return V=$(e).serializeArray(),j.each(V,function(n){return T=$(e).find("input[name='"+n.name+"']").attr("type"),t[n.name]="date"===T&&n.value?new Date(n.value+" 00:00"):n.value}),t},resetForm:function(e){$(e).trigger("reset")}}}.call(this),"undefined"==typeof Package&&(Package={}),Package["simple-form"]={SimpleForm:e}}(),function(){var e,t,n=Package.meteor.Meteor,r=Package.deps.Deps;(function(){t="object"==typeof t?t:{};var o;n.isClient&&(Package.ui&&(o=Package.ui.Handlebars),o.registerHelper("t9n",function(t){return e.get(t)})),e=function(){function e(){}return e.maps={},e.defaultLanguage="en",e.language="",e.dep=new r.Dependency,e.missingPrefix=">",e.missingPostfix="<",e.map=function(e,t){return this.maps[e]||(this.maps[e]={}),this.registerMap(e,"",!1,t),this.dep.changed()},e.get=function(e){var t,n;return this.dep.depend(),"string"!=typeof e?"":(null!=(t=this.maps[this.language])?t[e]:void 0)||(null!=(n=this.maps[this.defaultLanguage])?n[e]:void 0)||this.missingPrefix+e+this.missingPostfix},e.registerMap=function(e,t,n,r){var o,a,i;if("string"==typeof r)return this.maps[e][t]=r;if("object"==typeof r){n&&(t+="."),i=[];for(o in r)a=r[o],i.push(this.registerMap(e,t+o,!0,a));return i}},e}(),this.T9n=e,this.t9n=function(t){return e.get(t)}}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-t9n"]={T9n:e}}(),function(){{var e,t,n=Package.meteor.Meteor,r=(Package.deps.Deps,Package["service-configuration"].ServiceConfiguration),o=Package["accounts-base"].Accounts,a=Package.underscore._,i=Package.templating.Template,s=Package.session.Session,u=Package["simple-form"].SimpleForm,c=Package.sha.SHA256,l=(Package["iron-router"].RouteController,Package["iron-router"].Route,Package["iron-router"].Router),d=(Package["iron-router"].IronLocation,Package["accounts-t9n"].T9n),p=Package.ui.UI,f=Package.ui.Handlebars,h=Package.htmljs.HTML,m=Package.blaze.Blaze;Package["iron-core"].Iron}(function(){t="object"==typeof t?t:{};e={settings:{wrapLinks:!0,homeRoute:"/home",dashboardRoute:"/dashboard",passwordSignupFields:"EMAIL_ONLY",emailToLower:!0,usernameToLower:!1,entrySignUp:"/sign-up",extraSignUpFields:[],showOtherLoginServices:!0},isStringEmail:function(e){var t;return t=/^([\w.-]+)@([\w.-]+)\.([a-zA-Z.]{2,6})$/i,e.match(t)?!0:!1},config:function(e){var t;return this.settings=a.extend(this.settings,e),d.defaultLanguage="en",e.language&&(d.language=e.language),e.signUpTemplate?(t=l.routes.entrySignUp,t.options.template=e.signUpTemplate):void 0},signInRequired:function(e,t,r){return null==r&&(r=!0),n.loggingIn()||n.user()&&r?void 0:(s.set("fromWhere",e.path),l.go("/sign-in"),s.set("entryError",t9n("error.signInRequired")),t.call())}},this.AccountsEntry=e,this.T9NHelper=function(){function e(){}return e.translate=function(e){return d.get(e,"error.accounts")},e.accountsError=function(e){return s.set("entryError",this.translate(e.reason))},e}()}).call(this),function(){t="object"==typeof t?t:{};"undefined"!=typeof f&&p.registerHelper("signedInAs",function(){return n.user().username?n.user().username:n.user().profile&&n.user().profile.name?n.user().profile.name:n.user().emails&&n.user().emails[0]?n.user().emails[0].address:"Signed In"}),p.registerHelper("accountButtons",function(){return i.entryAccountButtons}),p.registerHelper("capitalize",function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),p.registerHelper("signupClass",function(){return e.settings.showOtherLoginServices&&o.oauth&&o.oauth.serviceNames().length>0?"collapse":void 0}),p.registerHelper("signedIn",function(){return n.user()?!0:void 0}),p.registerHelper("otherLoginServices",function(){return e.settings.showOtherLoginServices&&o.oauth&&o.oauth.serviceNames().length>0}),p.registerHelper("loginServices",function(){return o.oauth.serviceNames()}),p.registerHelper("showSignupCode",function(){return e.settings.showSignupCode===!0}),p.registerHelper("passwordLoginService",function(){return!!Package["accounts-password"]}),p.registerHelper("showCreateAccountLink",function(){return!o._options.forbidClientAccountCreation})}.call(this),function(){i.__define__("entrySignIn",function(){var e=this;return h.DIV({"class":"container"},"\n    ",h.DIV({"class":"row"},"\n      ",m.If(function(){return Spacebars.call(e.lookup("logo"))},function(){return["\n        ",h.DIV({"class":"entry-logo"},"\n            ",h.A({href:"/"},h.IMG({src:function(){return Spacebars.mustache(e.lookup("logo"))},alt:"logo"})),"\n        "),"\n      "]}),"\n      ",h.DIV({"class":"entry col-md-4 col-md-offset-4"},"\n        ",m.If(function(){return Spacebars.call(e.lookup("otherLoginServices"))},function(){return["\n        ",h.DIV({"class":"entry-social"},"\n          ",m.Each(function(){return Spacebars.call(e.lookup("loginServices"))},function(){return["\n            ",Spacebars.include(e.lookupTemplate("entrySocial")),"\n          "]}),"\n          ",m.If(function(){return Spacebars.call(e.lookup("passwordLoginService"))},function(){return["\n          ",h.DIV({"class":"email-option"},"\n            ",h.STRONG({"class":"line-thru or-sign-in"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"OR")})),"\n          "),"\n          "]}),"\n        "),"\n        "]}),"\n        ",Spacebars.include(e.lookupTemplate("entryError")),"\n        ",m.Unless(function(){return Spacebars.call(e.lookup("otherLoginServices"))},function(){return["\n          ",h.DIV({"class":"email-option"},"\n            ",h.H3(m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"signIn")})),"\n          "),"\n        "]}),"\n        ",m.If(function(){return Spacebars.call(e.lookup("passwordLoginService"))},function(){return["\n          ",h.FORM({"class":"entry-form",id:"signIn"},"\n            ",h.DIV({"class":"form-group"},"\n              ",h.INPUT({autofocus:"",name:"email",type:function(){return Spacebars.mustache(e.lookup("emailInputType"))},"class":"form-control",value:function(){return Spacebars.mustache(e.lookup("email"))},placeholder:function(){return Spacebars.mustache(e.lookup("emailPlaceholder"))}}),"\n            "),"\n            ",h.DIV({"class":"form-group"},"\n              ",h.INPUT({name:"password",type:"password","class":"form-control",value:function(){return Spacebars.mustache(e.lookup("password"))},placeholder:function(){return Spacebars.mustache(e.lookup("t9n"),"password")}}),"\n            "),"\n            ",m.Unless(function(){return Spacebars.call(e.lookup("isUsernameOnly"))},function(){return["\n              ",h.P(h.A({href:"/forgot-password"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"forgotPassword")}))),"\n              ",h.BUTTON({type:"submit","class":"submit btn btn-block btn-default"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"signIn")})),"\n            "]}),"\n          "),"\n        "]}),"\n        ",m.If(function(){return Spacebars.call(e.lookup("showCreateAccountLink"))},function(){return["\n        ",h.P({"class":"entry-signup-cta"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"dontHaveAnAccount")})," ",h.A({href:"/sign-up"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"signUp")}))),"\n        "]}),"\n      "),"\n    "),"\n  ")})}.call(this),function(){t="object"==typeof t?t:{};e.entrySignInHelpers={emailInputType:function(){return"EMAIL_ONLY"===e.settings.passwordSignupFields?"email":"string"},emailPlaceholder:function(){var t;return t=e.settings.passwordSignupFields,t9n(a.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL"],t)?"usernameOrEmail":"USERNAME_ONLY"===t?"username":"email")},logo:function(){return e.settings.logo
},isUsernameOnly:function(){return"USERNAME_ONLY"===e.settings.passwordSignupFields}},e.entrySignInEvents={"submit #signIn":function(t){var r;return t.preventDefault(),r=$('input[name="email"]').val(),(e.isStringEmail(r)&&e.settings.emailToLower||!e.isStringEmail(r)&&e.settings.usernameToLower)&&(r=r.toLowerCase()),s.set("email",r),s.set("password",$('input[name="password"]').val()),n.loginWithPassword(s.get("email"),s.get("password"),function(t){return s.set("password",void 0),t?T9NHelper.accountsError(t):s.get("fromWhere")?(l.go(s.get("fromWhere")),s.set("fromWhere",void 0)):l.go(e.settings.dashboardRoute)})}},i.entrySignIn.helpers(e.entrySignInHelpers),i.entrySignIn.events(e.entrySignInEvents)}.call(this),function(){i.__define__("entrySignUp",function(){var e=this;return h.DIV({"class":"container"},"\n    ",h.DIV({"class":"row"},"\n      ",m.If(function(){return Spacebars.call(e.lookup("logo"))},function(){return["\n        ",h.DIV({"class":"entry-logo"},"\n            ",h.A({href:"/"},h.IMG({src:function(){return Spacebars.mustache(e.lookup("logo"))},alt:"logo"})),"\n        "),"\n      "]}),"\n      ",h.DIV({"class":"entry col-md-4 col-md-offset-4"},"\n        ",h.H3(m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"createAccount")})),"\n        ",m.If(function(){return Spacebars.call(e.lookup("otherLoginServices"))},function(){return["\n          ",h.P({"class":"entry-signin-cta"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"ifYouAlreadyHaveAnAccount")})," ",h.A({href:"/sign-in"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"signin")})),"."),"\n          ",h.DIV({"class":"entry-social"},"\n            ",m.Each(function(){return Spacebars.call(e.lookup("loginServices"))},function(){return["\n              ",Spacebars.include(e.lookupTemplate("entrySocial")),"\n            "]}),"\n            ",m.If(function(){return Spacebars.call(e.lookup("passwordLoginService"))},function(){return["\n              ",h.DIV({"class":"email-option"},"\n                ",h.STRONG({"class":"line-thru"},"OR"),"\n                ",h.A({"data-toggle":"collapse",href:"#signUp"},"\n                  ",m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"signUpWithYourEmailAddress")}),"\n                "),"\n              "),"\n            "]}),"\n          "),"\n        "]},function(){return["\n            ",h.P({"class":"entry-signin-cta"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"ifYouAlreadyHaveAnAccount")})," ",h.A({href:"/sign-in"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"signin")})),"."),"\n        "]}),"\n        ",Spacebars.include(e.lookupTemplate("entryError")),"\n        ",m.If(function(){return Spacebars.call(e.lookup("passwordLoginService"))},function(){return["\n          ",h.FORM({"class":function(){return["entry-form ",Spacebars.mustache(e.lookup("signupClass"))]},id:"signUp"},"\n            ",m.If(function(){return Spacebars.call(e.lookup("showUsername"))},function(){return["\n              ",h.DIV({"class":"form-group"},"\n                ",h.LABEL(m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"username")})),"\n                ",h.INPUT({autofocus:"",name:"username",type:"string","class":"form-control",value:""}),"\n              "),"\n            "]}),"\n\n            ",m.If(function(){return Spacebars.call(e.lookup("showEmail"))},function(){return["\n              ",h.DIV({"class":"form-group"},"\n                ",h.LABEL(m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"emailAddress")})),"\n                ",m.If(function(){return Spacebars.call(e.lookup("showUsername"))},function(){return["\n                  ",h.INPUT({type:"email","class":"form-control",value:function(){return Spacebars.mustache(e.lookup("emailAddress"))}}),"\n                "]},function(){return["\n                  ",h.INPUT({autofocus:"",type:"email","class":"form-control",value:function(){return Spacebars.mustache(e.lookup("emailAddress"))}}),"\n                "]}),"\n              "),"\n            "]}),"\n\n            ",h.DIV({"class":"form-group"},"\n              ",h.LABEL(m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"password")})),"\n              ",h.INPUT({type:"password","class":"form-control",value:""}),"\n            "),"\n\n            ",m.If(function(){return Spacebars.call(e.lookup("showSignupCode"))},function(){return["\n              ",h.DIV({"class":"form-group"},"\n                ",h.LABEL(m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"signupCode")})),"\n                ",h.INPUT({name:"signupCode",type:"string","class":"form-control",value:""}),"\n              "),"\n            "]}),"\n\n            ",Spacebars.include(e.lookupTemplate("entryExtraSignUpFields")),"\n            ",h.BUTTON({type:"submit","class":"submit btn btn-block btn-default"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"signUp")})),"\n          "),"\n        "]}),"\n        ",m.If(function(){return Spacebars.call(e.lookup("both"))},function(){return["\n          ",h.P({"class":"entry-agreement"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"clickAgree")}),"\n            ",h.A({href:function(){return Spacebars.mustache(e.lookup("privacyUrl"))}},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"privacyPolicy")}))," ",m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"and")}),"\n            ",h.A({href:function(){return Spacebars.mustache(e.lookup("termsUrl"))}},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"terms")})),".\n          "),"\n        "]},function(){return["\n          ",m.Unless(function(){return Spacebars.call(e.lookup("neither"))},function(){return["\n            ",h.P({"class":"entry-agreement"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"clickAgree")}),"\n              ",m.If(function(){return Spacebars.call(e.lookup("privacyUrl"))},function(){return[h.A({href:function(){return Spacebars.mustache(e.lookup("privacyUrl"))}},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"privacyPolicy")})),"."]}),"\n              ",m.If(function(){return Spacebars.call(e.lookup("termsUrl"))},function(){return[h.A({href:function(){return Spacebars.mustache(e.lookup("termsUrl"))}},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"terms")})),"."]}),"\n            "),"\n          "]}),"\n        "]}),"\n      "),"\n    "),"\n  ")})}.call(this),function(){t="object"==typeof t?t:{};e.hashPassword=function(e){return{digest:c(e),algorithm:"sha-256"}},e.entrySignUpHelpers={showEmail:function(){var t;return t=e.settings.passwordSignupFields,a.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","EMAIL_ONLY"],t)},showUsername:function(){var t;return t=e.settings.passwordSignupFields,a.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],t)},showSignupCode:function(){return e.settings.showSignupCode},logo:function(){return e.settings.logo},privacyUrl:function(){return e.settings.privacyUrl},termsUrl:function(){return e.settings.termsUrl},both:function(){return e.settings.privacyUrl&&e.settings.termsUrl},neither:function(){return!e.settings.privacyUrl&&!e.settings.termsUrl},emailIsOptional:function(){var t;return t=e.settings.passwordSignupFields,a.contains(["USERNAME_AND_OPTIONAL_EMAIL"],t)},emailAddress:function(){return s.get("email")}},e.entrySignUpEvents={"submit #signUp":function(t,r){var o,i,c,d,p,f,h,m,g,_,v,y;return t.preventDefault(),v=r.find('input[name="username"]')?r.find('input[name="username"]').value.toLowerCase():void 0,v&&e.settings.usernameToLower&&(v=v.toLowerCase()),g=r.find('input[name="signupCode"]')?r.find('input[name="signupCode"]').value:void 0,_=function(e){return e.replace(/^\s*|\s*$/g,"")},o=r.find('input[type="email"]')?_(r.find('input[type="email"]').value):void 0,e.settings.emailToLower&&o&&(o=o.toLowerCase()),f=u.processForm(t.target),c=a.pluck(e.settings.extraSignUpFields,"field"),p=a.pick(f,c),h=r.find('input[type="password"]').value,d=e.settings.passwordSignupFields,(m=function(e){var t,n;return t=[],n=!1,e.length<7&&t.push(t9n("error.minChar")),e.search(/[a-z]/i)<0&&t.push(t9n("error.pwOneLetter")),e.search(/[0-9]/)<0&&t.push(t9n("error.pwOneDigit")),t.length>0?(n="",t.forEach(function(e){return n=n.concat(""+e+"\r\n")}),s.set("entryError",n),!0):!1}(h))?void 0:(i=a.contains(["USERNAME_AND_EMAIL","EMAIL_ONLY"],d),y=a.contains(["USERNAME_AND_EMAIL","USERNAME_ONLY"],d),y&&0===v.length?void s.set("entryError",t9n("error.usernameRequired")):v&&e.isStringEmail(v)?void s.set("entryError",t9n("error.usernameIsEmail")):i&&0===o.length?void s.set("entryError",t9n("error.emailRequired")):e.settings.showSignupCode&&0===g.length?void s.set("entryError",t9n("error.signupCodeRequired")):n.call("entryValidateSignupCode",g,function(t,r){var i;return r?(i={username:v,email:o,password:e.hashPassword(h),profile:p},n.call("entryCreateUser",i,function(t){var r,i;return t?(console.log(t),void T9NHelper.accountsError(t)):(r=a.contains(["USERNAME_AND_EMAIL","EMAIL_ONLY"],e.settings.passwordSignupFields),i=r?o:v,n.loginWithPassword(i,h,function(n){return n?(console.log(t),T9NHelper.accountsError(n)):s.get("fromWhere")?(l.go(s.get("fromWhere")),s.set("fromWhere",void 0)):l.go(e.settings.dashboardRoute)}))})):(console.log(t),void s.set("entryError",t9n("error.signupCodeIncorrect")))}))}},i.entrySignUp.helpers(e.entrySignUpHelpers),i.entrySignUp.events(e.entrySignUpEvents)}.call(this),function(){i.__define__("entryExtraSignUpFields",function(){var e=this;return m.Each(function(){return Spacebars.call(e.lookup("extraSignUpFields"))},function(){return["\n    ",Spacebars.include(e.lookupTemplate("_entryExtraSignUpField")),"\n    "]})}),i.__define__("_entryExtraSignUpField",function(){var e=this;return[m.If(function(){return Spacebars.call(e.lookup("isTextField"))},function(){return["\n    ",h.DIV({"class":"form_group"},"\n        ",m.View(function(){return Spacebars.mustache(e.lookup("text_field"),e.lookup("field"),Spacebars.kw({type:e.lookup("type"),required:e.lookup("required"),label:e.lookup("label"),placeholder:e.lookup("placeholder")}))}),"\n    "),"\n    "]}),"\n\n    ",m.If(function(){return Spacebars.call(e.lookup("isCheckbox"))},function(){return["\n    ",h.DIV({"class":"checkbox"},"\n        ",m.View(function(){return Spacebars.mustache(e.lookup("check_box"),e.lookup("name"),Spacebars.kw({label:e.lookup("label"),required:e.lookup("required")}))}),"\n    "),"\n    "]})]})}.call(this),function(){t="object"==typeof t?t:{};i.entryExtraSignUpFields.helpers({extraSignUpFields:function(){return e.settings.extraSignUpFields}}),i._entryExtraSignUpField.helpers({isTextField:function(){return"check_box"!==this.type},isCheckbox:function(){return"check_box"===this.type}})}.call(this),function(){i.__define__("entryForgotPassword",function(){var e=this;return h.DIV({"class":"container"},"\n    ",h.DIV({"class":"row"},"\n      ",m.If(function(){return Spacebars.call(e.lookup("logo"))},function(){return["\n        ",h.DIV({"class":"entry-logo"},"\n            ",h.A({href:"/"},h.IMG({src:function(){return Spacebars.mustache(e.lookup("logo"))},alt:"logo"})),"\n        "),"\n      "]}),"\n      ",h.DIV({"class":"entry col-md-4 col-md-offset-4"},"\n        ",m.If(function(){return Spacebars.call(e.lookup("error"))},function(){return["\n          ",h.DIV({"class":"alert alert-danger"},m.View(function(){return Spacebars.mustache(e.lookup("error"))})),"\n        "]}),"\n        ",h.H3(m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"forgotPassword")})),"\n        ",h.FORM({id:"forgotPassword"},"\n          ",h.DIV({"class":"form-group"},"\n            ",h.INPUT({type:"email",name:"forgottenEmail","class":"form-control",placeholder:function(){return Spacebars.mustache(e.lookup("t9n"),"emailAddress")},value:""}),"\n          "),"\n          ",h.BUTTON({type:"submit","class":"btn btn-default"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"emailResetLink")})),"\n        "),"\n        ",m.If(function(){return Spacebars.call(e.lookup("showSignupCode"))},function(){return["\n          ",h.P({"class":"entry-signup-cta"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"dontHaveAnAccount")})," ",h.A({href:"/sign-up"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"signUp")}))),"\n        "]}),"\n      "),"\n    "),"\n  ")})}.call(this),function(){t="object"==typeof t?t:{};i.entryForgotPassword.helpers({error:function(){return t9n(s.get("entryError"))},logo:function(){return e.settings.logo}}),i.entryForgotPassword.events({"submit #forgotPassword":function(t){return t.preventDefault(),s.set("email",$('input[name="forgottenEmail"]').val()),0===s.get("email").length?void s.set("entryError","Email is required"):o.forgotPassword({email:s.get("email")},function(t){return t?s.set("entryError",t.reason):l.go(e.settings.homeRoute)})}})}.call(this),function(){i.__define__("entryResetPassword",function(){var e=this;return h.DIV({"class":"container"},"\n    ",h.DIV({"class":"row"},"\n      ",m.If(function(){return Spacebars.call(e.lookup("logo"))},function(){return["\n        ",h.DIV({"class":"entry-logo"},"\n            ",h.A({href:"/"},h.IMG({src:function(){return Spacebars.mustache(e.lookup("logo"))},alt:"logo"})),"\n        "),"\n      "]}),"\n      ",h.DIV({"class":"entry col-md-4 col-md-offset-4"},"\n        ",m.If(function(){return Spacebars.call(e.lookup("error"))},function(){return["\n          ",h.DIV({"class":"alert alert-danger"},m.View(function(){return Spacebars.mustache(e.lookup("error"))})),"\n        "]}),"\n        ",h.H3(m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"resetYourPassword")})),"\n        ",h.FORM({id:"resetPassword"},"\n          ",h.Raw('<div class="form-group">\n            <input type="password" name="new-password" class="form-control" value="">\n          </div>'),"\n          ",h.BUTTON({type:"submit","class":"btn btn-default"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"updateYourPassword")})),"\n        "),"\n        ",m.If(function(){return Spacebars.call(e.lookup("showSignupCode"))},function(){return["\n          ",h.P({"class":"entry-signup-cta"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"dontHaveAnAccount")})," ",h.A({href:"/sign-up"},m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"signUp")}))),"\n        "]}),"\n      "),"\n    "),"\n  ")})}.call(this),function(){t="object"==typeof t?t:{};i.entryResetPassword.helpers({error:function(){return s.get("entryError")},logo:function(){return e.settings.logo}}),i.entryResetPassword.events({"submit #resetPassword":function(t){var n,r;return t.preventDefault(),n=$('input[type="password"]').val(),(r=function(e){var t,n;return t=[],n=!1,e.length<7&&t.push(t9n("error.minChar")),e.search(/[a-z]/i)<0&&t.push(t9n("error.pwOneLetter")),e.search(/[0-9]/)<0&&t.push(t9n("error.pwOneDigit")),t.length>0?(n="",t.forEach(function(e){return n=n.concat(""+e+"\r\n")}),s.set("entryError",n),!0):!1}(n))?void 0:o.resetPassword(s.get("resetToken"),n,function(t){return t?s.set("entryError",t.reason||"Unknown error"):(s.set("resetToken",null),l.go(e.settings.dashboardRoute))})}})}.call(this),function(){i.__define__("entrySocial",function(){var e=this;return h.BUTTON({"class":"btn",id:function(){return["entry-",Spacebars.mustache(e.lookup("."))]},name:function(){return Spacebars.mustache(e.lookup("."))}},"\n    ",m.If(function(){return Spacebars.call(e.lookup("unconfigured"))},function(){return["\n      ",h.I({"class":function(){return["fa fa-",Spacebars.mustache(e.lookup("icon"))]}})," ",m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"configure")})," ",m.View(function(){return Spacebars.mustache(e.lookup("capitalize"),e.lookup("."))}),"\n    "]},function(){return["\n      ",h.I({"class":function(){return["fa fa-",Spacebars.mustache(e.lookup("icon"))]}})," ",m.View(function(){return Spacebars.mustache(e.lookup("buttonText"))})," ",m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"with")})," ",m.View(function(){return Spacebars.mustache(e.lookup("capitalize"),e.lookup("."))}),"\n    "]}),"\n  ")})}.call(this),function(){t="object"==typeof t?t:{};var a;i.entrySocial.helpers({buttonText:function(){var e;return e=s.get("buttonText"),t9n("up"===e?"signUp":"signIn")},unconfigured:function(){return 0===r.configurations.find({service:this.toString()}).fetch().length},google:function(){return"g"===this[0]&&"o"===this[1]?!0:void 0},icon:function(){switch(this.toString()){case"google":return"google-plus";case"meteor-developer":return"rocket";default:return this}}}),i.entrySocial.events({"click .btn":function(t){var i,u,c,d;return t.preventDefault(),d=$(t.target).attr("id").split("-")[1],i=function(t){return t?t instanceof o.LoginCancelledError?void 0:t instanceof r.ConfigError?o._loginButtonsSession.configureService(d):o._loginButtonsSession.errorMessage(t.reason||t9n("error.unknown")):s.get("fromWhere")?(l.go(s.get("fromWhere")),s.set("fromWhere",void 0)):l.go(e.settings.dashboardRoute)},u="meteor"===d?n.loginWithMeteorDeveloperAccount:n["loginWith"+a(d)],c={},o.ui._options.requestPermissions[d]&&(c.requestPermissions=o.ui._options.requestPermissions[d]),o.ui._options.requestOfflineToken[d]&&(c.requestOfflineToken=o.ui._options.requestOfflineToken[d]),u(c,i)}}),a=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}.call(this),function(){i.__define__("entryError",function(){var e=this;return m.If(function(){return Spacebars.call(e.lookup("error"))},function(){return["\n  ",h.DIV({"class":"alert alert-danger"},m.View(function(){return Spacebars.mustache(e.lookup("error"))})),"\n  "]})})}.call(this),function(){t="object"==typeof t?t:{};i.entryError.helpers({error:function(){return s.get("entryError")}})}.call(this),function(){i.__define__("entryAccountButtons",function(){var e=this;return m.If(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return["\n    ",Spacebars.include(e.lookupTemplate("signedInTemplate")),"\n  "]},function(){return["\n\n    ",Spacebars.include(e.lookupTemplate("wrapLinksLi"),function(){return["\n      ",h.A({href:"/sign-in"},m.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("beforeSignIn")))}),m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"signIn")})),"\n    "]}),"\n\n    ",m.Unless(function(){return Spacebars.call(e.lookup("wrapLinks"))},function(){return["\n      ",h.SPAN("or"),"\n    "]}),"\n\n    ",m.If(function(){return Spacebars.call(e.lookup("showCreateAccountLink"))},function(){return["\n      ",Spacebars.include(e.lookupTemplate("wrapLinksLi"),function(){return["\n        ",h.A({href:function(){return Spacebars.mustache(e.lookup("entrySignUp"))}},m.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("beforeSignUp")))}),m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"signUp")})),"\n      "]}),"\n    "]}),"\n  "]})})}.call(this),function(){i.__define__("wrapLinks",function(){var e=this;return h.LI("\n  ",m.InOuterTemplateScope(e,function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})}),"\n")}),i.__define__("noWrapLinks",function(){var e=this;return m.InOuterTemplateScope(e,function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})})})}.call(this),function(){i.__define__("entrySignedIn",function(){var e=this;return[m.If(function(){return Spacebars.call(e.lookup("profileUrl"))},function(){return["\n  ",Spacebars.include(e.lookupTemplate("wrapLinksLi"),function(){return["\n    ",h.A({"class":"profileLink",href:function(){return Spacebars.mustache(e.lookup("profileUrl"))}},m.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("beforeSignedInAs")))}),m.View(function(){return Spacebars.mustache(e.lookup("signedInAs"))})),"\n  "]}),"\n"]},function(){return["\n  ",Spacebars.include(e.lookupTemplate("wrapLinksLi"),function(){return["\n    ",h.P({"class":"navbar-text"},m.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("beforeSignedInAs")))}),m.View(function(){return Spacebars.mustache(e.lookup("signedInAs"))})),"\n  "]}),"\n"]}),"\n\n",Spacebars.include(e.lookupTemplate("wrapLinksLi"),function(){return["\n  ",h.A({href:"/sign-out"},m.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("beforeSignOut")))}),m.View(function(){return Spacebars.mustache(e.lookup("t9n"),"signOut")})),"\n"]})]})}.call(this),function(){t="object"==typeof t?t:{};var r;r={profileUrl:function(){return e.settings.profileRoute?e.settings.profileRoute:!1},wrapLinksLi:function(){return e.settings.wrapLinks?i.wrapLinks:i.noWrapLinks},wrapLinks:function(){return e.settings.wrapLinks},beforeSignIn:function(){return e.settings.beforeSignIn},beforeSignUp:function(){return e.settings.beforeSignUp},beforeSignOut:function(){return e.settings.beforeSignOut},beforeSignedInAs:function(){return e.settings.beforeSignedInAs},entrySignUp:function(){return e.settings.entrySignUp},profile:function(){return n.user().profile}},i.entryAccountButtons.helpers(r),i.entryAccountButtons.helpers({signedInTemplate:function(){return e.settings.signedInTemplate?(i[e.settings.signedInTemplate].helpers(r),i[e.settings.signedInTemplate]):i.entrySignedIn}}),i.entrySignedIn.helpers(r)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Sign In",signin:"sign in",signOut:"Sign Out",signUp:"Register",OR:"OR",forgotPassword:"Forgot your password?",emailAddress:"Email Address",emailResetLink:"Email Reset Link",dontHaveAnAccount:"Don't have an account?",resetYourPassword:"Reset your password",updateYourPassword:"Update your password",password:"Password",usernameOrEmail:"Username or email",email:"Email",ifYouAlreadyHaveAnAccount:"If you already have an account",signUpWithYourEmailAddress:"Register with your email address",username:"Username",optional:"Optional",signupCode:"Registration Code",clickAgree:"By clicking Register, you agree to our",privacyPolicy:"Privacy Policy",terms:"Terms of Use",sign:"Sign",configure:"Configure","with":"with",createAccount:"Create an Account",and:"and","Match failed":"Match failed","User not found":"User not found",error:{minChar:"7 character minimum password.",pwOneLetter:"Password requires 1 letter.",pwOneDigit:"Password must have at least one digit.",usernameRequired:"Username is required.",emailRequired:"Email is required.",signupCodeRequired:"Registration code is required.",signupCodeIncorrect:"Registration code is incorrect.",signInRequired:"You must be signed in to do that.",usernameIsEmail:"Username cannot be an email address."}},d.map("en",e)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Se Connecter",signin:"se connecter",signOut:"Se Deconnecter",signUp:"S'enregistrer",OR:"OU",forgotPassword:"Vous avez oublié votre mot de passe ?",emailAddress:"Adresse Email",emailResetLink:"Adresse pour reinitialiser votre mot de passe",dontHaveAnAccount:"Vous n'avez pas de compte ?",resetYourPassword:"Reinitialiser votre mot de passe",updateYourPassword:"Mettre à jour le mot de passe",password:"Mot de passe",usernameOrEmail:"Nom d'utilisateur ou email",email:"Email",ifYouAlreadyHaveAnAccount:"Si vous avez déjà un compte",signUpWithYourEmailAddress:"S'enregistrer avec votre adresse email",username:"Nom d'utilisateur",optional:"Optionnel",signupCode:"Code d'inscription",clickAgree:"En cliquant sur S'enregistrer, vous acceptez notre",privacyPolicy:"Politique de confidentialité",terms:"Conditions d'utilisation",sign:"S'enregistrer",configure:"Configurer","with":"avec",createAccount:"Créer un compte",and:"et",error:{minChar:"Votre mot de passe doit contenir au minimum 7 caractères.",pwOneLetter:"Votre mot de passe doit contenir au moins une lettre.",pwOneDigit:"Votre mot de passe doit contenir au moins un chiffre.",usernameRequired:"Un nom d'utilisateur est requis.",emailRequired:"Un email est requis.",signupCodeRequired:"Un code d'inscription est requis.",signupCodeIncorrect:"Le code d'enregistrement est incorrect.",signInRequired:"Vous devez être connecté pour continuer.",usernameIsEmail:"Le nom d'utilisateur ne peut être le même que l'adresse email."}},d.map("fr",e)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Anmelden",signin:"anmelden",signOut:"Abmelden",signUp:"Registrieren",OR:"ODER",forgotPassword:"Passwort vergessen?",emailAddress:"E-Mail Adresse",emailResetLink:"Senden",dontHaveAnAccount:"Noch kein Konto?",resetYourPassword:"Passwort zurücksetzen",updateYourPassword:"Passwort aktualisieren",password:"Passwort",usernameOrEmail:"Benutzername oder E-Mail",email:"E-Mail",ifYouAlreadyHaveAnAccount:"Falls Sie ein Konto haben, bitte hier",signUpWithYourEmailAddress:"Mit E-Mail registrieren",username:"Benutzername",optional:"Optional",signupCode:"Registrierungscode",clickAgree:"Durch die Registrierung akzeptieren Sie unsere",privacyPolicy:"Datenschutzerklärung",terms:"Geschäftsbedingungen",sign:"Anmelden",configure:"Konfigurieren","with":"mit",createAccount:"Konto erzeugen",and:"und",error:{minChar:"Passwort muss mindesten 7 Zeichen lang sein.",pwOneLetter:"Passwort muss mindestens einen Buchstaben enthalten.",pwOneDigit:"Passwort muss mindestens eine Ziffer enthalten.",usernameRequired:"Benutzername benötigt.",emailRequired:"E-Mail benötigt.",signupCodeRequired:"Registrierungscode benötigt.",signupCodeIncorrect:"Registrierungscode ungültig.",signInRequired:"Sie müssen sich anmelden.",usernameIsEmail:"Benutzername kann nicht eine E-Mail."}},d.map("de",e)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Accedi",signin:"accedi",signOut:"Esci",signUp:"Registrati",OR:"OPPURE",forgotPassword:"Hai dimenticato la password?",emailAddress:"Indirizzo Email",emailResetLink:"Invia Link di Reset",dontHaveAnAccount:"Non hai un account?",resetYourPassword:"Reimposta la password",updateYourPassword:"Aggiorna la password",password:"Password",usernameOrEmail:"Nome utente o email",email:"Email",ifYouAlreadyHaveAnAccount:"Se hai già un account",signUpWithYourEmailAddress:"Registrati con il tuo indirizzo email",username:"Username",optional:"Opzionale",signupCode:"Codice di Registrazione",clickAgree:"Cliccando Registrati, accetti la nostra",privacyPolicy:"Privacy Policy",terms:"Termini di Servizio",sign:"Accedi",configure:"Configura","with":"con",createAccount:"Crea un Account",and:"e","Match failed":"Riscontro fallito","User not found":"Utente non trovato",error:{minChar:"Password di almeno 7 caratteri.",pwOneLetter:"La Password deve contenere 1 lettera.",pwOneDigit:"La Password deve contenere almeno un numero.",usernameRequired:"Il Nome utente è obbligatorio.",emailRequired:"L'Email è obbligatoria.",signupCodeRequired:"Il Codice di Registrazione è obbligatorio.",signupCodeIncorrect:"Codice di Registrazione errato.",signInRequired:"Per fare questo devi accedere.",usernameIsEmail:"Il Nome Utente non può essere un indirizzo email."}},d.map("it",e)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Zaloguj się",signin:"zaloguj się",signOut:"Wyloguj się",signUp:"Zarejestruj się",OR:"LUB",forgotPassword:"Zapomniałeś hasła?",emailAddress:"Adres email",emailResetLink:"Wyślij email z linkiem do zmiany hasła",dontHaveAnAccount:"Nie masz konta?",resetYourPassword:"Ustaw nowe hasło",updateYourPassword:"Zaktualizuj swoje hasło",password:"Hasło",usernameOrEmail:"Nazwa użytkownika lub email",email:"Email",ifYouAlreadyHaveAnAccount:"Jeżeli już masz konto",signUpWithYourEmailAddress:"Zarejestruj się używając adresu email",username:"Nazwa użytkownika",optional:"Nieobowiązkowe",signupCode:"Kod rejestracji",clickAgree:"Klikając na Zarejestruj się zgadzasz się z naszą",privacyPolicy:"polityką prywatności",terms:"warunkami korzystania z serwisu",sign:"Podpisz",configure:"Konfiguruj","with":"z",createAccount:"Utwórz konto",and:"i",error:{minChar:"7 znaków to minimalna długość hasła.",pwOneLetter:"Hasło musi zawierać 1 literę.",pwOneDigit:"Hasło musi zawierać przynajmniej jedną cyfrę.",usernameRequired:"Wymagana jest nazwa użytkownika.",emailRequired:"Wymagany jest adres email.",signupCodeRequired:"Wymagany jest kod rejestracji.",signupCodeIncorrect:"Kod rejestracji jest nieprawidłowy.",signInRequired:"Musisz być zalogowany, aby to zrobić.",usernameIsEmail:"Nazwa użytkownika nie może być adres e-mail."}},d.map("pl",e)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Entrar",signOut:"Salir",signUp:"Suscribir",OR:"O",forgotPassword:"Contraseña olvidada?",emailAddress:"Dirección de Email",emailResetLink:"Reiniciar Email",dontHaveAnAccount:"No tenés una cuenta?",resetYourPassword:"Resetear tu contraseña",updateYourPassword:"Actualizar tu contraseña",password:"Contraseña",usernameOrEmail:"Usuario o email",email:"Email",ifYouAlreadyHaveAnAccount:"Si ya tenés una cuenta",signUpWithYourEmailAddress:"Suscribir con tu email",username:"Usuario",optional:"Opcional",signupCode:"Codigo para suscribir",clickAgree:"Si haces clic en Sucribir estas de acuerdo con la",privacyPolicy:"Póliza de Privacidad",terms:"Terminos de Uso",sign:"Ingresar",configure:"Disposición","with":"con",createAccount:"Crear cuenta",and:"y",error:{minChar:"7 carácteres mínimo.",pwOneLetter:"mínimo una letra.",pwOneDigit:"mínimo un dígito.",usernameRequired:"Usuario es necesario.",emailRequired:"Email es necesario.",signupCodeRequired:"Código para suscribir es necesario.",signupCodeIncorrect:"Código para suscribir no coincide.",signInRequired:"Debes iniciar sesión para hacer eso.",usernameIsEmail:"Usuario no puede ser Email."}},d.map("es",e)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Logga in",signin:"logga in",signOut:"Logga ut",signUp:"Skapa konto",OR:"ELLER",forgotPassword:"Glömt din e-postadress?",emailAddress:"E-postadress",emailResetLink:"E-post återställningslänk",dontHaveAnAccount:"Har du inget konto?",resetYourPassword:"Återställ ditt lösenord",updateYourPassword:"Uppdatera ditt lösenord",password:"Lösenord",usernameOrEmail:"Användarnamn eller e-postadress",email:"E-postadress",ifYouAlreadyHaveAnAccount:"Om du redan har ett konto",signUpWithYourEmailAddress:"Skapa ett konto med din e-postadress",username:"Användarnamn",optional:"Valfri",signupCode:"Registreringskod",clickAgree:"När du väljer att skapa ett konto så godkänner du också vår",privacyPolicy:"integritetspolicy",terms:"användarvilkor",sign:"Logga",configure:"Konfigurera","with":"med",createAccount:"Skapa ett konto",and:"och","Match failed":"Matchning misslyckades","User not found":"Användaren hittades inte",error:{minChar:"Det krävs minst 7 tecken i ditt lösenord.",pwOneLetter:"Lösenordet måste ha minst 1 bokstav.",pwOneDigit:"Lösenordet måste ha minst 1 siffra.",usernameRequired:"Det krävs ett användarnamn.",emailRequired:"Det krävs ett lösenord.",signupCodeRequired:"Det krävs en registreringskod.",signupCodeIncorrect:"Registreringskoden är felaktig.",signInRequired:"Inloggning krävs här.",usernameIsEmail:"Användarnamnet kan inte vara en e-postadress."}},d.map("sv",e)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Entrar",signin:"Entrar",signOut:"Sair",signUp:"Registrar",OR:"OU",forgotPassword:"Esqueceu sua senha?",emailAddress:"Endereço de e-mail",emailResetLink:"Gerar nova senha",dontHaveAnAccount:"Não tem conta?",resetYourPassword:"Gerar nova senha",updateYourPassword:"Atualizar senha",password:"Senha",usernameOrEmail:"Usuario ou e-mail",email:"E-mail",ifYouAlreadyHaveAnAccount:"Se você já tem uma conta",signUpWithYourEmailAddress:"Entre usando seu endereço de e-mail",username:"Nome de usuário",optional:"Opcional",signupCode:"Código de acesso",clickAgree:"Ao clicar em Entrar, você aceita nosso",privacyPolicy:"Política de Privacidade",terms:"Termos de Uso",sign:"Entrar",configure:"Configurar","with":"com",createAccount:"Criar Conta",and:"e","Match failed":"Usuário ou senha não encontrado","User not found":"Usuário não encontrado",error:{minChar:"Senha requer um mínimo de 7 caracteres.",pwOneLetter:"Senha deve conter pelo menos uma letra.",pwOneDigit:"Senha deve conter pelo menos um digito.",usernameRequired:"Nome de usuário é obrigatório.",emailRequired:"E-mail é obrigatório.",signupCodeRequired:"É necessário um código de acesso.",signupCodeIncorrect:"Código de acesso incorreto.",signInRequired:"Você precisa estar logado para fazer isso.",usernameIsEmail:"Nome de usuário não pode ser um endereço de e-mail."}},d.map("pt",e)
}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Prijava",signin:"se prijavi",signOut:"Odjava",signUp:"Registracija",OR:"ALI",forgotPassword:"Pozabljeno geslo?",emailAddress:"Email naslov",emailResetLink:"Pošlji ponastavitveno povezavo",dontHaveAnAccount:"Nisi registriran(a)?",resetYourPassword:"Ponastavi geslo",updateYourPassword:"Spremeni geslo",password:"Geslo",usernameOrEmail:"Uporabniško ime ali email",email:"Email",ifYouAlreadyHaveAnAccount:"Če si že registriran(a),",signUpWithYourEmailAddress:"Prijava z email naslovom",username:"Uporabniško ime",optional:"Po želji",signupCode:"Prijavna koda",clickAgree:"S klikom na Registracija se strinjaš",privacyPolicy:"z našimi pogoji uporabe",terms:"Pogoji uporabe",sign:"Prijava",configure:"Nastavi","with":"z",createAccount:"Nova registracija",and:"in","Match failed":"Prijava neuspešna","User not found":"Uporabnik ne obstaja","Incorrect password":"Napačno geslo","Email already exists.":"Email že obstaja.","Email is required":"Email je obvezen podatek",error:{minChar:"Geslo mora imeti vsaj sedem znakov.",pwOneLetter:"V geslu mora biti vsaj ena črka.",pwOneDigit:"V geslu mora biti vsaj ena številka.",usernameRequired:"Uporabniško ime je obvezen vnos.",emailRequired:"Email je obvezen vnos.",signupCodeRequired:"Prijavna koda je obvezen vnos.",signupCodeIncorrect:"Prijavna koda je napačna.",signInRequired:"Za to moraš biti prijavljen(a).",usernameIsEmail:"Uporabniško ime ne more biti email naslov."}},d.map("sl",e)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"Войти",signin:"Войти",signOut:"Выйти",signUp:"Регистрация",OR:"ИЛИ",forgotPassword:"Забыли пароль?",emailAddress:"Email",emailResetLink:"Отправить ссылку для сброса",dontHaveAnAccount:"Нет аккаунта?",resetYourPassword:"Сбросить пароль",updateYourPassword:"Обновить пароль",password:"Пароль",usernameOrEmail:"Имя пользователя или email",email:"Email",ifYouAlreadyHaveAnAccount:"Если у вас уже есть аккаунт",signUpWithYourEmailAddress:"Зарегистрируйтесь с вашим email адресом",username:"Имя пользователя",optional:"Необязательно",signupCode:"Регистрационный код",clickAgree:"Нажав на Регистрация вы соглашаетесь с условиями",privacyPolicy:"Политики безопасности",terms:"Условиями пользования",sign:"Подпись",configure:"Конфигурировать","with":"с",createAccount:"Создать аккаунт",and:"и","Match failed":"Не совпадают","User not found":"Пользователь не найден",error:{minChar:"Минимальное кол-во символов для пароля 7.",pwOneLetter:"В пароле должна быть хотя бы одна буква.",pwOneDigit:"В пароле должна быть хотя бы одна цифра.",usernameRequired:"Имя пользователя обязательно.",emailRequired:"Email обязательно.",signupCodeRequired:"Необходим регистрациооный код.",signupCodeIncorrect:"Неправильный регистрационный код.",signInRequired:"Необходимо войти для чтобы продолжить.",usernameIsEmail:"Имя пользователя не может быть адресом email."}},d.map("ru",e)}.call(this),function(){t="object"==typeof t?t:{};var e;e={signIn:"تسجيل الدخول",signin:"تسجيل الدخول",signOut:"تسجيل الخروج",signUp:"افتح حساب جديد",OR:"او",forgotPassword:"نسيت كلمة السر؟",emailAddress:"البريد الالكترونى",emailResetLink:"اعادة تعيين البريد الالكترونى",dontHaveAnAccount:"ليس عندك حساب؟",resetYourPassword:"اعادة تعيين كلمة السر",updateYourPassword:"جدد كلمة السر",password:"كلمة السر",usernameOrEmail:"اسم المستخدم او البريد الالكترونى",email:"البريد الالكترونى",ifYouAlreadyHaveAnAccount:"اذا كان عندك حساب",signUpWithYourEmailAddress:"سجل ببريدك الالكترونى",username:"اسم المستخدم",optional:"اختيارى",signupCode:"رمز التسجيل",clickAgree:"بفتح حسابك انت توافق على",privacyPolicy:"سياسة الخصوصية",terms:"شروط الاستخدام",sign:"تسجيل",configure:"تعديل","with":"مع",createAccount:"افتح حساب جديد",and:"و","Match failed":"المطابقة فشلت","User not found":"اسم المستخدم غير موجود",error:{minChar:"سبعة حروف هو الحد الادنى لكلمة السر",pwOneLetter:"كلمة السر تحتاج الى حرف اخر",pwOneDigit:"كلمة السر يجب ان تحتوى على رقم واحد على الاقل",usernameRequired:"اسم المستخدم مطلوب",emailRequired:"البريد الالكترونى مطلوب",signupCodeRequired:"رمز التسجيل مطلوب",signupCodeIncorrect:"رمز التسجيل غير صحيح",signInRequired:"عليك بتسجبل الدخول لفعل ذلك",usernameIsEmail:"اسم المستخدم لا يمكن ان يكون بريد الكترونى"}},d.map("ar",e)}.call(this),function(){t="object"==typeof t?t:{};l.map(function(){return this.route("entrySignIn",{path:"/sign-in",onBeforeAction:function(){return s.set("entryError",void 0),s.set("buttonText","in"),s.set("fromWhere",l.current().path)},onRun:function(){var t,r;return n.userId()&&l.go(e.settings.dashboardRoute),e.settings.signInTemplate?(this.template=e.settings.signInTemplate,t=i.entrySignIn.rendered,r=i[this.template].rendered,i[this.template].rendered=r?function(){return t.call(this),r.call(this)}:t,i[this.template].events(e.entrySignInEvents),i[this.template].helpers(e.entrySignInHelpers)):void 0}}),this.route("entrySignUp",{path:"/sign-up",onBeforeAction:function(){return s.set("entryError",void 0),s.set("buttonText","up")},onRun:function(){var t,n;return e.settings.signUpTemplate?(this.template=e.settings.signUpTemplate,t=i.entrySignUp.rendered,n=i[this.template].rendered,i[this.template].rendered=n?function(){return t.call(this),n.call(this)}:t,i[this.template].events(e.entrySignUpEvents),i[this.template].helpers(e.entrySignUpHelpers)):void 0}}),this.route("entryForgotPassword",{path:"/forgot-password",onBeforeAction:function(){return s.set("entryError",void 0)}}),this.route("entrySignOut",{path:"/sign-out",onBeforeAction:function(t){return s.set("entryError",void 0),e.settings.homeRoute&&n.logout(function(){return l.go(e.settings.homeRoute)}),t()}}),this.route("entryResetPassword",{path:"reset-password/:resetToken",onBeforeAction:function(){return s.set("entryError",void 0),s.set("resetToken",this.params.resetToken)}})})}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-entry"]={AccountsEntry:e}}(),function(){var e=(Package.meteor.Meteor,Package["telescope-lib"].deepExtend,Package["telescope-lib"].camelToDash,Package["telescope-lib"].dashToCamel,Package["telescope-lib"].getSetting,Package["telescope-lib"].getThemeSetting,Package["telescope-lib"].getSiteUrl,Package["telescope-lib"].trimWords,Package["telescope-base"].adminNav,Package["telescope-base"].viewNav,Package["telescope-base"].addToPostSchema,Package["telescope-base"].addToCommentsSchema,Package["telescope-base"].addToSettingsSchema,Package["telescope-base"].preloadSubscriptions,Package["telescope-base"].primaryNav,Package["telescope-base"].secondaryNav,Package["telescope-base"].viewParameters,Package["telescope-base"].footerModules,Package["telescope-base"].heroModules,Package["telescope-base"].postModules,Package["telescope-base"].postHeading,Package["telescope-base"].postMeta,Package["telescope-base"].modulePositions,Package["telescope-base"].postSubmitRenderedCallbacks,Package["telescope-base"].postSubmitClientCallbacks,Package["telescope-base"].postSubmitServerCallbacks,Package["telescope-base"].postEditRenderedCallbacks,Package["telescope-base"].postEditClientCallbacks,Package["telescope-base"].commentSubmitClientCallbacks,Package["telescope-base"].commentSubmitServerCallbacks,Package["telescope-base"].commentEditClientCallbacks,Package["telescope-base"].getTemplate,Package["telescope-base"].templates,Package["telescope-base"].themeSettings);(function(){e.useDropdowns=!0}).call(this),"undefined"==typeof Package&&(Package={}),Package["telescope-theme-hubble"]={}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._);(function(){e={_isCssLoaded:function(){return 0===document.styleSheets.length?!0:t.find(document.styleSheets,function(e){return e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!t.find(e.cssRules,function(e){return".meteor-css-not-found-error"===e.selectorText})})}}}).call(this),"undefined"==typeof Package&&(Package={}),Package.webapp={WebApp:e}}(),Accounts=Package["accounts-base"].Accounts,moment=Package.momentjs.moment,RSS=Package.rss.RSS,RouteController=Package["iron-router"].RouteController,Route=Package["iron-router"].Route,Router=Package["iron-router"].Router,IronLocation=Package["iron-router"].IronLocation,i18n=Package["telescope-i18n"].i18n,FastRender=Package["fast-render"].FastRender,__init_fast_render=Package["fast-render"].__init_fast_render,AutoForm=Package.autoform.AutoForm,preloadSubscriptions=Package["telescope-base"].preloadSubscriptions,adminNav=Package["telescope-search"].adminNav,Categories=Package["telescope-tags"].Categories,addToPostSchema=Package["telescope-base"].addToPostSchema,primaryNav=Package["telescope-base"].primaryNav,postModules=Package["telescope-base"].postModules,viewNav=Package["telescope-base"].viewNav,addToCommentsSchema=Package["telescope-base"].addToCommentsSchema,addToSettingsSchema=Package["telescope-base"].addToSettingsSchema,secondaryNav=Package["telescope-base"].secondaryNav,viewParameters=Package["telescope-search"].viewParameters,footerModules=Package["telescope-base"].footerModules,heroModules=Package["telescope-base"].heroModules,postHeading=Package["telescope-base"].postHeading,postMeta=Package["telescope-base"].postMeta,modulePositions=Package["telescope-base"].modulePositions,postSubmitRenderedCallbacks=Package["telescope-base"].postSubmitRenderedCallbacks,postSubmitClientCallbacks=Package["telescope-base"].postSubmitClientCallbacks,postSubmitServerCallbacks=Package["telescope-base"].postSubmitServerCallbacks,postEditRenderedCallbacks=Package["telescope-base"].postEditRenderedCallbacks,postEditClientCallbacks=Package["telescope-base"].postEditClientCallbacks,commentSubmitClientCallbacks=Package["telescope-base"].commentSubmitClientCallbacks,commentSubmitServerCallbacks=Package["telescope-base"].commentSubmitServerCallbacks,commentEditClientCallbacks=Package["telescope-base"].commentEditClientCallbacks,getTemplate=Package["telescope-base"].getTemplate,templates=Package["telescope-base"].templates,themeSettings=Package["telescope-base"].themeSettings,deepExtend=Package["telescope-lib"].deepExtend,camelToDash=Package["telescope-lib"].camelToDash,dashToCamel=Package["telescope-lib"].dashToCamel,getSetting=Package["telescope-lib"].getSetting,getThemeSetting=Package["telescope-lib"].getThemeSetting,getSiteUrl=Package["telescope-lib"].getSiteUrl,trimWords=Package["telescope-lib"].trimWords,serveRSS=Package["telescope-rss"].serveRSS,serveAPI=Package["telescope-api"].serveAPI,SubsManager=Package["subs-manager"].SubsManager,Async=Package.npm.Async,MailChimp=Package.mailchimp.MailChimp,Cookie=Package.cookies.Cookie,AccountsEntry=Package["accounts-entry"].AccountsEntry,CryptoJS=Package["crypto-base"].CryptoJS,Meteor=Package.meteor.Meteor,WebApp=Package.webapp.WebApp,Log=Package.logging.Log,Deps=Package.deps.Deps,Session=Package.session.Session,DDP=Package.livedata.DDP,UI=Package.ui.UI,Handlebars=Package.ui.Handlebars,Spacebars=Package.spacebars.Spacebars,Template=Package.templating.Template,check=Package.check.check,Match=Package.check.Match,_=Package.underscore._,$=Package.jquery.$,jQuery=Package.jquery.jQuery,Random=Package.random.Random,EJSON=Package.ejson.EJSON,SimpleSchema=Package["simple-schema"].SimpleSchema,MongoObject=Package["simple-schema"].MongoObject,HTML=Package.htmljs.HTML,Blaze=Package.blaze.Blaze,Iron=Package["iron-core"].Iron,function(){Template.__define__("postActions",function(){return HTML.Raw('<a class="toggle-actions-link" href="#">\n    <span class="action">…</span>\n  </a>')})}(),function(){Template.__define__("postAdmin",function(){var e=this;return Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("currentUser"),"isAdmin"))},function(){return["\n    ",HTML.DIV({"class":"post-meta-item"},"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("postsMustBeApproved"))},function(){return["\n        |\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("isApproved"))},function(){return["\n          ",HTML.A({href:"#","class":"unapprove-link goto-edit"},"Unapprove"),"\n        "]},function(){return["\n          ",HTML.A({href:"#","class":"approve-link goto-edit"},"Approve"),"\n        "]}),"\n      "]}),"\n      | ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"score")}),": ",Blaze.View(function(){return Spacebars.mustache(e.lookup("shortScore"))}),", ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"clicks")}),": ",Blaze.View(function(){return Spacebars.mustache(e.lookup("clicks"))}),"\n    "),"\n  "]})})}(),function(){Template.__define__("postCommentsLink",function(){var e=this;return HTML.DIV({"class":"post-meta-item"},"\n    ",HTML.A({"class":"comments-link",href:function(){return["/posts/",Spacebars.mustache(e.lookup("_id"))]}},"\n      ",HTML.SPAN({"class":"count"},Blaze.View(function(){return Spacebars.mustache(e.lookup("comments"))})),"\n      ",HTML.SPAN({"class":"action"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Comments")})),"\n    "),"\n  ")})}(),function(){Template.__define__("postContent",function(){var e=this;return HTML.DIV({"class":"post-info"},"\n    ",HTML.H3({"class":"post-heading"},"\n      ",Blaze.Each(function(){return Spacebars.call(e.lookup("postHeading"))},function(){return["\n        ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("getTemplate")),data:Spacebars.call(e.lookup(".."))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n      "]}),"\n    "),"\n    ",HTML.DIV({"class":"post-meta"},"\n      ",Blaze.Each(function(){return Spacebars.call(e.lookup("postMeta"))},function(){return["\n        ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("getTemplate")),data:Spacebars.call(e.lookup(".."))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n      "]}),"\n    "),"\n  ")})}(),function(){Template.__define__("postDiscuss",function(){var e=this;return HTML.A({"class":"discuss-link go-to-comments",href:function(){return["/posts/",Spacebars.mustache(e.lookup("_id"))]}},HTML.Raw('\n    <i class="icon-comment"></i>\n    '),HTML.SPAN({"class":"count"},Blaze.View(function(){return Spacebars.mustache(e.lookup("comments"))})),"\n    ",HTML.SPAN({"class":"action"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Discuss")})),"\n  ")})}(),function(){Template.__define__("postDomain",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("url"))},function(){return HTML.SPAN({"class":"post-domain"},Blaze.View(function(){return Spacebars.mustache(e.lookup("domain"))}))})})}(),function(){Template.__define__("postMeta",function(){var e=this;return HTML.DIV({"class":"post-meta-item"},"\n    ",HTML.SPAN({"class":"points"},Blaze.View(function(){return Spacebars.mustache(e.lookup("upvotes"))})," ",HTML.SPAN({"class":"unit"},Blaze.View(function(){return Spacebars.mustache(e.lookup("pointsUnitDisplayText"))})," ")),"by  ",HTML.A({"class":"post-author",href:function(){return Spacebars.mustache(e.lookup("profileUrl"))}},Blaze.View(function(){return Spacebars.mustache(e.lookup("authorName"))}))," ",HTML.SPAN({"class":"post-time"},Blaze.View(function(){return Spacebars.mustache(e.lookup("ago"))})),"\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("can_edit"))},function(){return["\n      | ",HTML.A({href:function(){return["/posts/",Spacebars.mustache(e.lookup("_id")),"/edit"]},"class":"edit-link goto-edit"},"Edit"),"\n    "]}),"\n  ")})}(),function(){Template.__define__("postTitle",function(){var e=this;return HTML.A({href:function(){return Spacebars.mustache(e.lookup("postLink"))},"class":"post-title",target:function(){return Spacebars.mustache(e.lookup("postTarget"))}},Blaze.View(function(){return Spacebars.mustache(e.lookup("title"))}))})}(),function(){Template.__define__("postUpvote",function(){var e=this;return[HTML.DIV({"class":"post-rank"},HTML.SPAN(Blaze.View(function(){return Spacebars.mustache(e.lookup("oneBasedRank"))}))),"\n  ",Blaze.If(function(){return Spacebars.call(e.lookup("upvoted"))},function(){return["\n    ",HTML.SPAN({"class":"upvote-link voted"},HTML.I({"class":"icon-check"}),HTML.SPAN(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Upvote")}))),"\n  "]},function(){return["\n    ",HTML.A({"class":"upvote-link not-voted",href:"#"},HTML.I({"class":"icon-up"}),HTML.SPAN(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Upvote")}))),"\n  "]})]})}(),function(){Template.__define__("settings",function(){var e=this;return HTML.DIV({"class":"grid-small grid-block dialog settings"},"\n    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"hasSettings"))},function(){return["\n      ",Spacebars.TemplateWith(function(){return{collection:Spacebars.call("Settings"),id:Spacebars.call("updateSettingsForm"),type:Spacebars.call("update"),doc:Spacebars.call(Spacebars.dot(e.lookup("."),"settings"))}},function(){return Spacebars.include(e.lookupTemplate("quickForm"))}),"\n    "]},function(){return["\n      ",Spacebars.TemplateWith(function(){return{collection:Spacebars.call("Settings"),id:Spacebars.call("updateSettingsForm"),type:Spacebars.call("insert")}},function(){return Spacebars.include(e.lookupTemplate("quickForm"))}),"\n    "]}),"\n  ")})}(),function(){Template.__define__("toolbox",function(){return HTML.Raw('<div class="grid-small grid-block dialog admin toolbox">\n      <h2>Toolbox</h2>\n      <ul>\n        <li><a href="#" class="give-invites">Give 1 Invite to Everybody</a></li>\n      </ul>\n    </div>')})}(),function(){Template.__define__("comment_deleted",function(){var e=this;return HTML.DIV({"class":"grid-small grid-block"},"\n  	",HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Your comment has been deleted.")})),"\n  ")})}(),function(){Template.__define__("comment_edit",function(){var e=this;return HTML.DIV({"class":"grid submit"},"\n    ",Spacebars.With(function(){return Spacebars.call(e.lookup("comment"))},function(){return["\n    ",HTML.FORM({"class":"grid-block form-horizontal"},"\n      ",HTML.DIV({"class":"control-group"},"\n        ",HTML.LABEL({"class":"control-label"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Comment")})),"\n        ",HTML.DIV({"class":"controls",id:"editor"},HTML.TEXTAREA({id:"body",value:function(){return Spacebars.mustache(e.lookup("body"))},"class":"input-xlarge"})),"\n      "),"\n      ",HTML.DIV({"class":"form-actions"},"\n        ",HTML.A({"class":"delete-link",href:"/comments/deleted"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Delete Comment")})),"\n        ",HTML.INPUT({type:"submit","class":"button",value:function(){return Spacebars.mustache(e.lookup("i18n"),"Submit")},title:"(⌘+enter)"}),"\n      "),"\n    "),"\n    "]}),"\n  ")})}(),function(){Template.__define__("comment_form",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("canComment"))},function(){return["\n    ",HTML.DIV({"class":"comment-new"},"\n      ",HTML.FORM("\n        ",HTML.DIV({"class":"comment-field",id:"editor"},"\n          ",HTML.TEXTAREA({id:"comment",rows:"3",autofocus:"autofocus"}),"\n        "),"\n        ",HTML.DIV({"class":"comment-submit"},"\n          ",HTML.INPUT({type:"submit","class":"button",value:function(){return Spacebars.mustache(e.lookup("i18n"),"Add Comment")},title:"(⌘+enter)"}),"\n        "),"\n      "),"\n    "),"\n  "]})})}(),function(){Template.__define__("comment_item",function(){var e=this;return HTML.LI({"class":"comment module comment-displayed",id:function(){return Spacebars.mustache(e.lookup("_id"))}},"\n   ",HTML.DIV({"class":"comment-body"},"\n      ",HTML.DIV({"class":"comment-content"},"\n        ",HTML.DIV({"class":function(){return["comment-actions ",Blaze.If(function(){return Spacebars.call(e.lookup("upvoted"))},function(){return"upvoted"},function(){return"not-upvoted"})," ",Blaze.If(function(){return Spacebars.call(e.lookup("downvoted"))},function(){return"downvoted"},function(){return"not-downvoted"})]}},"\n          ",HTML.A({"class":"upvote",href:"#"},"\n            ",HTML.Raw('<i class="icon-up"></i>'),"\n            ",HTML.SPAN(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"upvote")})),"\n          "),"\n          ",HTML.A({"class":"downvote",href:"#"},"\n            ",HTML.Raw('<i class="icon-down"></i>'),"\n            ",HTML.SPAN(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"downvote")})),"\n          "),"\n        "),"\n        ",HTML.DIV({"class":"user-avatar"},HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("user_avatar"))}})),"\n        ",HTML.DIV({"class":"comment-main"},"\n          ",HTML.DIV({"class":"comment-meta"},"\n            ",HTML.A({"class":"comment-username",href:function(){return Spacebars.mustache(e.lookup("profileUrl"))}},Blaze.View(function(){return Spacebars.mustache(e.lookup("authorName"))})),"\n            ",HTML.SPAN({"class":"comment-time"},Blaze.View(function(){return Spacebars.mustache(e.lookup("ago"))}),","),"\n            ",HTML.SPAN({"class":"points"},Blaze.View(function(){return Spacebars.mustache(e.lookup("upvotes"))}))," ",HTML.Raw('<span class="unit">points </span>'),"\n            ",HTML.A({href:function(){return["/comments/",Spacebars.mustache(e.lookup("_id"))]},"class":"comment-permalink icon-link goto-comment"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"link")})),"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("can_edit"))},function(){return["\n              | ",HTML.A({"class":"edit-link",href:function(){return["/comments/",Spacebars.mustache(e.lookup("_id")),"/edit"]}},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Edit")})),"\n            "]}),"\n            ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("currentUser"),"isAdmin"))},function(){return["\n              | ",HTML.SPAN(Blaze.View(function(){return Spacebars.mustache(e.lookup("full_date"))})),"\n            "]}),"\n          "),"\n          ",HTML.DIV({"class":"comment-text markdown"},Spacebars.include(e.lookupTemplate("markdown"),function(){return Blaze.View(function(){return Spacebars.mustache(e.lookup("body"))})})),"\n          ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("getSetting"),"nestedComments",!0)},function(){return["\n            ",HTML.A({href:function(){return["/comments/",Spacebars.mustache(e.lookup("_id"))]},"class":"comment-reply goto-comment"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Reply")})),"\n          "]}),"\n        "),"\n      "),"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("showChildComments"))},function(){return["\n      ",HTML.UL({"class":"comment-children comment-list"},"\n      ",Blaze.Each(function(){return Spacebars.call(e.lookup("child_comments"))},function(){return["\n        ",Spacebars.With(function(){return Spacebars.call(e.lookup("."))},function(){return["\n          ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("comment_item"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n        "]}),"\n      "]}),"\n      "),"\n      "]}),"\n    "),"\n  ")})}(),function(){Template.__define__("comment_list",function(){var e=this;return HTML.UL({"class":"comments comment-list"},"\n    ",Blaze.Each(function(){return Spacebars.call(e.lookup("child_comments"))},function(){return["\n      ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("comment_item"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n    "]}),"\n  ")})}(),function(){Template.__define__("comment_reply",function(){var e=this;return HTML.DIV({"class":"grid comment-page single-post"},"\n    \n    ",Spacebars.With(function(){return Spacebars.call(e.lookup("post"))},function(){return["\n      ",HTML.DIV({"class":"posts"},"\n        ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("post_item"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n      "),"\n    "]}),"\n\n    ",Spacebars.With(function(){return Spacebars.call(e.lookup("comment"))},function(){return["\n      ",HTML.UL({"class":"selected-comment"},"\n       ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("comment_item"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n      "),"\n    "]}),"\n\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("canComment"))},function(){return["\n      ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("comment_form"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n    "]}),"\n\n  ")})}(),function(){Template.__define__("css",function(){var e=this;return HTML.STYLE("\n      body{\n        background: ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getSetting"),"backgroundCSS")}),';\n      }\n      input[type="submit"], button, .button, .auth-buttons #login-buttons #login-buttons-password, .btn, .error, .mobile-menu-button, .login-link-text{\n        background-color: ',Blaze.View(function(){return Spacebars.mustache(e.lookup("getSetting"),"buttonColor")})," !important;\n      }\n      a:hover, .post-content .post-heading .post-title:hover, .post-content .post-upvote .upvote-link i, .comment-actions a i, .comment-actions.upvoted .upvote i, .comment-actions.downvoted .downvote i, .toggle-actions-link{\n        color: ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getSetting"),"buttonColor")}),";\n      }\n      .toggle-actions-link{\n        border-color: ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getSetting"),"buttonColor")}),";\n      }\n      .post-content .post-upvote .upvote-link.voted i.icon-check{\n        color: ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getSetting"),"secondaryColor")}),";\n      }\n      .header{\n        background-color: ",Blaze.View(function(){return Spacebars.mustache(e.lookup("getSetting"),"headerColor")}),";\n      }\n    .logo-image a{\n      height:",Blaze.View(function(){return Spacebars.mustache(e.lookup("getSetting"),"logoHeight")}),"px; \n      width:",Blaze.View(function(){return Spacebars.mustache(e.lookup("getSetting"),"logoWidth")}),"px; \n    }\n  ")})}(),function(){Template.__define__("error",function(){var e=this;return Blaze.Each(function(){return Spacebars.call(e.lookup("errors"))},function(){return["\n		",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("error_item"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n	"]})})}(),function(){Template.__define__("error_item",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("show"))},function(){return["\n    ",HTML.DIV({"class":"grid"},"\n      ",HTML.DIV({"class":function(){return["error ",Spacebars.mustache(e.lookup("type")),"-message"]}},"\n        ",Blaze.View(function(){return Spacebars.mustache(e.lookup("message"))}),"\n      "),"\n    "),"\n  "]})})}(),function(){Template.__define__("footer",function(){var e=this;return[Blaze.If(function(){return Spacebars.call(e.lookup("footerCode"))},function(){return["\n    ",HTML.DIV({"class":function(){return["footer grid ",Spacebars.mustache(e.lookup("footerClass"))]}},"\n      ",Blaze.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("footerCode")))}),"\n    "),"\n  "]}),"\n  ",Blaze.Each(function(){return Spacebars.call(e.lookup("footerModules"))},function(){return["\n    ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("getTemplate"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n  "]})]})}(),function(){Template.__define__("layout",function(){var e=this;return[Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("css"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n  ",HTML.DIV({"class":function(){return["outer-wrapper ",Spacebars.mustache(e.lookup("currentPage"))]}},"\n    ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("mobile_nav"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n    ",HTML.DIV({"class":function(){return["inner-wrapper template-",Spacebars.mustache(e.lookup("pageName"))]}},"\n      ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("nav"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n      ",HTML.DIV({"class":"content-wrapper"},"\n        ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("error"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n        ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("notifications"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("heroModules"))},function(){return["\n          ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("getTemplate"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n        "]}),"\n        ",Spacebars.include(e.lookupTemplate("yield")),"\n        ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("footer"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n      "),"\n      ",HTML.Raw('<div class="overlay hidden"></div>'),"\n    "),"\n    ",Blaze.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("extraCode")))}),"\n  ")]})}(),function(){Template.__define__("already_logged_in",function(){var e=this;return HTML.DIV({"class":"grid-small grid-block dialog"},"\n		",HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"You are already logged in")})),"\n	")})}(),function(){Template.__define__("loading",function(){var e=this;return[HTML.DIV({"class":"grid loading-page"},"\n    ",Spacebars.include(e.lookupTemplate("spinner")),"\n  "),"\n  ",Blaze.View(function(){return Spacebars.mustache(e.lookup("log"))})]})}(),function(){Template.__define__("no_account",function(){var e=this;return HTML.DIV({"class":"grid-small grid-block dialog"},"\n		",HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Sorry, this is a private site. Please sign up first.")})),"\n		",Blaze.View(function(){return Spacebars.mustache(e.lookup("landingPageText"))}),"\n		",HTML.DIV({"class":"twitter-signup twitter-auth"},"\n      		",HTML.A({"class":"twitter-button button",href:"#"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Sign In/Sign Up with Twitter")})),"\n    	"),"\n	")})}(),function(){Template.__define__("no_invite",function(){var e=this;return HTML.DIV({"class":"grid-small grid-block dialog"},"\n		",HTML.H2(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Thanks for signing up!")})),"\n		",Blaze.View(function(){return Spacebars.mustache(e.lookup("afterSignupText"))}),"\n		",HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"The site is currently invite-only, but we will let you know as soon as a spot opens up.")})),"\n	")})}(),function(){Template.__define__("no_rights",function(){var e=this;return HTML.DIV({"class":"grid-small grid-block dialog"},"\n    ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Sorry, you don't have the rights to view this page.")}),"\n  ")})}(),function(){Template.__define__("notFound",function(){var e=this;return HTML.DIV({"class":"grid-small grid-block dialog"},"\n		",HTML.H2(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Not Found!")
})),"\n    ",HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"We're sorry; whatever you were looking for isn't here..")})),"\n	")})}(),function(){Template.__define__("adminMenu",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("isAdmin"))},function(){return["\n    ",HTML.DIV({"class":"dropdown"},"\n      ",HTML.A({"class":"admin dropdown-top-level",href:"/"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Admin")})),"\n      ",HTML.DIV({"class":"dropdown-menu"},"\n        ",HTML.UL({role:"menu","aria-labelledby":"dLabel"},"\n          ",Blaze.Each(function(){return Spacebars.call(e.lookup("menu"))},function(){return["\n            ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("menuItem")),data:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n          "]}),"\n        "),"\n      "),"\n    "),"\n  "]})})}(),function(){Template.__define__("menuItem",function(){var e=this;return HTML.LI(HTML.A({"class":"dropdown-sub-level",href:function(){return Spacebars.mustache(e.lookup("pathFor"),e.lookup("route"))}},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),e.lookup("label"))})))})}(),function(){Template.__define__("mobile_nav",function(){var e=this;return HTML.DIV({"class":"mobile-nav"},"\n    ",HTML.DIV({"class":"mobile-nav-inner"},"\n\n      ",HTML.UL({"class":"mobile-menu"},"\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("primaryNav"))},function(){return["\n          ",HTML.LI("\n            ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("getTemplate"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n          "),"\n        "]}),"\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("secondaryNav"))},function(){return["\n          ",HTML.LI("\n            ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("getTemplate"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n          "),"\n        "]}),"\n      "),"\n    "),"\n  ")})}(),function(){Template.__define__("nav",function(){var e=this;return HTML.HEADER({"class":"header"},"\n\n    ",HTML.A({id:"mobile-menu",href:"#menu","class":"mobile mobile-button menu mobile-menu-button"},HTML.Raw('<i class="icon-menu"></i>'),HTML.SPAN(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Menu")}))),"\n\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("logo_url"))},function(){return["\n      ",HTML.H1({"class":"logo logo-image"},"\n        ",HTML.A({href:"/"},"\n          ",HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("logo_url"))},alt:function(){return Spacebars.mustache(e.lookup("site_title"))}}),"\n        "),"\n      "),"\n    "]},function(){return["\n      ",HTML.H1({"class":"logo"},HTML.A({href:"/"},Blaze.View(function(){return Spacebars.mustache(e.lookup("site_title"))}))),"\n    "]}),"\n\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("hasPrimaryNav"))},function(){return["\n      ",HTML.UL({"class":function(){return["nav primary-nav desktop-nav ",Spacebars.mustache(e.lookup("dropdownClass"))]}},"\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("primaryNav"))},function(){return["\n          ",HTML.LI("\n            ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("getTemplate"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n          "),"\n        "]}),"\n      "),"\n    "]}),"\n\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("hasSecondaryNav"))},function(){return["\n      ",HTML.UL({"class":function(){return["nav secondary-nav desktop-nav ",Spacebars.mustache(e.lookup("dropdownClass"))]}},"\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("secondaryNav"))},function(){return["\n          ",HTML.LI("\n            ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("getTemplate"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n          "),"\n        "]}),"\n      "),"\n    "]}),"\n\n  ")})}(),function(){Template.__define__("submitButton",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("canPost"))},function(){return["\n    ",HTML.A({id:"submit","class":"submit button",href:"/submit"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Post")})),"\n  "]})})}(),function(){Template.__define__("userMenu",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("isLoggedIn"))},function(){return["\n    ",HTML.DIV({"class":"user-menu dropdown"},"\n      ",HTML.A({"class":"view dropdown-top-level",href:"/"},Blaze.View(function(){return Spacebars.mustache(e.lookup("name"))})),"\n      ",HTML.DIV({"class":"dropdown-menu dropdown-left"},"\n        ",HTML.UL({role:"menu","aria-labelledby":"dLabel"},"\n          ",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(e.lookup("profileUrl"))}},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Profile")}))),"\n          ",HTML.LI(HTML.A({href:"/account"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Edit Account")})))," \n          ",HTML.LI(HTML.A({href:"/sign-out"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Sign Out")}))),"\n        "),"\n      "),"\n    "),"\n  "]},function(){return["\n    ",HTML.A({"class":"sign-in",href:"/sign-in"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Sign In")})),"\n    ",HTML.A({"class":"sign-up",href:"/sign-up"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Sign Up")})),"\n  "]})})}(),function(){Template.__define__("viewsMenu",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("canView"))},function(){return["\n    ",HTML.DIV({"class":"dropdown"},"\n      ",HTML.A({"class":"view  dropdown-top-level",href:"/"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"View")})),"\n      ",HTML.DIV({"class":"dropdown-menu"},"\n        ",HTML.UL({role:"menu","aria-labelledby":"dLabel"},"\n          ",Blaze.Each(function(){return Spacebars.call(e.lookup("views"))},function(){return["\n            ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("menuItem")),data:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n          "]}),"\n        "),"\n      "),"\n    "),"\n  "]})})}(),function(){Template.__define__("notification_item",function(){var e=this;return HTML.LI({"class":function(){return Blaze.If(function(){return Spacebars.call(e.lookup("read"))},function(){return"read"})}},"\n    ",HTML.SPAN({"class":"notification-timestamp"},Blaze.View(function(){return Spacebars.mustache(e.lookup("nice_time"))})),"\n    ",HTML.P("\n      ",Blaze.View(function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("notificationHTML")))}),"\n    "),"\n  ")})}(),function(){Template.__define__("notification_new_comment",function(){var e=this;return HTML.P("\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("profileUrl"))}},Blaze.View(function(){return Spacebars.mustache(e.lookup("author"))}))," \n    left a new comment on    \n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("postCommentUrl"))},"class":"action-link"},Blaze.View(function(){return Spacebars.mustache(e.lookup("postTitle"))})),"\n  ")})}(),function(){Template.__define__("notification_new_reply",function(){var e=this;return HTML.P("\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("profileUrl"))}},Blaze.View(function(){return Spacebars.mustache(e.lookup("author"))}))," \n    has replied to your comment on \n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("postCommentUrl"))},"class":"action-link"},Blaze.View(function(){return Spacebars.mustache(e.lookup("postTitle"))})),"\n  ")})}(),function(){Template.__define__("notifications",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return["\n		",Blaze.If(function(){return Spacebars.call(e.lookup("canPost"))},function(){return["\n		",HTML.DIV({"class":function(){return["notifications module ",Spacebars.mustache(e.lookup("notification_class"))]}},"\n			",HTML.A({href:"#","class":"mark-as-read"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Mark all as read")})),"\n			",HTML.UL("\n			",Blaze.Each(function(){return Spacebars.call(e.lookup("notifications"))},function(){return["\n				",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("notification_item"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n		    "]}),"\n			"),"\n		"),"\n		",HTML.A({href:"#","class":function(){return["notifications-toggle ",Spacebars.mustache(e.lookup("notification_class"))]}},Blaze.View(function(){return Spacebars.mustache(e.lookup("notification_count"))})),"	\n		"]}),"\n	"]})})}(),function(){Template.__define__("unsubscribe",function(){var e=this;return HTML.DIV({"class":"grid-small grid-block dialog admin"},"\n    ",HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("unsubscribed"))})),"\n  ")})}(),function(){Template.__define__("post_body",function(){var e=this;return HTML.DIV({"class":"post-body markdown"},Spacebars.include(e.lookupTemplate("markdown"),function(){return Blaze.View(function(){return Spacebars.mustache(e.lookup("body"))})}))})}(),function(){Template.__define__("post_deleted",function(){var e=this;return HTML.DIV({"class":"grid-small grid-block"},"\n  	",HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Your post has been deleted.")})),"\n  ")})}(),function(){Template.__define__("post_edit",function(){var e=this;return HTML.DIV({"class":"grid submit"},"\n    ",Spacebars.With(function(){return Spacebars.call(e.lookup("post"))},function(){return["\n      ",HTML.FORM({"class":"grid-block form-horizontal"},"\n        ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL({"class":"control-label post-form-headline"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Created")})),"\n          ",HTML.DIV({"class":"controls"},HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("created"))}))),"\n        "),"\n        ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL({"class":"control-label post-form-headline"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Title")})),"\n          ",HTML.DIV({"class":"controls"},HTML.INPUT({id:"title",type:"text",value:function(){return Spacebars.mustache(e.lookup("title"))}})),"\n        "),"\n        ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL({"class":"control-label post-form-url"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"URL")})),"\n          ",HTML.DIV({"class":"controls"},HTML.INPUT({id:"url",type:"text",value:function(){return Spacebars.mustache(e.lookup("url"))}})),"\n        "),"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("shorten"))},function(){return["\n        ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL({"class":"control-label post-form-url"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Short URL")})),"\n          ",HTML.DIV({"class":"controls"},HTML.INPUT({id:"short-url",type:"text",value:function(){return Spacebars.mustache(e.lookup("shortUrl"))}})),"\n        "),"\n        "]}),"\n        ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL({"class":"control-label post-form-body"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Body")})),"\n          ",HTML.DIV({"class":"controls",id:"editor"},HTML.TEXTAREA({id:"body",value:function(){return Spacebars.mustache(e.lookup("body"))},"class":"input-xlarge"})),"\n        "),"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("categoriesEnabled"))},function(){return["\n        ",HTML.DIV({"class":"control-group post-form-category"},"\n          ",HTML.LABEL({"class":"control-label"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Categories")})),"\n          ",HTML.DIV({"class":"controls"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("categories"))},function(){return["\n            ",HTML.LABEL({"class":"radio inline"},"\n              ",HTML.INPUT(HTML.Attrs({id:function(){return["category_",Spacebars.mustache(e.lookup("_id"))]},type:"checkbox",value:function(){return Spacebars.mustache(e.lookup("_id"))},name:"category"},function(){return Spacebars.attrMustache(e.lookup("checked"))}))," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("name"))}),"\n            "),"\n            "]}),"\n          "),"\n        "),"\n        "]}),"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("isAdmin"))},function(){return["\n          ",HTML.DIV({"class":"control-group post-form-sticky"},"\n            ",HTML.LABEL({"class":"control-label"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Inactive?")})),"\n            ",HTML.DIV({"class":"controls"},"\n              ",Blaze.View(function(){return Spacebars.mustache(e.lookup("inactive"))}),"\n            "),"\n          "),"\n          ",HTML.DIV({"class":"control-group post-form-sticky"},"\n            ",HTML.LABEL({"class":"control-label"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Sticky?")})),"\n            ",HTML.DIV({"class":"controls"},"\n              ",HTML.INPUT(HTML.Attrs({type:"checkbox",name:"sticky",id:"sticky"},function(){return Spacebars.attrMustache(e.lookup("isSticky"))})),"\n            "),"\n          "),"\n          ",HTML.DIV({"class":"control-group post-form-user"},"\n            ",HTML.LABEL({"class":"control-label"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"User")})),"\n            ",HTML.DIV({"class":"controls"},"\n              ",HTML.SELECT({id:"postUser"},"\n                ",Blaze.Each(function(){return Spacebars.call(e.lookup("users"))},function(){return["\n                  ",HTML.OPTION(HTML.Attrs({value:function(){return Spacebars.mustache(e.lookup("_id"))}},function(){return Spacebars.attrMustache(e.lookup("isSelected"),e.lookup(".."))}),Blaze.View(function(){return Spacebars.mustache(e.lookup("userName"))})),"\n                "]}),"\n              "),"\n            "),"\n          "),"\n          ",HTML.DIV({"class":"control-group post-form-status"},"\n            ",HTML.LABEL({"class":"control-label"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Status")})),"\n            ",HTML.DIV({"class":"controls"},"\n              ",HTML.LABEL({"class":"radio inline"},"\n                ",HTML.INPUT(HTML.Attrs({id:"status_pending",type:"radio",value:"1",name:"status"},function(){return Spacebars.attrMustache(e.lookup("hasStatusPending"))}))," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Pending")}),"\n              "),"\n              ",HTML.LABEL({"class":"radio inline"},"\n                ",HTML.INPUT(HTML.Attrs({id:"status_approved",type:"radio",value:"2",name:"status"},function(){return Spacebars.attrMustache(e.lookup("hasStatusApproved"))}))," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Approved")}),"\n              "),"\n              ",HTML.LABEL({"class":"radio inline"},"  \n                ",HTML.INPUT(HTML.Attrs({id:"status_rejected",type:"radio",value:"3",name:"status"},function(){return Spacebars.attrMustache(e.lookup("hasStatusRejected"))}))," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Rejected")}),"\n              "),"\n            "),"\n          "),"\n          ",HTML.DIV({id:"postedAt","class":function(){return Spacebars.mustache(e.lookup("showPostedAt"))}},"\n            ",HTML.DIV({"class":"control-group"},"\n              ",HTML.LABEL({"class":"control-label post-form-date"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Posted Date")})),"\n              ",HTML.DIV({"class":"controls"},HTML.INPUT({id:"postedAtDate",type:"text",value:function(){return Spacebars.mustache(e.lookup("postedAtDate"))}})),"\n            "),"\n            ",HTML.DIV({"class":"control-group"},"\n              ",HTML.LABEL({"class":"control-label post-form-time"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Posted Time")})),"\n              ",HTML.DIV({"class":"controls"},HTML.INPUT({id:"postedAtTime",type:"text",value:function(){return Spacebars.mustache(e.lookup("postedAtTime"))}})),"\n            "),"\n          "),"\n        "]}),"\n        ",HTML.DIV({"class":"form-actions"},"\n          ",HTML.A({"class":"delete-link",href:"/posts/deleted"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Delete Post")})),"\n          ",HTML.INPUT({type:"submit","class":"button",value:function(){return Spacebars.mustache(e.lookup("i18n"),"Submit")}}),"\n        "),"\n      "),"\n    "]}),"\n  ")})}(),function(){Template.__define__("post_item",function(){var e=this;return HTML.DIV({"class":function(){return["post module ",Spacebars.mustache(e.lookup("rankClass"))," ",Blaze.If(function(){return Spacebars.call(e.lookup("sticky"))},function(){return"sticky"})," ",Spacebars.mustache(e.lookup("inactiveClass"))]},id:function(){return Spacebars.mustache(e.lookup("_id"))}},"\n    ",HTML.DIV({"class":"modules-group left-modules"},"\n      ",HTML.DIV({"class":"inner"},"\n      ",Blaze.Each(function(){return Spacebars.call(e.lookup("leftPostModules"))},function(){return["\n        ",HTML.DIV({"class":function(){return Spacebars.mustache(e.lookup("moduleClass"))}},"\n          ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("getTemplate")),data:Spacebars.call(e.lookup(".."))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n        "),"\n      "]}),"\n      "),"\n    "),"\n    ",HTML.DIV({"class":"modules-group center-modules"},"\n      ",HTML.DIV({"class":"inner"},"\n      ",Blaze.Each(function(){return Spacebars.call(e.lookup("centerPostModules"))},function(){return["\n        ",HTML.DIV({"class":function(){return Spacebars.mustache(e.lookup("moduleClass"))}},"\n          ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("getTemplate")),data:Spacebars.call(e.lookup(".."))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n        "),"\n      "]}),"\n      "),"\n    "),"\n    ",HTML.DIV({"class":"modules-group right-modules"},"\n      ",HTML.DIV({"class":"inner"},"\n      ",Blaze.Each(function(){return Spacebars.call(e.lookup("rightPostModules"))},function(){return["\n        ",HTML.DIV({"class":function(){return Spacebars.mustache(e.lookup("moduleClass"))}},"\n          ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("getTemplate")),data:Spacebars.call(e.lookup(".."))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n        "),"\n      "]}),"\n      "),"\n    "),"\n  ")})}(),function(){Template.__define__("post_page",function(){var e=this;return HTML.DIV({"class":"single-post grid"},"\n    ",HTML.DIV({"class":"posts"},"\n      ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("post_item"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n    "),"\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("body"))},function(){return["\n      ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("post_body"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n    "]}),"\n    ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("comment_form"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n    ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("comment_list"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n  ")})}(),function(){Template.__define__("post_submit",function(){var e=this;return HTML.DIV({"class":"grid submit"},"\n    ",HTML.FORM({"class":"grid-block form-horizontal"},"\n      ",HTML.DIV({"class":"control-group"},"\n        ",HTML.LABEL({"class":"control-label"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"URL")})),"\n        ",HTML.Raw('<div class="controls"><input id="url" type="text" value=""></div>'),"\n      "),"\n      ",HTML.DIV({"class":"control-group"},"\n        ",HTML.LABEL({"class":"control-label"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Title")})),"\n        ",HTML.DIV({"class":"controls"},HTML.Raw('<input id="title" type="text" value="">'),HTML.A({href:"#","class":"get-title-link inline-link"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Suggest title")}))),"\n      "),"\n      ",HTML.DIV({"class":"control-group"},"\n        ",HTML.LABEL({"class":"control-label"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Body")})),"\n        ",HTML.DIV({"class":"controls",id:"editor"},HTML.TEXTAREA({id:"body",value:"","class":"input-xlarge"})),"\n      "),"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("categoriesEnabled"))},function(){return["\n      ",HTML.DIV({"class":"control-group"},"\n        ",HTML.LABEL({"class":"control-label"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Category")})),"\n        ",HTML.DIV({"class":"controls"},"\n          ",Blaze.Each(function(){return Spacebars.call(e.lookup("categories"))},function(){return["\n          ",HTML.LABEL({"class":"radio inline"},"\n            ",HTML.INPUT({id:function(){return["category_",Spacebars.mustache(e.lookup("_id"))]},type:"checkbox",value:function(){return Spacebars.mustache(e.lookup("_id"))},name:"category"})," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("name"))}),"\n          "),"\n          "]}),"\n        "),"\n      "),"\n      "]}),"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("isAdmin"))},function(){return["\n        ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL({"class":"control-label"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Sticky?")})),"\n          ",HTML.DIV({"class":"controls"},"\n            ",HTML.INPUT({type:"checkbox",name:"sticky",id:"sticky"}),"\n          "),"\n        "),"\n        ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL({"class":"control-label"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"User")})),"\n          ",HTML.DIV({"class":"controls"},"\n            ",HTML.SELECT({id:"postUser"},"\n              ",Blaze.Each(function(){return Spacebars.call(e.lookup("users"))},function(){return["\n                ",HTML.OPTION(HTML.Attrs({value:function(){return Spacebars.mustache(e.lookup("_id"))}},function(){return Spacebars.attrMustache(e.lookup("isSelected"),e.lookup("."))}),Blaze.View(function(){return Spacebars.mustache(e.lookup("userName"))})),"\n              "]}),"\n            "),"\n          "),"\n        "),"\n        ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL({"class":"control-label"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Status")})),"\n          ",HTML.DIV({"class":"controls"},"\n            ",HTML.LABEL({"class":"radio inline"},"\n              ",HTML.INPUT({id:"status_pending",type:"radio",value:"1",name:"status"})," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Pending")}),"\n            "),"\n            ",HTML.LABEL({"class":"radio inline"},"\n              ",HTML.INPUT({id:"status_approved",type:"radio",value:"2",name:"status",checked:""})," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Approved")}),"\n            "),"\n            ",HTML.LABEL({"class":"radio inline"},"  \n              ",HTML.INPUT({id:"status_rejected",type:"radio",value:"3",name:"status"})," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Rejected")}),"\n            "),"\n          "),"\n        "),"\n        ",HTML.DIV({id:"postedAt","class":function(){return Spacebars.mustache(e.lookup("showPostedAt"))}},"\n          ",HTML.DIV({"class":"control-group"},"\n            ",HTML.LABEL({"class":"control-label post-form-date"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Posted Date")})),"\n            ",HTML.DIV({"class":"controls"},HTML.INPUT({id:"postedAtDate",type:"text",value:function(){return Spacebars.mustache(e.lookup("postedAtDate"))}})),"\n          "),"\n          ",HTML.DIV({"class":"control-group"},"\n            ",HTML.LABEL({"class":"control-label post-form-time"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Posted Time")})),"\n            ",HTML.DIV({"class":"controls"},HTML.INPUT({id:"postedAtTime",type:"text",value:function(){return Spacebars.mustache(e.lookup("postedAtTime"))}})),"\n          "),"\n          ",HTML.P({"class":"help-block"},"Leave blank to post at current time."),"\n        "),"\n      "]}),"\n      ",HTML.DIV({"class":"form-actions"},"\n        ",HTML.INPUT({type:"submit","class":"button",value:function(){return Spacebars.mustache(e.lookup("i18n"),"Submit")}}),"\n      "),"\n    "),"\n  ")})}(),function(){Template.__define__("posts_digest",function(){var e=this;return[HTML.DIV({"class":"grid"},"\n    ",HTML.DIV({"class":"grid-block"},"\n      ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"The top 5 posts of each day.")})," |\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("showPreviousDate"))},function(){return["\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("previousDateURL"))},"class":"prev-link"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Previous Day")}))," |\n    "]}),"\n    ",Blaze.View(function(){return Spacebars.mustache(e.lookup("currentDate"))})," |\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("showNextDate"))},function(){return["\n    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("nextDateURL"))},"class":"next-link"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Next Day")})),"\n    "]}),"\n    "),"\n  "),"\n  ",Blaze.If(function(){return Spacebars.call(e.lookup("hasPosts"))},function(){return["\n    ",HTML.DIV({"class":"posts grid list"},"\n      ",Blaze.Each(function(){return Spacebars.call(e.lookup("posts"))},function(){return["\n        ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("post_item"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n      "]}),"\n    "),"\n  "]},function(){return["\n    ",HTML.DIV({"class":"grid-small grid-block dialog"},"\n      ",HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Sorry, no posts for")})," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("currentDate"))}),"."),"\n    "),"\n  "]})]})}(),function(){Template.__define__("posts_list",function(){var e=this;return HTML.DIV({"class":"posts-wrapper grid"},"\n  	",HTML.DIV({"class":"posts list"},"\n  		",Blaze.Each(function(){return Spacebars.call(e.lookup("posts"))},function(){return["\n  			",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("post_item"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n  		"]}),"\n    "),"\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("hasMorePosts"))},function(){return["\n      ",HTML.DIV({"class":"more-button module"},"\n        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("loadMoreUrl"))}},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Load more")})),"\n      "),"\n    "]}),"\n  ")})}(),function(){Template.__define__("forgot_password",function(){var e=this;return HTML.DIV({"class":"grid-small grid-block dialog user-edit"},"\n    ",HTML.FORM("\n      ",HTML.H2(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Forgot Password?")})),"\n      ",HTML.DIV({"class":"control-group"},"\n        ",HTML.LABEL(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Email")})),"\n        ",HTML.Raw('<div class="controls"><input id="email" name="email" type="text" value=""></div>'),"\n      "),"\n      ",HTML.DIV({"class":"form-actions"},"\n        ",HTML.INPUT({type:"submit","class":"button",value:function(){return Spacebars.mustache(e.lookup("i18n"),"Reset Password")}}),"\n      "),"\n    "),"\n  ")})}(),function(){Template.__define__("invites",function(){var e=this;return HTML.DIV({"class":"grid-small grid-block dialog admin"},HTML.Raw("\n    <h2>Invites</h2>\n    \n    "),Blaze.If(function(){return Spacebars.call(e.lookup("canCurrentUserInvite"))},function(){return["\n      ",Spacebars.TemplateWith(function(){return{schema:Spacebars.call(e.lookup("invitesSchema")),id:Spacebars.call("inviteForm"),"class":Spacebars.call("form-block"),type:Spacebars.call("method"),meteormethod:Spacebars.call("inviteUser")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n        ",HTML.H3("Invite someone"),"\n        ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL("Email"),"\n          ",HTML.DIV({"class":"controls"},"\n            ",Spacebars.TemplateWith(function(){return{name:Spacebars.call("invitedUserEmail")}},function(){return Spacebars.include(e.lookupTemplate("afFieldInput"))}),"\n          "),"\n        "),"\n        ",HTML.DIV({"class":"form-actions"},"\n          ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("afFieldIsInvalid"),Spacebars.kw({name:"invitedUserEmail"}))},function(){return"\n            This is not a valid email\n          "}),"\n          ",HTML.INPUT({type:"submit","class":"button",value:"Invite"}),"\n        "),"\n      "]})}),"\n    "]}),"\n\n    ",HTML.TABLE("\n      ",HTML.THEAD("\n        ",HTML.TR("\n          ",HTML.TD("Email"),"\n          ",HTML.TD("Accepted"),"\n        "),"\n      "),"\n      ",HTML.TBODY("\n          ",Blaze.Each(function(){return Spacebars.call(e.lookup("invites"))},function(){return["\n          ",HTML.TR("\n            ",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("invitedUserEmail"))})),"\n            ",HTML.TD(Blaze.If(function(){return Spacebars.call(e.lookup("accepted"))},function(){return HTML.I({"class":"icon-check"})})),"\n          "),"\n          "]}),"\n      "),"\n    "),"\n\n  ")})}(),function(){Template.__define__("signin",function(){var e=this;return[HTML.DIV({"class":"grid-small grid-block dialog signin"},"\n    ",HTML.H2(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Sign In")})),"\n    ",HTML.DIV({"class":"twitter-signup twitter-auth"},"\n      ",HTML.A({"class":"twitter-button button",href:"#"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Sign In/Sign Up with Twitter")})),"\n    "),"\n    ",HTML.DIV({"class":"regular-signup regular-auth"},"\n      ",HTML.FORM("\n        ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Username")})),"\n          ",HTML.Raw('<div class="controls"><input id="username" type="text" value=""></div>'),"\n        "),"\n        ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Password")})),"\n          ",HTML.Raw('<div class="controls"><input id="password" type="password" value=""></div>'),"\n        "),"\n        ",HTML.DIV({"class":"form-actions"},"\n          ",HTML.A({href:"/forgot_password"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Forgot password?")
})),"\n          ",HTML.INPUT({type:"submit","class":"button",value:function(){return Spacebars.mustache(e.lookup("i18n"),"Sign In")}}),"\n        "),"\n      "),"\n    "),"\n  "),"\n  ",HTML.P({"class":"grid-small footer-notice"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Don't have an account?")})," ",HTML.A({href:"signup",id:"signup"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Sign up!")})))]})}(),function(){Template.__define__("signup",function(){var e=this;return[HTML.DIV({"class":"grid-small grid-block dialog signup"},"\n    ",HTML.Raw("<h2>Sign Up</h2>"),"\n    ",HTML.DIV({"class":"twitter-signup twitter-auth"},"\n      ",HTML.A({"class":"twitter-button button",href:"#"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Sign In/Sign Up with Twitter")})),"\n    "),"\n    ",HTML.DIV({"class":"regular-signup regular-auth"},"\n      ",HTML.FORM("\n        ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Username")})),"\n          ",HTML.Raw('<div class="controls"><input id="username" name="username" type="text" value=""></div>'),"\n        "),"\n        ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Email")})),"\n          ",HTML.Raw('<div class="controls"><input id="email" name="email" type="text" value=""></div>'),"\n        "),"\n        ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Password")})),"\n          ",HTML.Raw('<div class="controls"><input id="password" name="password" type="password" value=""></div>'),"\n        "),"\n        ",HTML.DIV({"class":"form-actions"},"\n          ",HTML.INPUT({type:"submit","class":"button",value:function(){return Spacebars.mustache(e.lookup("i18n"),"Sign Up")}}),"\n        "),"  \n      "),"\n    "),"\n  "),"\n  ",HTML.P({"class":"grid-small footer-notice"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Already have an account?")})," ",HTML.A({href:"signin",id:"signin"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Sign in!")})))]})}(),function(){Template.__define__("user_edit",function(){var e=this;return[HTML.DIV({"class":"grid-small grid-block dialog user-edit"},"\n  	",Spacebars.With(function(){return Spacebars.call(e.lookup("user"))},function(){return["\n    ",Blaze.If(function(){return Spacebars.call(e.lookup("profileIncomplete"))},function(){return["\n    ",HTML.DIV("\n      ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Please complete your profile below before continuing.")}),"\n    "),"\n    "]}),"\n    ",HTML.FORM({id:"account-form"},"\n      ",HTML.H2(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Account")})),"\n      ",HTML.DIV({"class":"control-group"},"\n        ",HTML.LABEL(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Username")})),"\n        ",HTML.DIV({"class":"controls"},"\n          ",HTML.INPUT({id:"username",name:"username",disabled:"disabled",type:"text",value:function(){return Spacebars.mustache(e.lookup("userName"))}}),"\n        "),"\n        ",HTML.P({"class":"note"},"Profile URL: ",Blaze.View(function(){return Spacebars.mustache(e.lookup("profileUrl"))})),"\n      "),"\n",HTML.Comment('       <div class="control-group">\n        <label>Email</label>\n        <div class="controls">\n          <input id="email" name="email" disabled="disabled" type="text" value="{{email}}" />\n        </div>\n      </div> '),"\n      ",HTML.DIV({"class":"control-group"},"\n        ",HTML.LABEL(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Display Name")})),"\n        ",HTML.DIV({"class":"controls"},"\n          ",HTML.INPUT({name:"name",type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"name"))}}),"\n        "),"\n      "),"\n      ",HTML.DIV({"class":"control-group"},"\n        ",HTML.LABEL(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Email")})),"\n        ",HTML.DIV({"class":"controls"},"\n          ",HTML.INPUT({name:"email",type:"text",value:function(){return Spacebars.mustache(e.lookup("userEmail"))}}),"\n        "),"\n      "),"\n      ",HTML.DIV({"class":"control-group"},"\n        ",HTML.LABEL(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Bio")})),"\n        ",HTML.DIV({"class":"controls"},HTML.TEXTAREA({name:"bio",type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"bio"))}})),"\n      "),"\n      ",HTML.DIV({"class":"control-group"},"\n      ",HTML.LABEL("Twitter Username"),"\n        ",HTML.DIV({"class":"controls"},"\n          ",HTML.INPUT({name:"twitter",type:"text",value:function(){return Spacebars.mustache(e.lookup("getTwitter"))}}),"\n        "),"\n      "),"\n      ",HTML.DIV({"class":"control-group"},"\n        ",HTML.LABEL("GitHub Username"),"\n        ",HTML.DIV({"class":"controls"},"\n          ",HTML.INPUT({name:"github",type:"text",value:function(){return Spacebars.mustache(e.lookup("getGitHub"))}}),"\n        "),"\n      "),"\n      ",HTML.DIV({"class":"control-group"},"\n        ",HTML.LABEL("Site"),"\n        ",HTML.DIV({"class":"controls"},"\n          ",HTML.INPUT({name:"site",type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"site"))}}),"\n        "),"\n      "),"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("hasPassword"))},function(){return["\n        ",HTML.H3(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Change Password?")})),"\n        ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Old Password")})),"\n          ",HTML.DIV({"class":"controls"},HTML.INPUT({name:"old_password",type:"password",value:""})),"\n        "),"\n        ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"New Password")})),"\n          ",HTML.DIV({"class":"controls"},HTML.INPUT({name:"new_password",type:"password",value:""})),"\n        "),"\n      "]}),"\n      ",HTML.DIV({"class":"control-group"},"\n        ",HTML.LABEL({"class":"control-label"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Email Notifications")})),"\n        ",HTML.DIV({"class":"controls"},"\n          ",Blaze.If(function(){return Spacebars.call(e.lookup("isAdmin"))},function(){return["\n            ",HTML.LABEL({"class":"checkbox"},"\n              ",HTML.INPUT(HTML.Attrs({id:"notifications_users",type:"checkbox",name:"notifications_users"},function(){return Spacebars.attrMustache(e.lookup("hasNotificationsUsers"))}))," New Users\n            "),"\n          "]}),"\n          ",HTML.LABEL({"class":"checkbox"},"\n            ",HTML.INPUT(HTML.Attrs({id:"notifications_posts",type:"checkbox",name:"notifications_posts"},function(){return Spacebars.attrMustache(e.lookup("hasNotificationsPosts"))}))," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"New Posts")}),"\n          "),"\n          ",HTML.LABEL({"class":"checkbox"},"\n            ",HTML.INPUT(HTML.Attrs({id:"notifications_comments",type:"checkbox",name:"notifications_comments"},function(){return Spacebars.attrMustache(e.lookup("hasNotificationsComments"))}))," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Comments on my posts")}),"\n          "),"\n          ",HTML.LABEL({"class":"checkbox"},"\n            ",HTML.INPUT(HTML.Attrs({id:"notifications_replies",type:"checkbox",name:"notifications_replies"},function(){return Spacebars.attrMustache(e.lookup("hasNotificationsReplies"))}))," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Replies to my comments")}),"\n          "),"\n        "),"\n      "),"\n      ",Blaze.If(function(){return Spacebars.call(e.lookup("isAdmin"))},function(){return["\n      ",HTML.DIV({"class":"control-group"},"\n        ",HTML.H3("Invites"),"\n        ",HTML.LABEL("Invites"),"\n        ",HTML.DIV({"class":"controls"},"\n          ",HTML.INPUT({name:"inviteCount",type:"text",value:function(){return Spacebars.mustache(e.lookup("inviteCount"))}}),"\n        "),"\n      "),"\n      "]}),"\n      ",HTML.DIV({"class":"form-actions"},"\n        ",HTML.A({href:"/forgot_password"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Forgot password?")})),"\n        ",HTML.INPUT({type:"submit","class":"button",value:function(){return Spacebars.mustache(e.lookup("i18n"),"Submit")}}),"\n      "),"\n    "),"\n    "]}),"\n  "),"\n\n  ",Spacebars.include(e.lookupTemplate("invites"))]})}(),function(){Template.__define__("user_email",function(){var e=this;return HTML.DIV({"class":"grid-small grid-block dialog user-edit"},"\n  	",Spacebars.With(function(){return Spacebars.call(e.lookup("user"))},function(){return["\n    ",HTML.DIV("\n      ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Please fill in your email below to finish signing up.")}),"\n    "),"\n    ",HTML.FORM("\n      ",HTML.DIV({"class":"control-group"},"\n          ",HTML.LABEL(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Username")})),"\n          ",HTML.DIV({"class":"controls"},"\n              ",HTML.INPUT({name:"username",type:"text",value:function(){return Spacebars.mustache(e.lookup("username"))}}),"\n          "),"\n        ",HTML.BR(),"\n        ",HTML.LABEL(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Email")})),"\n        ",HTML.DIV({"class":"controls"},"\n          ",HTML.INPUT({name:"email",type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"email"))}}),"\n        "),"\n      "),"\n      ",HTML.DIV({"class":"form-actions"},"\n        ",HTML.INPUT({type:"submit","class":"button",value:function(){return Spacebars.mustache(e.lookup("i18n"),"Submit")}}),"\n      "),"\n    "),"\n    "]}),"\n  ")})}(),function(){Template.__define__("user_item",function(){var e=this;return HTML.TR({"class":"user"},"\n	",HTML.TD(HTML.SPAN({"class":"user-avatar",style:function(){return["background-image:url(",Spacebars.mustache(e.lookup("avatarUrl")),");"]}})),"\n	",HTML.TD("\n		",HTML.A({href:function(){return Spacebars.mustache(e.lookup("getProfileUrl"))}},Blaze.View(function(){return Spacebars.mustache(e.lookup("displayName"))})),"\n		",HTML.Raw("<br>"),"\n		",HTML.A({href:function(){return["mailto:",Spacebars.mustache(e.lookup("getEmail"))]}},Blaze.View(function(){return Spacebars.mustache(e.lookup("getEmail"))})),"\n	"),"\n	",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("createdAtFormatted"))})),"\n	",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("postCount"))})),"\n	",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("commentCount"))})),"\n	",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("getKarma"))})),"\n	",HTML.TD("\n		",Blaze.If(function(){return Spacebars.call(e.lookup("invites"))},function(){return["\n		",HTML.H4(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Invited")})," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("invitedCount"))})," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"users")}),":"),"\n		",HTML.UL("\n			",Blaze.Each(function(){return Spacebars.call(e.lookup("invites"))},function(){return["\n				",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(e.lookup("getInvitedUserProfileUrl"))}},Blaze.View(function(){return Spacebars.mustache(e.lookup("invitedName"))}))),"\n			"]}),"\n		"),"\n		"]}),"\n		",HTML.P("(",Blaze.View(function(){return Spacebars.mustache(e.lookup("inviteCount"))})," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"invites left")}),")"),"\n	"),"\n	",HTML.TD(Blaze.If(function(){return Spacebars.call(e.lookup("isInvited"))},function(){return HTML.I({"class":"icon-check"})})),"\n	",HTML.TD(Blaze.If(function(){return Spacebars.call(e.lookup("userIsAdmin"))},function(){return HTML.I({"class":"icon-check"})})),"\n	",HTML.TD("\n		",HTML.UL("\n			",HTML.LI(Blaze.If(function(){return Spacebars.call(e.lookup("isInvited"))},function(){return HTML.A({"class":"uninvite-link",href:"#"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Uninvite")}))},function(){return HTML.A({href:"#","class":"invite-link"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Invite")}))})),"\n			",HTML.LI(Blaze.If(function(){return Spacebars.call(e.lookup("userIsAdmin"))},function(){return HTML.A({"class":"unadmin-link",href:"#"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Unadmin")}))},function(){return HTML.A({href:"#","class":"admin-link"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Make admin")}))})),"\n			",HTML.LI(HTML.A({"class":"delete-link",href:"#"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Delete User")}))),"\n		"),"\n	"),"\n")})}(),function(){Template.__define__("user_profile",function(){var e=this;return HTML.DIV({"class":"grid"},"\n		",Spacebars.With(function(){return Spacebars.call(e.lookup("user"))},function(){return["\n		",HTML.DIV({"class":"user-profile grid-block"},"\n			",HTML.TABLE("\n				",HTML.TR("\n					",HTML.TD({colspan:"2"},HTML.IMG({"class":"user-avatar",src:function(){return Spacebars.mustache(e.lookup("avatarUrl"))}})),"\n				"),"\n				",Blaze.If(function(){return Spacebars.call(e.lookup("isAdmin"))},function(){return["\n					",HTML.TR("\n						",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"ID")}),": "),"\n						",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("_id"))})),"\n					"),"\n				"]}),"\n				",HTML.TR("\n					",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Name:")})),"\n					",HTML.TD(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"name"))})),"\n				"),"\n				",HTML.TR("\n					",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Member since")}),":"),"\n					",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("createdAtFormatted"))})),"\n				"),"\n				",HTML.TR("\n					",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Bio:")})),"\n					",HTML.TD(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"bio"))})),"\n				"),"\n				",Blaze.If(function(){return Spacebars.call(e.lookup("getTwitterName"))},function(){return["\n					",HTML.TR("\n						",HTML.TD("Twitter: "),"\n						",HTML.TD(HTML.A({href:function(){return["http://twitter.com/",Spacebars.mustache(e.lookup("getTwitterName"))]}},Blaze.View(function(){return Spacebars.mustache(e.lookup("getTwitterName"))}))),"\n					"),"\n				"]}),"\n				",Blaze.If(function(){return Spacebars.call(e.lookup("getGitHubName"))},function(){return["\n					",HTML.TR("\n						",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"GitHub")}),":"),"\n						",HTML.TD(HTML.A({href:function(){return["http://github.com/",Spacebars.mustache(e.lookup("getGitHubName"))]}},Blaze.View(function(){return Spacebars.mustache(e.lookup("getGitHubName"))}))),"\n					"),"\n				"]}),"\n				",Blaze.If(function(){return Spacebars.call(e.lookup("site"))},function(){return["\n					",HTML.TR("\n						",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Site")}),":"),"\n						",HTML.TD(HTML.A({href:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"site"))}},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"site"))}))),"\n					"),"\n				"]}),"					\n			"),"\n			",Blaze.If(function(){return Spacebars.call(e.lookup("canEditProfile"))},function(){return["\n				",HTML.A({"class":"button inline",href:function(){return["/users/",Spacebars.mustache(e.lookup("slug")),"/edit"]}},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Edit profile")})),"\n			"]}),"\n			",Blaze.If(function(){return Spacebars.call(e.lookup("canInvite"))},function(){return["\n				",Blaze.If(function(){return Spacebars.call(e.lookup("inviteCount"))},function(){return["\n					",HTML.A({"class":"button inline invite-link",href:"#"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Invite")})," (",Blaze.View(function(){return Spacebars.mustache(e.lookup("inviteCount"))})," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"left")}),")"),"\n				"]},function(){return["\n					",HTML.A({"class":"button inline disabled",href:"#"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Invite (none left)")})),"\n				"]}),"\n			"]}),"\n		"),"\n		",HTML.DIV({"class":"user-profile-votes grid-block"},"\n		",HTML.H3(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Upvoted Posts")})),"\n		",HTML.TABLE("\n		",HTML.THEAD("\n			",HTML.TR("\n				",HTML.TD("Post"),"\n				",HTML.TD("Upvoted At"),"\n			"),"\n		"),"\n		",Blaze.Each(function(){return Spacebars.call(e.lookup("upvotes"))},function(){return["\n			",HTML.TR("\n				",HTML.TD(HTML.A({href:function(){return["/posts/",Spacebars.mustache(e.lookup("_id")),"/"]}},Blaze.View(function(){return Spacebars.mustache(e.lookup("title"))}))),"\n				",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("formatDate"),e.lookup("votedAt"),"MM/DD/YYYY, HH:mm")})),"\n			"),"\n		"]}),"\n		"),"\n		"),"\n		"]}),"\n	")})}(),function(){Template.__define__("users",function(){var e=this;return HTML.DIV({"class":"grid"},"\n      ",HTML.DIV({"class":"user-table grid-block"},"\n        ",HTML.H2(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Users")})),"\n        ",HTML.DIV({"class":"filter-sort"},"\n          ",HTML.P({"class":"filter"},"\n            ",HTML.SPAN(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Filter by")}),": "),"\n            ",HTML.A({"class":function(){return Spacebars.mustache(e.lookup("activeClass"),"all")},href:function(){return Spacebars.mustache(e.lookup("filterBy"),"all")}},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"All")})),"\n            ",HTML.A({"class":function(){return Spacebars.mustache(e.lookup("activeClass"),"invited")},href:function(){return Spacebars.mustache(e.lookup("filterBy"),"invited")}},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Invited")})),"\n            ",HTML.A({"class":function(){return Spacebars.mustache(e.lookup("activeClass"),"uninvited")},href:function(){return Spacebars.mustache(e.lookup("filterBy"),"uninvited")}},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Uninvited")})),"\n            ",HTML.A({"class":function(){return Spacebars.mustache(e.lookup("activeClass"),"admin")},href:function(){return Spacebars.mustache(e.lookup("filterBy"),"admin")}},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Admin")})),"\n          "),"\n          ",HTML.P({"class":"sort"},"\n            ",HTML.SPAN(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Sort by")}),": "),"\n            ",HTML.A({"class":function(){return Spacebars.mustache(e.lookup("activeClass"),"createdAt")},href:function(){return Spacebars.mustache(e.lookup("sortBy"),"createdAt")}},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Created")})),"\n            ",HTML.A({"class":function(){return Spacebars.mustache(e.lookup("activeClass"),"karma")},href:function(){return Spacebars.mustache(e.lookup("sortBy"),"karma")}},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Karma")})),"\n            ",HTML.A({"class":function(){return Spacebars.mustache(e.lookup("activeClass"),"username")},href:function(){return Spacebars.mustache(e.lookup("sortBy"),"username")}},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Username")})),"\n            ",HTML.A({"class":function(){return Spacebars.mustache(e.lookup("activeClass"),"postCount")},href:function(){return Spacebars.mustache(e.lookup("sortBy"),"postCount")}},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Posts")})),"\n            ",HTML.A({"class":function(){return Spacebars.mustache(e.lookup("activeClass"),"commentCount")},href:function(){return Spacebars.mustache(e.lookup("sortBy"),"commentCount")}},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Comments")})),"\n            ",HTML.A({"class":function(){return Spacebars.mustache(e.lookup("activeClass"),"invitedCount")},href:function(){return Spacebars.mustache(e.lookup("sortBy"),"invitedCount")}},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"InvitedCount")})),"\n          "),"\n        "),"\n        ",HTML.TABLE("\n          ",HTML.THEAD("\n            ",HTML.TR("\n              ",HTML.TD({colspan:"2"},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Name")})),"\n              ",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Member since")})),"\n              ",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Posts")})),"\n              ",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Comments")})),"\n              ",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Karma")})),"\n              ",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Invites")})),"\n              ",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Invited?")})),"\n              ",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Admin?")})),"\n              ",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Actions")})),"\n            "),"\n          "),"\n          ",HTML.TBODY("\n              ",Blaze.Each(function(){return Spacebars.call(e.lookup("users"))},function(){return["\n                ",Spacebars.TemplateWith(function(){return{template:Spacebars.call(e.lookup("user_item"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n              "]}),"\n          "),"\n        "),"\n        ",HTML.DIV({"class":function(){return["grid more-button ",Blaze.If(function(){return Spacebars.call(e.lookup("allPostsLoaded"))},function(){return" hidden "})]}},"\n          ",HTML.A({"class":"more-link",href:function(){return Spacebars.mustache(e.lookup("loadMoreUrl"))}},Blaze.View(function(){return Spacebars.mustache(e.lookup("i18n"),"Load more")})),"\n        "),"\n      "),"\n    ")})}(),function(){i18n.translations.en={Menu:"Menu",Top:"Top",New:"New",Digest:"Digest",Categories:"Categories",Users:"Users",Settings:"Settings",Admin:"Admin",Post:"Post",Toolbox:"Toolbox","Sign Up/Sign In":"Sign Up/Sign In","My Account":"My Account","View Profile":"View Profile","Edit Account":"Edit Account","New Posts":"New Posts","Your comment has been deleted.":"Your comment has been deleted.",Comment:"Comment","Delete Comment":"Delete Comment","Add Comment":"Add Comment",upvote:"upvote",downvote:"downvote",link:"link",Edit:"Edit",Reply:"Reply","No comments.":"No comments.","You are already logged in":"You are already logged in","Sorry, this is a private site. Please sign up first.":"Sorry, this is a private site. Please sign up first.","Thanks for signing up!":"Thanks for signing up!","The site is currently invite-only, but we will let you know as soon as a spot opens up.":"The site is currently invite-only, but we will let you know as soon as a spot opens up.","Sorry, you don't have the rights to view this page.":"Sorry, you don't have the rights to view this page.","Not Found!":"Not Found!","We're sorry; whatever you were looking for isn't here..":"We're sorry; whatever you were looking for isn't here..","No notifications":"No notifications","1 notification":"1 notification",notifications:"notifications","Mark all as read":"Mark all as read","Your post has been deleted.":"Your post has been deleted.","The top 5 posts of each day.":"The top 5 posts of each day.","Previous Day":"Previous Day","Next Day":"Next Day","Sorry, no posts for today":"Sorry, no posts for today","Sorry, no posts for":"Sorry, no posts for",Today:"Today",Yesterday:"Yesterday",Created:"Created",Title:"Title","Suggest title":"Suggest title",URL:"URL","Short URL":"Short URL",Body:"Body",Category:"Category","Inactive?":"Inactive?","Sticky?":"Sticky?","Submission Date":"Submission Date","Submission Time":"Submission Time",Date:"Date",Submission:"Submission","Note: this post is still pending so it has no submission timestamp yet.":"Note: this post is still pending so it has no submission timestamp yet.",User:"User",Status:"Status",Approved:"Approved",Rejected:"Rejected","Delete Post":"Delete Post","Thanks, your post is awaiting approval.":"Thanks, your post is awaiting approval.","Sorry, couldn't find a title...":"Sorry, couldn't find a title...","Please fill in an URL first!":"Please fill in an URL first!",Share:"Share",Discuss:"Discuss",Upvote:"Upvote",Sticky:"Sticky",status:"status",votes:"votes",baseScore:"baseScore",score:"score",clicks:"clicks",inactive:"inactive",comment:"comment",comments:"comments",point:"point",points:"points","Please complete your profile below before continuing.":"Please complete your profile below before continuing.",Account:"Account",Username:"Username","Display Name":"Display Name",Email:"Email",Bio:"Bio",Password:"Password","Change Password?":"Change Password?","Old Password":"Old Password","New Password":"New Password","Email Notifications":"Email Notifications","New Posts":"New Posts","Comments on my posts":"Comments on my posts","Replies to my comments":"Replies to my comments","Forgot password?":"Forgot password?","Profile updated":"Profile updated","Please fill in your email below to finish signing up.":"Please fill in your email below to finish signing up.",Invite:"Invite",Uninvite:"Uninvite","Make admin":"Make admin",Unadmin:"Unadmin","Delete User":"Delete User","Are you sure you want to delete ":"Are you sure you want to delete ","Reset Password":"Reset Password","Password reset link sent!":"Password reset link sent!",Name:"Name",Posts:"Posts",Comments:"Comments",Karma:"Karma","Is Invited?":"Is Invited?","Is Admin?":"Is Admin?",Delete:"Delete","Member since":"Member since","Edit profile":"Edit profile","Sign In":"Sign In","Sign in!":"Sign in!","Sign up!":"Sign up!","Don't have an account?":"Don't have an account?","Already have an account?":"Already have an account?","Sign Up":"Sign Up","Please fill in all fields":"Please fill in all fields","Invite ":"Invite ",left:" restante","Invite (none left)":"Invite (none left)",All:"All",Invited:"Invited",Uninvited:"Uninvited","Filter by":"Filter by","Sort by":"Sort by","Sorry, you do not have access to this page":"Sorry, you do not have access to this page","Please Sign In First.":"Please Sign In First.","Sorry, you  have to be an admin to view this page.":"Sorry, you  have to be an admin to view this page.","Sorry, you don't have permissions to add new items.":"Sorry, you don't have permissions to add new items.","Sorry, you cannot edit this post.":"Sorry, you cannot edit this post.","Sorry, you cannot edit this comment.":"Sorry, you cannot edit this comment.","You need to login and be an admin to add a new category.":"You need to login and be an admin to add a new category.","You need to login or be invited to post new comments.":"You need to login or be invited to post new comments.","Please wait ":"Please wait "," seconds before commenting again":" seconds before commenting again","Your comment is empty.":"Your comment is empty.","You don't have permission to delete this comment.":"You don't have permission to delete this comment.","You need to login or be invited to post new stories.":"You need to login or be invited to post new stories.","Please fill in a headline":"Please fill in a headline","This link has already been posted":"This link has already been posted","Sorry, you cannot submit more than ":"Sorry, you cannot submit more than "," posts per day":" posts per day","Someone replied to your comment on":"Someone replied to your comment on"," has replied to your comment on":" has replied to your comment on","Read more":"Read more","A new comment on your post":"A new comment on your post","You have a new comment by ":"You have a new comment by "," on your post":" on your post"," has created a new post":" has created a new post","Your account has been approved.":"Your account has been approved.","Welcome to ":"Welcome to ","Start posting.":"Start posting.",Pending:"Pending","Loading...":"Loading...",Submit:"Submit","You must be logged in.":"You must be logged in.","Are you sure?":"Are you sure?","Please log in first":"Please log in first","Sign In/Sign Up with Twitter":"Sign In/Sign Up with Twitter","Load more":"Load more"}}(),function(){i18n.translations.es={View:"Vista",Menu:"Menu",Top:"Todos",New:"Nuevos",Digest:"Resumen",Categories:"Categorías",Users:"Usuarios",Settings:"Configuración",Admin:"Admin",Post:"Post",Toolbox:"Herramientas","Sign Up/Sign In":"Connectarse/Crear una cuenta","My Account":"Mi Cuenta","View Profile":"Ver perfil","Edit Account":"Editar cuenta","New Posts":"Nuevos Posts","Your comment has been deleted.":"Tu comentario ha sido borrado",Comment:"Comentario","Delete Comment":"Borrar el comentario","Add Comment":"Añadir comentario",upvote:"Voto Positivo",downvote:"Voto Negativo",link:"link",Edit:"Editar",Reply:"Contestar","No comments.":"No hay comentarios.","You are already logged in":"Ya estás conectado","Sorry, this is a private site. Please sign up first.":"Lo sentimos pero esta pagina es privada. Por favor, conéctese para verla","Thanks for signing up!":"Gracias por registrarte","The site is currently invite-only, but we will let you know as soon as a spot opens up.":"El sitio solo es accesible mediante invitación, pero te lo haremos saber tan pronto como abra al público.","Sorry, you don't have the rights to view this page.":"Lo sentimos pero no tienes los derechos suficientes para ver esta pagina","Not Found!":"No encontramos nada!","We're sorry; whatever you were looking for isn't here..":"Lo sentimos pero aqui no hay nada.. ","No notifications":"Ninguna notificación","1 notification":"1 notificación",notifications:"notificaciones","Mark all as read":"Marcar todas como leídas","Your post has been deleted.":"Tu post ha sido borrado.","The top 5 posts of each day.":"Los 5 mejores posts de cada día","Previous Day":"Dia anterior","Next Day":"Dia siguiente","Sorry, no posts for today":"Lo sentimos, no hay post para hoy",Today:"Hoy",Yesterday:"Ayer",Created:"Creado",Title:"Título","Suggest title":"Proponer un titulo",URL:"URL","Short URL":"URL Corta",Body:"Descripción",Category:"Categoría","Inactive?":"Inactivo?","Sticky?":"Pegado?","Submission Date":"Fecha de entrega","Submission Time":"Hora de entrega",Date:"Fecha",Submission:"Entrega","Note: this post is still pending so it has no submission timestamp yet.":"Nota : Este post esta en proceso de validación entonces no tiene fecha de entrega todavía.",User:"Usuario",Status:"Estado",Approved:"Aprobado",Rejected:"Rechezado","Delete Post":"Borrar este post","Thanks, your post is awaiting approval.":"Gracias, su post esta esperando validación.","Sorry, couldn't find a title...":"Lo sentimos, impossible de encontrar este título.","Please fill in an URL first!":"Tienes que poner una URL.",Share:"Compartir",Discuss:"Comentar",Upvote:"Votar",Sticky:"Pegado",status:"Estado",votes:"votos",baseScore:"baseScore",score:"puntuación",clicks:"clicks",inactive:"inactivo",comment:"comentario",comments:"comentarios",point:"punto",points:"puntos","Please complete your profile below before continuing.":"Por favor complete su perfil antes de seguir.",Account:"Cuenta",Username:"Nombre de usuario","Display Name":"Nombre",Email:"Email",Bio:"Bio",Password:"Contraseña","Change Password?":"Cambiar de contraseña","Old Password":"Antigua Contraseña","New Password":"Nueva Contraseña","Email Notifications":"Notificaciónes por Email","New Posts":"Nuevo Post","Comments on my posts":"Comentarios de mi post","Replies to my comments":"Respuestas a mis comentarios","Forgot password?":"Olvidaste tu contraseña?","Profile updated":"Perfil actualizado","Please fill in your email below to finish signing up.":"Por favor, introduzca su email para terminar de inscribirse.",Invite:"Invitar",Uninvite:"Cancelar la invitación","Make admin":"Hacer admin",Unadmin:"Borrar de admin","Delete User":"Borrar usuario","Are you sure you want to delete ":"Está seguro de que desea eliminar","Reset Password":"Restablecer contraseña","Password reset link sent!":"Enlace de restablecimiento de contraseña enviado!!",Name:"Nombre",Posts:"Posts",Comments:"Comentarios",Karma:"Karma","Is Invited?":"Esta invitado?","Is Admin?":"Es admin?",Delete:"Borrar","Member since":"Miembro desde","Edit profile":"Modificar el perfil","Sign In":"Registrarse","Sign in!":"Registrarse","Sign up!":"Inscribirse","Don't have an account?":"¿No tiene cuenta de usuario?","Already have an account?":"¿Ya tiene cuenta?","Sign Up":"Inscribirse","Please fill in all fields":"Tiene que rellenar todos los campos","Invite ":"Invitación ",left:" restante","Invite (none left)":"Invitación (no queda)",All:"Todos",Invited:"Invitados",Uninvited:"No invitado","Filter by":"Filtrar por","Sort by":"Ordenar por","Sorry, you do not have access to this page":"Lo sentimos, usted no tiene acceso a esta página","Please Sign In First.":"Tiene que registrarse primero.","Sorry, you  have to be an admin to view this page.":"Lo sentimos, usted tiene que ser un administrador para ver esta página.","Sorry, you don't have permissions to add new items.":"Lo sentimos, usted no tiene permisos para agregar nuevos elementos.","Sorry, you cannot edit this post.":"Lo sentimos, no puede editar este post.","Sorry, you cannot edit this comment.":"Lo sentimos, no puede editar este comentario.","You need to login and be an admin to add a new category.":"Usted tiene que entrar y ser un administrador para añadir una nueva categoría","You need to login or be invited to post new comments.":"¡Tienes que iniciar sesión o ser invitado a publicar nuevos comentarios.","Please wait ":"Espera por favor"," seconds before commenting again":" segundos antes de comentar de nuevo","Your comment is empty.":"Tu comentario está vacío","You don't have permission to delete this comment.":"Usted no tiene permiso para eliminar este comentario.","You need to login or be invited to post new stories.":"¡Tienes que iniciar sesión o ser invitado para publicar nuevas historias.","Please fill in a headline":"Por favor rellene el titulo","This link has already been posted":"Este enlace ya ha sido publicado","Sorry, you cannot submit more than ":"Lo sentimos, usted no puede presentar más de "," posts per day":" posts por dia","Someone replied to your comment on":"Alguien respondió a tu comentario en"," has replied to your comment on":" ha respondido a su comentario sobre","Read more":"Leer más","A new comment on your post":"Un nuevo comentario en su post","You have a new comment by ":"Usted tiene un nuevo comentario de "," on your post":" en su post"," has created a new post":" ha creado un nuevo post","Your account has been approved.":"Su cuenta ha sido aprobada.","Start posting.":"Empezar a publicar",Pending:"Pendiente","Loading...":"Cargando...",Submit:"Enviar","You must be logged in.":"Debe estar conectado","Are you sure?":"¿Está seguro? ","Please log in first":"Por favor, inicia sesión","Sign In/Sign Up with Twitter":"Inicia sesión/Inscribete con Twitter","Load more":"Cargar más"}
}(),function(){i18n.translations.fr={View:"Vue",Menu:"Menu",Top:"Top",New:"Nouveau",Digest:"Résumé",Categories:"Catégories",Users:"Utilisateurs",Settings:"Paramètres",Admin:"Admin",Post:"Poster",Toolbox:"Outils","Sign Up/Sign In":"Connexion/Créer un compte","My Account":"Mon compte","View Profile":"Voir le profil","Edit Account":"Editer le compte","New Posts":"Nouveaux Posts","Your comment has been deleted.":"Votre commentaire a été supprimé.",Comment:"Commentaire","Delete Comment":"Supprimer le commentaire","Add Comment":"Ajouter un commentaire",upvote:"upvote",downvote:"downvote",link:"lien",Edit:"Editer",Reply:"Répondre","No comments.":"Aucun commentaire.","You are already logged in":"Vous êtes déjà connecté","Sorry, this is a private site. Please sign up first.":"Désolé mais ce site est privé, vous devez d'abord vous connecter","Thanks for signing up!":"Merci pour votre inscription !","The site is currently invite-only, but we will let you know as soon as a spot opens up.":"L'accès au site se fait uniquement par invitation. Nous vous informerons dès qu'une place se libère.","Sorry, you don't have the rights to view this page.":"Désolé, vous n'avez pas le droit de voir cette page.","Not Found!":"Oups","We're sorry; whatever you were looking for isn't here..":"Désolé, mais ce que vous cherchez ne se trouve pas ici...","No notifications":"Aucune notification","1 notification":"1 notification",notifications:"notifications","Mark all as read":"Effacer les notifications","Your post has been deleted.":"Votre post a été supprimé.","The top 5 posts of each day.":"5 meilleurs post par jours","Previous Day":"Jour précédent","Next Day":"Jour suivant","Sorry, no posts for today":"Désolé, aucun post aujourd'hui",Today:"Aujourd'hui",Yesterday:"Hier",Created:"Crée",Title:"Titre","Suggest title":"Suggérer un titre",URL:"URL","Short URL":"URL Courte",Body:"Description",Category:"Catégorie","Inactive?":"Inactif ?","Sticky?":"Mis en avant ?","Submission Date":"Date de soumission","Submission Time":"Heure de soumission",Date:"Date",Submission:"Soumission","Note: this post is still pending so it has no submission timestamp yet.":"Note : ce post est en cours de validation, il n'a pas encore de timestamp.",User:"Utilisateur",Status:"Status",Approved:"Approuvé",Rejected:"Rejeté","Delete Post":"Supprimer le post","Thanks, your post is awaiting approval.":"Merci, votre post est en cours de validation","Sorry, couldn't find a title...":"Désolé, impossible de trouver un titre...","Please fill in an URL first!":"Vous devez saisir une URL.",Share:"Partager",Discuss:"Discuter",Upvote:"Voter",Sticky:"Mis en avant",status:"status",votes:"votes",baseScore:"baseScore",score:"score",clicks:"clics",inactive:"inactif",comment:"commentaire",comments:"commentaires",point:"point",points:"points","Please complete your profile below before continuing.":"Merci de compléter votre profil avant de continuer.",Account:"Compte",Username:"Nom d'utilisateur","Display Name":"Nom réel",Email:"Email",Bio:"Bio",Password:"Mot de passe","Change Password?":"Changer de mot de passe","Old Password":"Ancien mot de passe","New Password":"Nouveau mot de passe","Email Notifications":"Notifications par email","New Posts":"Nouveau Post","Comments on my posts":"Commentaires sur mes posts","Replies to my comments":"Reponses à mes commentaires","Forgot password?":"Mot de passe oublié ?","Profile updated":"Profil mis à jour","Please fill in your email below to finish signing up.":"Merci de saisir votre email pour finir la création de votre compte",Invite:"Inviter",Uninvite:"Annuler l'invitation","Make admin":"Rendre admin",Unadmin:"Supprimer les droits d'admin","Delete User":"Supprimer l'utilisateur","Are you sure you want to delete ":"Etes-vous sur de vouloir supprimer ","Reset Password":"Redéfinir le mot de passe","Password reset link sent!":"Un lien pour redéfinir votre mot de passe a été envoyé !",Name:"Nom",Posts:"Posts",Comments:"Commentaires",Karma:"Karma","Is Invited?":"Est-il invité ?","Is Admin?":"Est-il Administrateur ?",Delete:"Supprimer","Member since":"Membre depuis","Edit profile":"Modifier le profil","Sign In":"Connexion","Sign in!":"Connexion","Sign up!":"Créer un compte !","Don't have an account?":"Pas encore de compte ?","Already have an account?":"Déjà un compte ?","Sign Up":"Créer un compte","Please fill in all fields":"Vous devez remplir tous les champs","Invite ":"Invitation ",left:" restante","Invite (none left)":"Invitation (aucune restante)",All:"All",Invited:"Invité",Uninvited:"Pas invité","Filter by":"Filtrer par","Sort by":"Trier par","Sorry, you do not have access to this page":"Désolé, vous n'avez pas accès à cette page","Please Sign In First.":"Vous devez d'abord vous connecter.","Sorry, you  have to be an admin to view this page.":"Désolé, vous devez être administrateur pour voir cette page.","Sorry, you don't have permissions to add new items.":"Désolé, vous n'avez pas la permission d'ajouter de nouveaux posts.","Sorry, you cannot edit this post.":"Désolé, vous ne pouvez pas modifier ce post.","Sorry, you cannot edit this comment.":"Désolé, vous ne pouvez pas modifier ce commentaire.","You need to login and be an admin to add a new category.":"Vous devez être administrateur et connecté pour ajouter une catégorie","You need to login or be invited to post new comments.":"Vous devez être connecté et invité pour poster des commentaires","Please wait ":"Merci de patienter "," seconds before commenting again":" secondes avant de poster un nouveau commentaire","Your comment is empty.":"Votre commentaire est vide","You don't have permission to delete this comment.":"Vous n'avez pas la permission de supprimer ce commentaire","You need to login or be invited to post new stories.":"Vous devez être connecté ou invité pour créer un nouveau post","Please fill in a headline":"Merci de saisir un titre","This link has already been posted":"Ce lien a déjà été posté","Sorry, you cannot submit more than ":"Désolé, vous ne pouvez pas créer plus de "," posts per day":" posts par jour","Someone replied to your comment on":"Quelqu'un à répondu à votre commentaire sur"," has replied to your comment on":" a répondu à votre commentaire sur","Read more":"Lire la suite","A new comment on your post":"Un nouveau commentaire sur votre post","You have a new comment by ":"Vous avez un nouveau commentaire de "," on your post":" sur votre post"," has created a new post":" a créer un nouveau post","Your account has been approved.":"Votre compte a été validé.","Welcome to ":"Bienvenu sur ","Start posting.":"Commencer à poster.",Pending:"En attente","Loading...":"Chargement...",Submit:"Envoyer","You must be logged in.":"Vous devez être connecté","Are you sure?":"Etes-vous sur ?","Please log in first":"Vous devez être connecté","Sign In/Sign Up with Twitter":"Connexion/Créer un compte avec Twitter","Load more":"Charger plus"}}(),function(){i18n.translations.zh={View:"视图",Menu:"菜单",Top:"置顶",New:"最新",Digest:"摘要",Categories:"分类",Users:"用户",Settings:"设置",Admin:"管理",Post:"提交",Toolbox:"工具箱","Sign Up/Sign In":"注册/登录","My Account":"帐号","View Profile":"个人资料","Edit Account":"编辑帐号","New Posts":"最新提交","Your comment has been deleted.":"你的评论已经被删除",Comment:"评论","Delete Comment":"删除评论","Add Comment":"评论",upvote:"顶",downvote:"踩",link:"链接",Edit:"编辑",Reply:"回复","No comments.":"暂时没有评论","You are already logged in":"你已经登录","Sorry, this is a private site. Please sign up first.":"对不起, 请先注册再进行后续操作","Thanks for signing up!":"感谢您的注册!","The site is currently invite-only, but we will let you know as soon as a spot opens up.":"该站点暂时只允许邀请访问, 如果开放了我们会让你知道","Sorry, you don't have the rights to view this page.":"抱歉你没有权利查看此页面","Not Found!":"页面不存在","We're sorry; whatever you were looking for isn't here..":"抱歉没有你要查看的内容!","No notifications":"无消息","1 notification":"1 个消息",notifications:"消息","Mark all as read":"标记所有","Your post has been deleted.":"你的帖子已经被删除","The top 5 posts of each day.":"每天前5名的帖子","Previous Day":"前一天","Next Day":"后一天","Sorry, no posts for today":"抱歉今天没有新的帖子",Today:"今天",Yesterday:"昨天",Created:"创建",Title:"标题","Suggest title":"显示标题",URL:"链接地址","Short URL":"短网址",Body:"内容",Category:"分类","Inactive?":"Inactive?","Sticky?":"置顶?","Submission Date":"提交日期","Submission Time":"提交时间",Date:"日期",Submission:"提交","Note: this post is still pending so it has no submission timestamp yet.":"这篇文章没有进行审核.",User:"用户",Status:"专题",Approved:"审核",Rejected:"拒接","Delete Post":"删除帖子","Thanks, your post is awaiting approval.":"感谢, 你的帖子正在等待批准.","Sorry, couldn't find a title...":"抱歉找不相关话题","Please fill in an URL first!":"请在第一栏填写链接",Share:"分享",Discuss:"讨论",Upvote:"顶",Sticky:"置顶",status:"状态",votes:"得票",baseScore:"基础得分",score:"得分",clicks:"点击",inactive:"不活跃",comment:"评论",comments:"评论数",point:"点击",points:"点击数","Please complete your profile below before continuing.":"在继续之前请填写相关资料.",Account:"帐号",Username:"用户名","Display Name":"昵称",Email:"Email",Bio:"小传",Password:"密码","Change Password?":"修改密码?","Old Password":"旧密码","New Password":"新密码","Email Notifications":"邮箱提醒","New Posts":"最新主题","Comments on my posts":"评论我的主题时","Replies to my comments":"回复我的回复时","Forgot password?":"忘记密码?","Profile updated":"更新资料","Please fill in your email below to finish signing up.":"请填写你的电子邮件完成注册.",Invite:"邀请",Uninvite:"未激活","Make admin":"设置为管理员",Unadmin:"取消管理资格","Delete User":"删除用户","Are you sure you want to delete ":"你确定要删除用户吗 ","Reset Password":"重置密码","Password reset link sent!":"密码重置链接已发送",Name:"名字",Posts:"帖子数",Comments:"评论数",Karma:"Karma","Is Invited?":"邀请用户?","Is Admin?":"管理员?",Delete:"删除","Member since":"加入至今","Edit profile":"修改个人资料","Sign In":"登录","Sign in!":"登录!","Sign up!":"注册!","Don't have an account?":"还没有帐号?","Already have an account?":"已有帐号?","Sign Up":"注册","Please fill in all fields":"请填写完整","Invite ":"邀请 ",left:" restante","Invite (none left)":"Invite (none left)",All:"全部",Invited:"邀请",Uninvited:"未被邀请","Filter by":"过滤","Sort by":"排序","Sorry, you do not have access to this page":"抱歉你没有权限访问此页面","Please Sign In First.":"请先登录.","Sorry, you  have to be an admin to view this page.":"抱歉你必须是管理员才能查看此页面","Sorry, you don't have permissions to add new items.":"抱歉你没有权限添加新项.","Sorry, you cannot edit this post.":"对不起你不能编辑这个帖子","Sorry, you cannot edit this comment.":"对不起你不能编辑这个评论","You need to login and be an admin to add a new category.":"你必须登录并且是管理员才能添加新类别.","You need to login or be invited to post new comments.":"你需要登录或被邀请才能发表新的评论.","Please wait ":"请稍等 "," seconds before commenting again":" 秒后在评论","Your comment is empty.":"你的评论是空的.","You don't have permission to delete this comment.":"你没有删除此评论的权限.","You need to login or be invited to post new stories.":"你需要登录或被邀请才能发布新的内容.","Please fill in a headline":"请填写一个标题","This link has already been posted":"这个链接已发布","Sorry, you cannot submit more than ":"对不起, 内容不能超过"," posts per day":" 评价每日发帖","Someone replied to your comment on":"有人回复了你的评论"," has replied to your comment on":" 已经有人回复了你的评论","Read more":"查看更多","A new comment on your post":"你发表的主题有新的评论","You have a new comment by ":"你有一个新的评论在 "," on your post":" 在你的帖子"," has created a new post":" 发一个新帖","Your account has been approved.":"你的帐号已被批准","Welcome to ":"欢迎来到 ","Start posting.":"开始发布.",Pending:"悬而未决...","Loading...":"加载中...",Submit:"提交","You must be logged in.":"你必须登录.","Are you sure?":"是否确定?","Please log in first":"请先登录","Sign In/Sign Up with Twitter":"使用微博等/注册","Load more":"加载更多",Administration:"管理",Best:"精华"}}(),function(){analyticsInit=_.once(function(){if((mixpanelId=getSetting("mixpanelId"))&&(!function(e,t){window.mixpanel=t;var n,r,o,a;n=e.createElement("script"),n.type="text/javascript",n.async=!0,n.src=("https:"===e.location.protocol?"https:":"http:")+"//cdn.mxpnl.com/libs/mixpanel-2.1.min.js",r=e.getElementsByTagName("script")[0],r.parentNode.insertBefore(n,r),t._i=[],t.init=function(e,n,r){function i(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var s=t;for("undefined"!=typeof r?s=t[r]=[]:r="mixpanel",s.people=s.people||[],o="disable track track_pageview track_links track_forms register register_once unregister identify name_tag set_config people.identify people.set people.increment".split(" "),a=0;a<o.length;a++)i(s,o[a]);t._i.push([e,n,r])},t.__SV=1.1}(document,window.mixpanel||[]),mixpanel.init(mixpanelId)),goSquaredId=getSetting("goSquaredId")){window.GoSquared={},GoSquared.acct=goSquaredId,window._gstc_lt=+new Date;var e=document,t=e.createElement("script");t.type="text/javascript",t.src="//d1l6p2sc9645hc.cloudfront.net/tracker.js";var n=e.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}(clickyId=getSetting("clickyId"))&&(clicky_site_ids=[],clicky_site_ids.push(clickyId),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//static.getclicky.com/js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()),(googleAnalyticsId=getSetting("googleAnalyticsId"))&&(!function(e,t,n,r,o,a,i){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,a=t.createElement(n),i=t.getElementsByTagName(n)[0],a.async=1,a.src=r,i.parentNode.insertBefore(a,i)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),window.ga("create",googleAnalyticsId))}),analyticsRequest=function(){if("undefined"!=typeof window.ga&&ga("send","pageview",{page:window.location.pathname}),"undefined"!=typeof mixpanel&&"undefined"!=typeof mixpanel.people&&Meteor.user()){var e=getCurrentUserEmail();mixpanel.people.identify(e),mixpanel.people.set({username:getDisplayName(Meteor.user()),$last_login:new Date,$created:moment(Meteor.user().createdAt)._d,$email:e}),mixpanel.register({username:getDisplayName(Meteor.user()),createdAt:moment(Meteor.user().createdAt)._d,email:e}),mixpanel.name_tag(e)}"undefined"!=typeof GoSquared&&"undefined"!=typeof GoSquared.DefaultTracker&&GoSquared.DefaultTracker.TrackView(window.location.pathname,getCurrentTemplate()),"undefined"!=typeof clicky&&clicky.log(encodeURIComponent(window.location.pathname),getCurrentTemplate(),"pageview")}}(),function(){Meteor.isClient&&(throwError=function(e,t){t="undefined"==typeof t?"error":t,Errors.insert({message:e,type:t,seen:!1,show:!0})},clearSeenErrors=function(){Errors.update({seen:!0},{$set:{show:!1}},{multi:!0})})}(),function(){trackEvent=function(e,t){var t="undefined"==typeof t?{}:t;Meteor.isClient&&("undefined"!=typeof mixpanel&&"undefined"!=typeof mixpanel.track&&mixpanel.track(e,t),"undefined"!=typeof GoSquared&&"undefined"!=typeof GoSquared.DefaultTracker&&GoSquared.DefaultTracker.TrackEvent(e,JSON.stringify(t)))}}(),function(){Gravatar={getGravatar:function(e,t){if(e.email_hash){var t=t||{},n=t.secure?"https":"http";delete t.secure;var r=e.email_hash,o=n+"://www.gravatar.com/avatar/"+r,a=_.map(t,function(e,t){return t+"="+e}).join("&");return""!==a&&(o+="?"+a),o}return e.services&&e.services.twitter?e.services.twitter.profile_image_url:e.services&&e.services.facebook?"http://graph.facebook.com/"+e.services.facebook.id+"/picture":void 0}}}(),function(){cl=function(){console.log(l)},getCurrentTemplate=function(){return Router.current().lookupTemplate()},getCurrentRoute=function(){return Router._currentController.path},t=function(e){var t=new Date;console.log("### "+e+" rendered at "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds())},nl2br=function(e){var t="<br />";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+t+"$2")},getAuthorName=function(e){var t=Meteor.users.findOne(e.userId);return"undefined"==typeof t?"":getDisplayName(t)},scrollPageTo=function(e){$("body").scrollTop($(e).offset().top)},getDigestURL=function(e){return"/digest/"+e.year()+"/"+(e.month()+1)+"/"+e.date()},getDateRange=function(e){var t=moment(new Date),n=t.subtract("days",e-1),r={};return r.start=n.startOf("day").valueOf(),r.end=n.endOf("day").valueOf(),r},goTo=function(e){Router.go(e)},getSignupUrl=function(){return Meteor.absoluteUrl()+"sign-up"},getSigninUrl=function(){return Meteor.absoluteUrl()+"sign-in"},getPostUrl=function(e){return Meteor.absoluteUrl()+"posts/"+e},getPostEditUrl=function(e){return Meteor.absoluteUrl()+"posts/"+e+"/edit"},getCommentUrl=function(e){return Meteor.absoluteUrl()+"comments/"+e},getPostCommentUrl=function(e,t){return Meteor.absoluteUrl()+"posts/"+e+"/comment/"+t},slugify=function(e){return e&&(e=e.replace(/[^-a-zA-Z0-9,&\s]+/gi,""),e=e.replace(/-/gi,"_"),e=e.replace(/\s/gi,"-"),e=e.toLowerCase()),e},getShortUrl=function(e){return e.shortUrl?e.shortUrl:e.url},getDomain=function(e){return urlObject=Npm.require("url"),urlObject.parse(e).hostname.replace("www.","")},invitesEnabled=function(){return getSetting("requireViewInvite")||getSetting("requirePostInvite")},getOutgoingUrl=function(e){return getSiteUrl()+"out?url="+encodeURIComponent(e)},cleanUp=function(e){return stripHTML(e)},stripHTML=function(e){return e.replace(/<(?:.|\n)*?>/gm,"")},stripMarkdown=function(e){var t=marked(e);return stripHTML(t)},checkNested=function(e){for(var t=Array.prototype.slice.call(arguments),e=t.shift(),n=0;n<t.length;n++){if(!e.hasOwnProperty(t[n]))return!1;e=e[t[n]]}return!0}}(),function(){getParameters=function(e){var t={find:{status:2},options:{limit:10}},n=t,r=dashToCamel(e.view);return"undefined"!=typeof viewParameters[r]&&(n=deepExtend(!0,t,viewParameters[r](e))),deepExtend(!0,n,{options:{sort:{_id:-1}}}),"undefined"!=typeof e.limit&&e.limit&&_.extend(n.options,{limit:parseInt(e.limit)}),n},getUsersParameters=function(e,t,n){var r={},o={createdAt:-1};switch(e){case"invited":r={$or:[{isInvited:!0},{isAdmin:!0}]};break;case"uninvited":r={$and:[{isInvited:!1},{isAdmin:!1}]};break;case"admin":r={isAdmin:!0}}switch(t){case"username":o={username:1};break;case"karma":o={karma:-1};break;case"postCount":o={postCount:-1};break;case"commentCount":o={commentCount:-1};case"invitedCount":o={invitedCount:-1}}return{find:r,options:{sort:o,limit:n}}}}(),function(){canView=function(e){if(getSetting("requireViewInvite",!1)){if(Meteor.isClient)var e="undefined"==typeof e?Meteor.user():e;return e&&(isAdmin(e)||isInvited(e))?!0:!1}return!0},canViewById=function(e,t){return getSetting("requireViewInvite",!1)?e?canView(Meteor.users.findOne(e),t):!1:!0},canPost=function(e,t){var e="undefined"==typeof e?Meteor.user():e;return e?isAdmin(e)?!0:getSetting("requirePostInvite")?e.isInvited?!0:t?"no_invite":!1:!0:t?"no_account":!1},canPostById=function(e,t){var n=Meteor.users.findOne(e);return canPost(n,t)},canComment=function(e,t){return canPost(e,t)},canCommentById=function(e,t){var n=Meteor.users.findOne(e);return canComment(n,t)},canUpvote=function(e,t,n){return canPost(e,n)},canUpvoteById=function(e,t){var n=Meteor.users.findOne(e);return canUpvote(n,t)},canDownvote=function(e,t,n){return canPost(e,n)},canDownvoteById=function(e,t){var n=Meteor.users.findOne(e);return canDownvote(n,t)},canEdit=function(e,t,n){var e="undefined"==typeof e?Meteor.user():e;return e&&t?isAdmin(e)?!0:e._id!==t.userId?n?"no_rights":!1:!0:n?"no_rights":!1},canEditById=function(e,t){var n=Meteor.users.findOne(e);return canEdit(n,t)},currentUserCanEdit=function(e){return canEdit(Meteor.user(),e)},canInvite=function(e){return isInvited(e)||isAdmin(e)}}(),function(){var e={RouteController:RouteController,onAllRoutes:function(){}};preloadSubscriptions.push("settings"),preloadSubscriptions.push("currentUser"),preloadSubscriptions.push("allUsersAdmin"),Router.configure({layoutTemplate:getTemplate("layout"),loadingTemplate:getTemplate("loading"),notFoundTemplate:getTemplate("notFound"),waitOn:function(){return _.map(preloadSubscriptions,function(e){"object"==typeof e?Meteor.subscribe(e.subName,e.subArguments):Meteor.subscribe(e)})}}),Router._filters={isReady:function(e){this.ready()||(this.render("loading"),e())},resetScroll:function(){var e=window.currentScroll||0;$("body").scrollTop(e),$("body").css("min-height",0)},isLoggedIn:function(e){Meteor.loggingIn()||Meteor.user()||(throwError(i18n.t("Please Sign In First.")),this.render("signin"),e())},isLoggedOut:function(e){Meteor.user()&&(this.render("already_logged_in"),e())},isAdmin:function(e){this.ready()&&(isAdmin()||(this.render("no_rights"),e()))},canView:function(e){!this.ready()||Meteor.loggingIn()?(this.render("loading"),e()):canView()||(this.render("no_rights"),e())},canPost:function(e){!this.ready()||Meteor.loggingIn()?(this.render("loading"),e()):canPost()||(throwError(i18n.t("Sorry, you don't have permissions to add new items.")),this.render("no_rights"),e())},canEditPost:function(e){if(this.ready()){var t=Posts.findOne(this.params._id);currentUserCanEdit(t)||(throwError(i18n.t("Sorry, you cannot edit this post.")),this.render("no_rights"),e())}},canEditComment:function(e){if(this.ready()){var t=Comments.findOne(this.params._id);currentUserCanEdit(t)||(throwError(i18n.t("Sorry, you cannot edit this comment.")),this.render("no_rights"),e())}},hasCompletedProfile:function(e){if(this.ready()){var t=Meteor.user();t&&!userProfileComplete(t)&&(this.render("user_email"),e())}},setTitle:function(){var e=getSetting("title"),t=getSetting("tagline");document.title=(t?e+": "+t:e)||""}};var t=Router._filters,n=new SubsManager({cacheLimit:50,expireIn:30});Meteor.isClient&&(Router.onRun(function(){Session.set("categorySlug",null),-1==getCurrentRoute().indexOf("search")&&(Session.set("searchQuery",""),$(".search-field").val("").blur())}),Router.onBeforeAction(clearSeenErrors),Router.onBeforeAction(t.canView,{except:["entrySignIn","entrySignUp","entryForgotPassword","entryResetPassword","entrySignOut"]}),Router.onBeforeAction(t.hasCompletedProfile),Router.onBeforeAction(t.isLoggedIn,{only:["post_submit"]}),Router.onBeforeAction(t.isLoggedOut,{only:["signin","signup"]}),Router.onBeforeAction(t.canPost,{only:["posts_pending","post_submit"]}),Router.onBeforeAction(t.canEditPost,{only:["post_edit"]}),Router.onBeforeAction(t.canEditComment,{only:["comment_edit"]}),Router.onBeforeAction(t.isAdmin,{only:["posts_pending","all-users","settings","toolbox","logs"]}),Router.onAfterAction(t.resetScroll,{except:["posts_top","posts_new","posts_best","posts_pending","posts_category","all-users"]}),Router.onAfterAction(analyticsInit),Router.onAfterAction(analyticsRequest),Router.onAfterAction(t.setTitle)),PostsListController=e.RouteController.extend({template:getTemplate("posts_list"),onBeforeAction:function(){return this._terms={view:"/"==this.path?"top":this.path.split("/")[1],limit:this.params.limit||getSetting("postsPerPage",10),category:this.params.slug},Meteor.isClient&&(this._terms.query=Session.get("searchQuery")),[n.subscribe("postsList",this._terms),n.subscribe("postsListUsers",this._terms)]},data:function(){this._terms={view:"/"==this.path?"top":this.path.split("/")[1],limit:this.params.limit||getSetting("postsPerPage",10),category:this.params.slug},Meteor.isClient&&(this._terms.query=Session.get("searchQuery"));var e=getParameters(this._terms),t=Posts.find(e.find,e.options);return postsCount=t.count(),Session.set("postsLimit",this._terms.limit),{postsList:t,postsCount:postsCount}},onAfterAction:function(){var e="/"==this.path?"top":this.path.split("/")[1];Session.set("view",e)}}),PostsDigestController=e.RouteController.extend({template:getTemplate("posts_digest"),waitOn:function(){var e=this.params.day?new Date(this.params.year,this.params.month-1,this.params.day):new Date,t={view:"digest",after:moment(e).startOf("day").toDate(),before:moment(e).endOf("day").toDate()};return[n.subscribe("postsList",t),n.subscribe("postsListUsers",t)]},data:function(){var e=this.params.day?new Date(this.params.year,this.params.month-1,this.params.day):Session.get("today"),t={view:"digest",after:moment(e).startOf("day").toDate(),before:moment(e).endOf("day").toDate()},n=getParameters(t);return Session.set("currentDate",e),{posts:Posts.find(n.find,n.options)}}}),PostPageController=e.RouteController.extend({waitOn:function(){this.postSubscription=n.subscribe("singlePost",this.params._id),this.postUsersSubscription=n.subscribe("postUsers",this.params._id),this.commentSubscription=n.subscribe("postComments",this.params._id)},post:function(){return Posts.findOne(this.params._id)},onBeforeAction:function(e){if(!this.post()){if(this.postSubscription.ready())return this.render("not_found"),e();this.render("loading"),e()}},data:function(){return this.post()}}),CommentPageController=e.RouteController.extend({waitOn:function(){return[n.subscribe("singleComment",this.params._id),n.subscribe("commentUser",this.params._id),n.subscribe("commentPost",this.params._id)]},data:function(){return{comment:Comments.findOne(this.params._id)}},onAfterAction:function(){window.queueComments=!1}}),UserPageController=e.RouteController.extend({waitOn:function(){return[n.subscribe("singleUser",this.params._idOrSlug),n.subscribe("upvotedPosts",this.params._idOrSlug)]},data:function(){var e=Meteor.users.findOne(this.params._idOrSlug),t=Meteor.users.findOne({slug:this.params._idOrSlug});return"undefined"==typeof e?{user:"undefined"==typeof e?t:e}:void Router.go(getProfileUrl(e),{replaceState:!0})}}),AccountController=e.RouteController.extend({waitOn:function(){return n.subscribe("invites")},data:function(){return{user:Meteor.user(),invites:Invites.find({invitingUserId:Meteor.userId()})}}}),Router.map(function(){this.route("posts_top",{path:"/",waitOn:function(){return this._terms={view:"/"==this.path?"top":this.path.split("/")[1],limit:this.params.limit||getSetting("postsPerPage",10),category:this.params.slug},Meteor.isClient&&(this._terms.query=Session.get("searchQuery")),[n.subscribe("postsList",this._terms),n.subscribe("postsListUsers",this._terms)]},controller:PostsListController}),this.route("posts_top",{path:"/top/:limit?",controller:PostsListController}),this.route("posts_new",{path:"/new/:limit?",controller:PostsListController}),this.route("posts_best",{path:"/best/:limit?",controller:PostsListController}),this.route("posts_pending",{path:"/pending/:limit?",controller:PostsListController}),this.route("posts_digest",{path:"/digest/:year/:month/:day",controller:PostsDigestController}),this.route("posts_digest",{path:"/digest",controller:PostsDigestController}),this.route("post_page",{template:getTemplate("post_page"),path:"/posts/:_id",controller:PostPageController}),this.route("post_page",{template:getTemplate("post_page"),path:"/posts/:_id/comment/:commentId",controller:PostPageController,onAfterAction:function(){}}),this.route("post_edit",{template:getTemplate("post_edit"),path:"/posts/:_id/edit",waitOn:function(){return n.subscribe("singlePost",this.params._id)},data:function(){return{postId:this.params._id,post:Posts.findOne(this.params._id)}},fastRender:!0}),this.route("post_submit",{template:getTemplate("post_submit"),path:"/submit"}),this.route("comment_reply",{template:getTemplate("comment_reply"),path:"/comments/:_id",controller:CommentPageController,onAfterAction:function(){window.queueComments=!1}}),this.route("comment_edit",{template:getTemplate("comment_edit"),path:"/comments/:_id/edit",controller:CommentPageController,onAfterAction:function(){window.queueComments=!1}}),this.route("user_profile",{template:getTemplate("user_profile"),path:"/users/:_idOrSlug",controller:UserPageController}),this.route("user_edit",{template:getTemplate("user_edit"),path:"/users/:_idOrSlug/edit",controller:UserPageController}),this.route("account",{template:getTemplate("user_edit"),path:"/account",controller:AccountController}),this.route("forgot_password",{template:getTemplate("forgot_password")}),this.route("all-users",{template:getTemplate("users"),path:"/all-users/:limit?",waitOn:function(){var e=parseInt(this.params.limit)||20;return n.subscribe("allUsers",this.params.filterBy,this.params.sortBy,e)},data:function(){var e=parseInt(this.params.limit)||20,t=getUsersParameters(this.params.filterBy,this.params.sortBy,e),n="string"==typeof this.params.filterBy?this.params.filterBy:"all",r="string"==typeof this.params.sortBy?this.params.sortBy:"createdAt";return Session.set("usersLimit",e),{users:Meteor.users.find(t.find,t.options),filterBy:n,sortBy:r}},fastRender:!0}),this.route("unsubscribe",{template:getTemplate("unsubscribe"),path:"/unsubscribe/:hash",data:function(){return{hash:this.params.hash}}}),this.route("signup",{template:getTemplate("signup")}),this.route("signin",{template:getTemplate("signin")}),this.route("settings",{template:getTemplate("settings"),data:function(){return{hasSettings:!!Settings.find().count(),settings:Settings.findOne()}}}),this.route("loading",{template:getTemplate("loading")}),this.route("toolbox",{template:getTemplate("toolbox")}),this.route("out",{where:"server",path:"/out",action:function(){var e=this.request.query;if(e.url){var t=decodeURIComponent(e.url),n=Posts.findOne({url:t});n&&Posts.update(n._id,{$inc:{clicks:1}}),this.response.writeHead(302,{Location:e.url}),this.response.end()}}}),this.route("notification",{where:"server",path:"/email/notification/:id?",action:function(){var e=Notifications.findOne(this.params.id),t=buildEmailNotification(e);this.response.write(t.html),this.response.end()}}),this.route("newUser",{where:"server",path:"/email/new-user/:id?",action:function(){var e=Meteor.users.findOne(this.params.id),t={profileUrl:getProfileUrl(e),username:getUserName(e)};html=Handlebars.templates[getTemplate("emailNewUser")](t),this.response.write(buildEmailTemplate(html)),this.response.end()}}),this.route("newPost",{where:"server",path:"/email/new-post/:id?",action:function(){var e=Posts.findOne(this.params.id);html=Handlebars.templates[getTemplate("emailNewPost")](getPostProperties(e)),this.response.write(buildEmailTemplate(html)),this.response.end()}}),this.route("accountApproved",{where:"server",path:"/email/account-approved/:id?",action:function(){var e=Meteor.users.findOne(this.params.id),t={profileUrl:getProfileUrl(e),username:getUserName(e),siteTitle:getSetting("title"),siteUrl:getSiteUrl()};html=Handlebars.templates[getTemplate("emailAccountApproved")](t),this.response.write(buildEmailTemplate(html)),this.response.end()}})}),Meteor.isServer&&e.onAllRoutes(function(){var e=this;_.each(preloadSubscriptions,function(t){e.subscribe(t)})})}(),function(){updateScore=function(e){var t=e.collection,n=e.item,r=e.forceUpdate;if(n.status&&2!=n.status)return 0;if(!n.postedAt)return 0;var o=n.postedAt.valueOf(),a=(new Date).getTime(),i=a-o,s=i/36e5;if(o>a)return 0;var u=30,c=1/Math.pow(24*u+2,1.3),l=1.3,d=n.baseScore,p=d/Math.pow(s+2,l),f=Math.abs(n.score-p);return r||f>c?(t.update(n._id,{$set:{score:p,inactive:!1}}),1):(s>24*u&&t.update(n._id,{$set:{inactive:!0}}),0)}}(),function(){isAdminById=function(e){var t=Meteor.users.findOne(e);return!(!t||!isAdmin(t))},isAdmin=function(e){return e="undefined"==typeof e?Meteor.user():e,!!e&&!!e.isAdmin},isInvited=function(e){return e&&"undefined"!=typeof e?isAdmin(e)||!!e.isInvited:!1},adminUsers=function(){return Meteor.users.find({isAdmin:!0}).fetch()},getUserName=function(e){return e.username?e.username:e.services.twitter&&e.services.twitter.screenName?e.services.twitter.screenName:null},getDisplayName=function(e){return e.profile&&e.profile.name?e.profile.name:getUserName(e)},getDisplayNameById=function(e){return getDisplayName(Meteor.users.findOne(e))},getProfileUrl=function(e){return Meteor.absoluteUrl()+"users/"+slugify(getUserName(e))},getProfileUrlById=function(e){return Meteor.absoluteUrl()+"users/"+e},getProfileUrlBySlug=function(e){return Meteor.absoluteUrl()+"users/"+e},hasPassword=function(e){return!!e.services.password},getTwitterName=function(e){return checkNested(e,"profile","twitter")?e.profile.twitter:checkNested(e,"services","twitter","screenName")?e.services.twitter.screenName:null},getGitHubName=function(e){return checkNested(e,"profile","github")?e.profile.github:checkNested(e,"services","github","screenName")?e.services.github.screenName:null},getTwitterNameById=function(e){return getTwitterName(Meteor.users.findOne(e))},getSignupMethod=function(e){return e.services&&e.services.twitter?"twitter":e.services&&e.services.facebook?"facebook":"regular"
},getEmail=function(e){return e.profile&&e.profile.email?e.profile.email:null},getAvatarUrl=function(e){return"twitter"==getSignupMethod(e)?"http://twitter.com/api/users/profile_image/"+e.services.twitter.screenName:"facebook"==getSignupMethod(e)?"http://graph.facebook.com/"+e.services.facebook.id+"/picture":Gravatar.getGravatar(e,{d:"http://demo.telesc.pe/img/default_avatar.png",s:80})},getCurrentUserEmail=function(){return Meteor.user()?getEmail(Meteor.user()):""},userProfileComplete=function(e){return!!getEmail(e)},findLast=function(e,t){return t.findOne({userId:e._id},{sort:{createdAt:-1}})},timeSinceLast=function(e,t){var n=(new Date).getTime(),r=findLast(e,t);return r?Math.abs(Math.floor((n-r.createdAt)/1e3)):999},numberOfItemsInPast24Hours=function(e,t){var n=moment(new Date),r=t.find({userId:e._id,createdAt:{$gte:n.subtract("hours",24).valueOf()}});return r.count()},getUserSetting=function(e,t,n){var n="undefined"==typeof n?Meteor.user():n,t="undefined"==typeof t?null:t,r=getProperty(n.profile,e);return null==r?t:r},setUserSetting=function(e,t,n){var r;if(Meteor.isClient?r=Meteor.user():Meteor.isServer&&(r=n),!r)throw new Meteor.Error(500,"User not defined");console.log('Setting user setting "'+e+'" to "'+t+'" for '+getUserName(r));var o={_id:r._id},a={};a["profile."+e]=t;var i={$set:a};console.log(o),console.log(i);Meteor.users.update(o,i,{validate:!1})},getProperty=function(e,t){var n=t.split(".");if(n.length>1){var r=n.shift();return"undefined"==typeof e[r]?null:getProperty(e[r],n.join("."))}return e[n[0]]}}(),function(){var e=function(){return 1},t=function(e,t){Meteor.users.update({_id:e},{$inc:{karma:t}})},n=function(e,t){return e.upvoters&&-1!=e.upvoters.indexOf(t._id)},r=function(e,t){return e.downvoters&&-1!=e.downvoters.indexOf(t._id)},o=function(e,t,n,r){var o="profile."+r+"voted"+n,a={};a[o]=t;Meteor.users.update({_id:e},{$addToSet:a})},a=function(e,t,n,r){var o="profile."+r+"voted"+n,a={};a[o]={itemId:t},Meteor.users.update({_id:e},{$pull:a})},i=function(r,a){var i=Meteor.user(),s=e(i),u=r._name.slice(0,1).toUpperCase()+r._name.slice(1);if(!i||!canUpvote(i,r,!0)||n(a,i))return!1;c(r,a,i);var l=(r.update({_id:a&&a._id},{$addToSet:{upvoters:i._id},$inc:{upvotes:1,baseScore:s},$set:{inactive:!1}}),{itemId:a._id,votedAt:new Date,power:s});return o(i._id,l,u,"up"),a=_.extend(a,{baseScore:a.baseScore+s}),updateScore({collection:r,item:a,forceUpdate:!0}),a.userId!=i._id&&(t(a.userId,s),getSetting("redistributeKarma",!1)&&_.each(a.upvoters,function(e){Math.min(.1,s/a.upvoters.length);t(e,.1)})),!0},s=function(n,a){var i=Meteor.user(),s=e(i),c=n._name.slice(0,1).toUpperCase()+n._name.slice(1);if(!i||!canDownvote(i,n,!0)||r(a,i))return!1;u(n,a,i),n.update({_id:a&&a._id},{$addToSet:{downvoters:i._id},$inc:{downvotes:1,baseScore:-s},$set:{inactive:!1}});var l={itemId:a._id,votedAt:new Date,power:s};return o(i._id,l,c,"down"),a=_.extend(a,{baseScore:a.baseScore+s}),updateScore({collection:n,item:a,forceUpdate:!0}),a.userId!=i._id&&t(a.userId,s),!0},u=function(r,o){var i=Meteor.user();return votePower=e(i),collectionName=r._name.slice(0,1).toUpperCase()+r._name.slice(1),n(o,i)?(r.update({_id:o&&o._id},{$pull:{upvoters:i._id},$inc:{upvotes:-1,baseScore:-votePower},$set:{inactive:!1}}),a(i._id,o._id,collectionName,"up"),o=_.extend(o,{baseScore:o.baseScore+votePower}),updateScore({collection:r,item:o,forceUpdate:!0}),o.userId!=i._id&&t(o.userId,votePower),!0):!1},c=function(n,o){var i=Meteor.user(),s=e(i),u=n._name.slice(0,1).toUpperCase()+n._name.slice(1);return r(o,i)?(n.update({_id:o&&o._id},{$pull:{downvoters:i._id},$inc:{downvotes:1,baseScore:s},$set:{inactive:!1}}),a(i._id,o._id,u,"down"),o=_.extend(o,{baseScore:o.baseScore+s}),updateScore({collection:n,item:o,forceUpdate:!0}),o.userId!=i._id&&t(o.userId,s),!0):!1};Meteor.methods({upvotePost:function(e){return i.call(this,Posts,e)},downvotePost:function(e){return s.call(this,Posts,e)},cancelUpvotePost:function(e){return u.call(this,Posts,e)},cancelDownvotePost:function(e){return c.call(this,Posts,e)},upvoteComment:function(e){return i.call(this,Comments,e)},downvoteComment:function(e){return s.call(this,Comments,e)},cancelUpvoteComment:function(e){return u.call(this,Comments,e)},cancelDownvoteComment:function(e){return c.call(this,Comments,e)}})}(),function(){Template[getTemplate("postActions")].helpers({}),Template[getTemplate("postActions")].events({"click .toggle-actions-link":function(e){e.preventDefault();var t=$(e.target).parents(".post").find(".right-modules");t.toggleClass("visible")}})}(),function(){Template[getTemplate("postAdmin")].helpers({postsMustBeApproved:function(){return!!getSetting("requirePostsApproval")},isApproved:function(){return this.status==STATUS_APPROVED},shortScore:function(){return Math.floor(1e3*this.score)/1e3}})}(),function(){Template[getTemplate("postContent")].helpers({postHeading:function(){return postHeading},postMeta:function(){return postMeta},getTemplate:function(){return getTemplate(this.template)},sourceLink:function(){return this.url?this.url:"/posts/"+this._id},current_domain:function(){return"http://"+document.domain},timestamp:function(){return time=this.status==STATUS_APPROVED?this.postedAt:this.createdAt,moment(time).format("MMMM Do, h:mm:ss a")},userAvatar:function(){var e=Meteor.users.findOne(this.userId,{reactive:!1});return e?getAvatarUrl(e):void 0},inactiveClass:function(){return isAdmin(Meteor.user())&&this.inactive?i18n.t("inactive"):""},commentsDisplayText:function(){return i18n.t(1==this.comments?"comment":"comments")}}),Template[getTemplate("postContent")].events({"click .approve-link":function(e){Meteor.call("approvePost",this),e.preventDefault()},"click .unapprove-link":function(e){Meteor.call("unapprovePost",this),e.preventDefault()}})}(),function(){Template[getTemplate("postDomain")].helpers({domain:function(){var e=document.createElement("a");return e.href=this.url,e.hostname}})}(),function(){Template[getTemplate("postMeta")].helpers({pointsUnitDisplayText:function(){return i18n.t(1==this.upvotes?"point":"points")},can_edit:function(){return canEdit(Meteor.user(),this)},authorName:function(){return getAuthorName(this)},ago:function(){return time=this.status==STATUS_APPROVED?this.postedAt:this.createdAt,moment(time).fromNow()},profileUrl:function(){var e=Meteor.users.findOne(this.userId,{reactive:!1});return e?getProfileUrl(e):void 0}})}(),function(){Template[getTemplate("postTitle")].helpers({postLink:function(){return this.url?getOutgoingUrl(this.url):"/posts/"+this._id},postTarget:function(){return this.url?"_blank":""}})}(),function(){Template[getTemplate("postUpvote")].helpers({upvoted:function(){var e=Meteor.user();return e?_.include(this.upvoters,e._id):!1},oneBasedRank:function(){return"undefined"!=typeof this.rank?this.rank+1:void 0}}),Template[getTemplate("postUpvote")].events({"click .upvote-link":function(e){var t=this;e.preventDefault(),Meteor.user()||(Router.go("/signin"),throwError(i18n.t("Please log in first"))),Meteor.call("upvotePost",t,function(){trackEvent("post upvoted",{_id:t._id})})}})}(),function(){Template[getTemplate("toolbox")].events({"click .update-categories":function(){},"click .give-invites":function(){Meteor.call("giveInvites")},"click .update-user-profiles":function(){Meteor.call("updateUserProfiles")},"click .update-posts-slugs":function(){Meteor.call("updatePostsSlugs")}})}(),function(){Template[getTemplate("comment_edit")].rendered=function(){if(this.data){var e=this.data.comment;e&&Meteor.user()&&!this.editor&&(this.editor=new EpicEditor(EpicEditorOptions).load(),this.editor.importFile("editor",e.body),$(this.editor.editor).bind("keydown","meta+return",function(){$(window.editor).closest("form").find('input[type="submit"]').click()}))}},Template[getTemplate("comment_edit")].events({"click input[type=submit]":function(e,t){var n=this,r=cleanUp(t.editor.exportFile());if(e.preventDefault(),!Meteor.user())throw i18n.t("You must be logged in.");Comments.update(n._id,{$set:{body:r}}),trackEvent("edit comment",{postId:n.postId,commentId:n._id}),Router.go("/posts/"+n.postId+"/comment/"+n._id)},"click .delete-link":function(e){var t=this;e.preventDefault(),confirm(i18n.t("Are you sure?"))&&(Meteor.call("removeComment",t._id),Router.go("/posts/"+t.postId),throwError("Your comment has been deleted."))}})}(),function(){Template[getTemplate("comment_form")].helpers({canComment:function(){return canComment(Meteor.user())}}),Template[getTemplate("comment_form")].rendered=function(){Meteor.user()&&!this.editor&&(this.editor=new EpicEditor(EpicEditorOptions).load(),$(this.editor.editor).bind("keydown","meta+return",function(){$(window.editor).closest("form").find('input[type="submit"]').click()}))},Template[getTemplate("comment_form")].events({"submit form":function(e,t){e.preventDefault(),$(e.target).addClass("disabled"),clearSeenErrors();var n=t.editor.exportFile();if("comment_reply"==getCurrentTemplate()){var r=this.comment;Meteor.call("comment",r.postId,r._id,n,function(e,t){e?(console.log(e),throwError(e.reason)):(trackEvent("newComment",t),Router.go("/posts/"+r.postId+"/comment/"+t._id))})}else{var o=postObject;Meteor.call("comment",o._id,null,n,function(e,n){e?(console.log(e),throwError(e.reason)):(trackEvent("newComment",n),Session.set("scrollToCommentId",n._id),t.editor.importFile("editor",""))})}}})}(),function(){findQueueContainer=function(e){return $up=e.prevAll(".queue-container, .comment-displayed").first(),$down=e.nextAll(".queue-container, .comment-displayed").first(),$prev=e.prev(),$next=e.next(),$queuedAncestors=e.parents(".comment-queued"),$queuedAncestors.exists()?$container=$queuedAncestors.last().data("queue"):$prev.hasClass("queue-container")?$container=$prev.data("queue"):$prev.find(".comment").last().hasClass("comment-queued")?$container=$prev.find(".comment").last().data("queue"):$down.hasClass("queue-container")?$container=$next.data("queue"):($up.hasClass("comment-displayed")||!$up.exists())&&($container=$('<div class="queue-container"><ul></ul></div>').insertBefore(e),$container.click(function(e){e.preventDefault();var t=$(this).find("a");t.each(function(){var e=$(this).attr("href");$(e).removeClass("comment-queued").addClass("comment-displayed"),window.openedComments.push(e.substr(1))}),$(this).hide("slow").remove()})),$container},Template[getTemplate("comment_item")].created=function(){this.isQueued=window.queueComments,window.openedComments=[]},Template[getTemplate("comment_item")].helpers({comment_item:function(){return getTemplate("comment_item")},full_date:function(){return this.createdAt.toString()},child_comments:function(){return Comments.find({parentCommentId:this._id})},author:function(){return Meteor.users.findOne(this.userId)},authorName:function(){return getAuthorName(this)},user_avatar:function(){return(author=Meteor.users.findOne(this.userId))?getAvatarUrl(author):void 0},can_edit:function(){return this.userId&&Meteor.userId()?Meteor.user().isAdmin||Meteor.userId()===this.userId:!1},showChildComments:function(){return!0},ago:function(){return moment(this.createdAt).fromNow()},upvoted:function(){return Meteor.user()&&_.include(this.upvoters,Meteor.user()._id)},downvoted:function(){return Meteor.user()&&_.include(this.downvoters,Meteor.user()._id)},profileUrl:function(){var e=Meteor.users.findOne(this.userId);return e?getProfileUrl(e):void 0}}),Template[getTemplate("comment_item")].rendered=function(){},Template.comment_item.events({"click .queue-comment":function(e){e.preventDefault();{var t=$(event.target).closest(".comment").attr("id");new Date,Comments.update(t,{$set:{postedAt:(new Date).getTime()}})}},"click .not-upvoted .upvote":function(e,t){e.preventDefault(),Meteor.user()||(Router.go("/signin"),throwError(i18n.t("Please log in first"))),Meteor.call("upvoteComment",this,function(){trackEvent("post upvoted",{commentId:t.data._id,postId:t.data.post,authorId:t.data.userId})})},"click .upvoted .upvote":function(e,t){e.preventDefault(),Meteor.user()||(Router.go("/signin"),throwError(i18n.t("Please log in first"))),Meteor.call("cancelUpvoteComment",this,function(){trackEvent("post upvote cancelled",{commentId:t.data._id,postId:t.data.post,authorId:t.data.userId})})},"click .not-downvoted .downvote":function(e,t){e.preventDefault(),Meteor.user()||(Router.go("/signin"),throwError(i18n.t("Please log in first"))),Meteor.call("downvoteComment",this,function(){trackEvent("post downvoted",{commentId:t.data._id,postId:t.data.post,authorId:t.data.userId})})},"click .downvoted .downvote":function(e,t){e.preventDefault(),Meteor.user()||(Router.go("/signin"),throwError(i18n.t("Please log in first"))),Meteor.call("cancelDownvoteComment",this,function(){trackEvent("post downvote cancelled",{commentId:t.data._id,postId:t.data.post,authorId:t.data.userId})})}})}(),function(){Template[getTemplate("comment_list")].created=function(){postObject=this.data},Template[getTemplate("comment_list")].helpers({comment_item:function(){return getTemplate("comment_item")},child_comments:function(){var e=this,t=Comments.find({postId:e._id,parentCommentId:null},{sort:{score:-1,postedAt:-1}});return t}}),Template[getTemplate("comment_list")].rendered=function(){window.queueComments=!0}}(),function(){Template[getTemplate("comment_reply")].helpers({post_item:function(){return getTemplate("post_item")},comment_item:function(){return getTemplate("comment_item")},comment_form:function(){return getTemplate("comment_form")},post:function(){if(this.comment){var e=Posts.findOne(this.comment.postId);return e}}})}(),function(){Template[getTemplate("css")].helpers({})}(),function(){Template[getTemplate("error")].helpers({error_item:function(){return getTemplate("error_item")},errors:function(){return Errors.find({show:!0})}})}(),function(){Template[getTemplate("error_item")].helpers({}),Template[getTemplate("error_item")].created=function(){var e=this.data._id;Meteor.setTimeout(function(){Errors.update(e,{$set:{seen:!0}})},100)}}(),function(){Template[getTemplate("footer")].helpers({footerCode:function(){return getSetting("footerCode")},footerClass:function(){return Session.get("isPostsList")?"absolute":"static"},footerModules:function(){return footerModules},getTemplate:function(){return getTemplate(this.template)}})}(),function(){Template[getTemplate("layout")].helpers({mobile_nav:function(){return getTemplate("mobile_nav")},nav:function(){return getTemplate("nav")},error:function(){return getTemplate("error")},notifications:function(){return getTemplate("notifications")},footer:function(){return getTemplate("footer")},pageName:function(){},css:function(){return getTemplate("css")},heroModules:function(){return heroModules},getTemplate:function(){return getTemplate(this.template)}}),Template[getTemplate("layout")].created=function(){Session.set("currentScroll",null)},Template[getTemplate("layout")].rendered=function(){(currentScroll=Session.get("currentScroll"))&&($("body").scrollTop(currentScroll),Session.set("currentScroll",null))}}(),function(){Template[getTemplate("loading")].helpers({log:function(){console.log("loading…")}})}(),function(){Template[getTemplate("no_account")].helpers({landingPageText:function(){return getSetting("landingPageText")}}),Template[getTemplate("no_account")].events({"click .twitter-button":function(){Meteor.loginWithTwitter(function(){Router.go("/")})}})}(),function(){Template[getTemplate("no_invite")].helpers({afterSignupText:function(){return getSetting("afterSignupText")}})}(),function(){Template[getTemplate("adminMenu")].helpers({menuItem:function(){return getTemplate("menuItem")},menu:function(){return adminNav}})}(),function(){Template[getTemplate("mobile_nav")].helpers({primaryNav:function(){return primaryNav},secondaryNav:function(){return secondaryNav},getTemplate:function(){return getTemplate(this)},canPost:function(){return canPost(Meteor.user())},requirePostsApproval:function(){return getSetting("requirePostsApproval")},userMenu:function(){return getTemplate("userMenu")}}),Template[getTemplate("mobile_nav")].events({"click .dropdown-sub-level":function(){$("body").toggleClass("mobile-nav-open")}}),Template[getTemplate("mobile_nav")].rendered=function(){$(".mobile-nav .dropdown-menu").hide()},Template[getTemplate("mobile_nav")].events({"click .dropdown-top-level":function(e){e.preventDefault(),$(e.currentTarget).next().slideToggle("fast")},"click .mobile-nav a":function(e){-1==e.target.className.indexOf("dropdown-top-level")&&$("body").removeClass("mobile-nav-open")}})}(),function(){Template[getTemplate("nav")].helpers({primaryNav:function(){return primaryNav},hasPrimaryNav:function(){return!!primaryNav.length},secondaryNav:function(){return secondaryNav},hasSecondaryNav:function(){return!!secondaryNav.length},dropdownClass:function(){return getThemeSetting("useDropdowns",!0)?"has-dropdown":"no-dropdown"},getTemplate:function(){return getTemplate(this)},userMenu:function(){return getTemplate("userMenu")},site_title:function(){return getSetting("title")},logo_url:function(){return getSetting("logoUrl")},logo_top:function(){return Math.floor((70-getSetting("logoHeight"))/2)},logo_offset:function(){return-Math.floor(getSetting("logoWidth")/2)},intercom:function(){return!!getSetting("intercomId")},canPost:function(){return canPost(Meteor.user())},requirePostsApproval:function(){return getSetting("requirePostsApproval")}}),Template[getTemplate("nav")].rendered=function(){Meteor.loggingIn()||Meteor.user()||$(".login-link-text").text("Sign Up/Sign In")},Template[getTemplate("nav")].events({"click #logout":function(e){e.preventDefault(),Meteor.logout()},"click .mobile-menu-button":function(e){e.preventDefault(),$("body").toggleClass("mobile-nav-open")},"click .login-header":function(e){e.preventDefault(),Router.go("/account")},"click #login-name-link":function(){Meteor.user()&&!$("account-link").exists()&&($("#login-buttons-logout").before('<a href="/users/'+Meteor.user().slug+'" class="account-link button">View Profile</a>'),$("#login-buttons-logout").before('<a href="/account" class="account-link button">Edit Account</a>'))}})}(),function(){Template[getTemplate("userMenu")].helpers({isLoggedIn:function(){return!!Meteor.user()},name:function(){return getDisplayName(Meteor.user())},profileUrl:function(){return getProfileUrl(Meteor.user())}})}(),function(){Template[getTemplate("viewsMenu")].helpers({menuItem:function(){return getTemplate("menuItem")},views:function(){return viewNav}})}(),function(){Template[getTemplate("notification_item")].helpers({nice_time:function(){return moment(this.timestamp).fromNow()},properties:function(){return this.properties},notificationHTML:function(){return buildSiteNotification(this)}}),Template[getTemplate("notification_item")].events({"click .action-link":function(e,t){var n=t.data._id;Notifications.update({_id:n},{$set:{read:!0}},function(e){e&&console.log(e)})}})}(),function(){Template[getTemplate("notifications")].helpers({notification_item:function(){return getTemplate("notification_item")},notifications:function(){return Notifications.find({userId:Meteor.userId()},{sort:{timestamp:-1}})},notification_count:function(){var e=Notifications.find({userId:Meteor.userId(),read:!1}).fetch();return 0==e.length?i18n.t("No notifications"):1==e.length?i18n.t("1 notification"):e.length+" "+i18n.t("notifications")},notification_class:function(){var e=Notifications.find({userId:Meteor.userId(),read:!1}).fetch();return 0==e.length?"no-notifications":void 0}}),Template[getTemplate("notifications")].events({"click .notifications-toggle":function(e){e.preventDefault(),$("body").toggleClass("notifications-open")},"click .mark-as-read":function(){Meteor.call("markAllNotificationsAsRead",function(e){e&&console.log(e)})}})}(),function(){Template[getTemplate("unsubscribe")].created=function(){var e=this.data.hash;Meteor.call("unsubscribeUser",e,function(e,t){t?Session.set("unsubscribedMessage","You have been unsubscribed from all notifications."):Session.set("unsubscribedMessage","User not found.")}),trackEvent("notificationsUnsubcribe",{hash:e})},Template[getTemplate("unsubscribe")].helpers({unsubscribed:function(){return Session.get("unsubscribedMessage")}})}(),function(){Template[getTemplate("post_edit")].helpers({created:function(){return moment(this.createdAt).format("MMMM Do, h:mm:ss a")},categories:function(){var e=this;return Categories.find({},{sort:{order:1,name:1}}).map(function(t){return t.checked=_.contains(_.pluck(e.categories,"_id"),t._id)?"checked":"",t})},categoriesEnabled:function(){return Categories.find().count()},showPostedAt:function(){return(Session.get("currentPostStatus")||this.status)==STATUS_APPROVED?"visible":"hidden"},isSticky:function(){return this.sticky?"checked":""},isSelected:function(e){return e&&this._id==e.userId?"selected":""},postedAtDate:function(){return this.postedAt?moment(this.postedAt).format("MM/DD/YYYY"):null},postedAtTime:function(){return this.postedAt?moment(this.postedAt).format("HH:mm"):null},users:function(){return Meteor.users.find({},{sort:{"profile.name":1}})},userName:function(){return getDisplayName(this)},hasStatusPending:function(){return this.status==STATUS_PENDING?"checked":""},hasStatusApproved:function(){return this.status==STATUS_APPROVED?"checked":""},hasStatusRejected:function(){return this.status==STATUS_REJECTED?"checked":""},shorten:function(){return!!getSetting("bitlyToken")}}),Template[getTemplate("post_edit")].rendered=function(){var e=this;postEditRenderedCallbacks.forEach(function(t){t(e)}),Session.set("currentPostStatus",this.status);var t=this.data.post;t&&!this.editor&&(this.editor=new EpicEditor(EpicEditorOptions).load(),this.editor.importFile("editor",t.body),$("#postedAtDate").datepicker())},Template[getTemplate("post_edit")].events({"change input[name=status]":function(e){Session.set("currentPostStatus",e.currentTarget.value)},"click input[type=submit]":function(e,t){var n=this;if(e.preventDefault(),$(e.target).addClass("disabled"),!Meteor.user())return throwError("You must be logged in."),!1;var r={title:$("#title").val(),body:t.editor.exportFile(),categories:[]},o=$("#url").val();o&&(r.url="http://"==o.substring(0,7)||"https://"==o.substring(0,8)?o:"http://"+o);var a=$("#short-url").val();if(a&&(r.shortUrl=a),isAdmin(Meteor.user())&&(adminProperties={sticky:$("#sticky").is(":checked"),userId:$("#postUser").val()},adminProperties.status=parseInt($("input[name=status]:checked").val()),r=_.extend(r,adminProperties),adminProperties.status==STATUS_APPROVED)){var i=!1,s=new Date,u=$("#postedAtDate").datepicker("getDate"),c=$("#postedAtTime").val();if($("#postedAtDate").exists()&&"Invalid Date"!=u&&(s=u,i=!0),$("#postedAtTime").exists()&&2==c.split(":").length){var l=c.split(":")[0],d=c.split(":")[1];s=moment(s).hour(l).minute(d).toDate(),i=!0}i?Meteor.call("setPostedAt",n,s):Meteor.call("setPostedAt",n)}r=postEditClientCallbacks.reduce(function(e,t){return t(e)},r),r?Posts.update(n._id,{$set:r},function(t){t?(console.log(t),throwError(t.reason),clearSeenErrors(),$(e.target).removeClass("disabled")):(trackEvent("edit post",{postId:n._id}),Router.go("/posts/"+n._id))}):$(e.target).removeClass("disabled")},"click .delete-link":function(e){var t=this;e.preventDefault(),confirm("Are you sure?")&&(Router.go("/"),Meteor.call("deletePostById",t._id,function(e){e?(console.log(e),throwError(e.reason)):throwError("Your post has been deleted.")}))}})}(),function(){var e=function(e){return _.filter(postModules,function(t){return 0==t.position.indexOf(e)})},t={};Template[getTemplate("post_item")].created=function(){t=this.data},Template[getTemplate("post_item")].helpers({leftPostModules:function(){return e("left")},centerPostModules:function(){return e("center")},rightPostModules:function(){return e("right")},getTemplate:function(){return getTemplate(this.template)},moduleContext:function(){var e=this;return e.templateClass=camelToDash(this.template)+" "+this.position+" cell",e.post=t,e},moduleClass:function(){return camelToDash(this.template)+" "+this.position+" cell"}})}(),function(){Template[getTemplate("post_page")].helpers({post_item:function(){return getTemplate("post_item")},post_body:function(){return getTemplate("post_body")},comment_form:function(){return getTemplate("comment_form")},comment_list:function(){return getTemplate("comment_list")}}),Template[getTemplate("post_page")].rendered=function(){this.data&&(document.title=$(".post-title").text())}}(),function(){Template[getTemplate("post_submit")].helpers({categoriesEnabled:function(){return Categories.find().count()},categories:function(){return Categories.find()},users:function(){return Meteor.users.find({},{sort:{"profile.name":1}})},userName:function(){return getDisplayName(this)},isSelected:function(e){return e._id==Meteor.userId()?"selected":""},showPostedAt:function(){return Session.get("currentPostStatus")==STATUS_APPROVED?"visible":"hidden"}}),Template[getTemplate("post_submit")].rendered=function(){var e=this;postSubmitRenderedCallbacks.forEach(function(t){t(e)}),Session.set("currentPostStatus",STATUS_APPROVED),Session.set("selectedPostId",null),!this.editor&&$("#editor").exists()&&(this.editor=new EpicEditor(EpicEditorOptions).load()),$("#postedAtDate").datepicker()},Template[getTemplate("post_submit")].events({"change input[name=status]":function(e){Session.set("currentPostStatus",e.currentTarget.value)},"click input[type=submit]":function(e,t){if(e.preventDefault(),$(e.target).addClass("disabled"),!Meteor.user())return throwError(i18n.t("You must be logged in.")),!1;var n={title:$("#title").val(),body:t.editor.exportFile(),sticky:$("#sticky").is(":checked"),userId:$("#postUser").val(),status:parseInt($("input[name=status]:checked").val())},r=!1,o=new Date,a=$("#postedAtDate").datepicker("getDate"),i=$("#postedAtTime").val();if($("#postedAtDate").exists()&&"Invalid Date"!=a&&(o=a,r=!0),$("#postedAtTime").exists()&&2==i.split(":").length){var s=i.split(":")[0],u=i.split(":")[1];o=moment(o).hour(s).minute(u).toDate(),r=!0}r&&(n.postedAt=o);var c=$("#url").val();if(c){var l="http://"==c.substring(0,7)||"https://"==c.substring(0,8)?c:"http://"+c;n.url=l}n=postSubmitClientCallbacks.reduce(function(e,t){return t(e)},n),n?Meteor.call("post",n,function(t,n){t?(throwError(t.reason),clearSeenErrors(),$(e.target).removeClass("disabled"),603==t.error&&Router.go("/posts/"+t.details)):(trackEvent("new post",{postId:n._id}),n.status===STATUS_PENDING&&throwError("Thanks, your post is awaiting approval."),Router.go("/posts/"+n._id))}):$(e.target).removeClass("disabled")},"click .get-title-link":function(e){e.preventDefault();var t=$("#url").val();$(".get-title-link").addClass("loading"),t?$.get(t,function(e){null!=(suggestedTitle=/<title>(.*?)<\/title>/m.exec(e.responseText))?$("#title").val(suggestedTitle[1]):alert("Sorry, couldn't find a title..."),$(".get-title-link").removeClass("loading")}):(alert("Please fill in an URL first!"),$(".get-title-link").removeClass("loading"))}})}(),function(){Template[getTemplate("posts_digest")].created=function(){$(document).unbind("keyup");var e=moment(Session.get("currentDate")).startOf("day"),t=moment(new Date).startOf("daysy");$(document).bind("keyup","left",function(){Router.go($(".prev-link").attr("href"))}),$(document).bind("keyup","right",function(){(isAdmin(Meteor.user())||t.diff(e,"days")>0)&&Router.go($(".next-link").attr("href"))})},Template[getTemplate("posts_digest")].helpers({post_item:function(){return getTemplate("post_item")},hasPosts:function(){return this.posts?!!this.posts.count():void 0},currentDate:function(){var e=moment(Session.get("currentDate")),t=moment(new Date),n=t.diff(e,"days");return 0===n?i18n.t("Today"):1===n?i18n.t("Yesterday"):e.format("dddd, MMMM Do YYYY")},previousDateURL:function(){var e=moment(Session.get("currentDate")),t=e.subtract("days",1);return getDigestURL(t)},showPreviousDate:function(){return!0},nextDateURL:function(){var e=moment(Session.get("currentDate")),t=e.add("days",1);return getDigestURL(t)},showNextDate:function(){var e=moment(Session.get("currentDate")).startOf("day"),t=moment(new Date).startOf("day");return isAdmin(Meteor.user())||t.diff(e,"days")>0}}),Template[getTemplate("posts_digest")].rendered=function(){var e=0;$(".post").each(function(){e+=$(this).height()}),e+=55,Session.set("distanceFromTop",e),$("body").css("min-height",e+160),$(".more-button").css("top",e+"px")}}(),function(){Template[getTemplate("posts_list")].helpers({post_item:function(){return getTemplate("post_item")},posts:function(){if(this.postsList){this.postsList.rewind();var e=this.postsList.map(function(e,t){return e.rank=t,e});return e}},hasMorePosts:function(){return parseInt(Session.get("postsLimit"))==this.postsCount},loadMoreUrl:function(){var e=parseInt(Session.get("postsLimit"))+parseInt(getSetting("postsPerPage",10)),t=Session.get("categorySlug")?Session.get("categorySlug")+"/":"";return"/"+Session.get("view")+"/"+t+e}})}(),function(){Template[getTemplate("forgot_password")].events({"click input[type=submit]":function(e){e.preventDefault();var t=new Object;t.email=$("#email").val(),Accounts.forgotPassword(t,function(e){e?console.log(e):throwError(i18n.t("Password reset link sent!"))})}})}(),function(){Template[getTemplate("invites")].helpers({canCurrentUserInvite:function(){var e=Meteor.user();return e&&e.inviteCount>0&&canInvite(e)},invitesLeft:function(){var e=Meteor.user();return e?e.inviteCount:0},invitesSchema:function(){return InviteSchema}});var e=function(){Deps.afterFlush(function(){var e=$(".grid > .error");$("html, body").animate({scrollTop:e.offset().top})})};AutoForm.hooks({inviteForm:{onSuccess:function(t,n){clearSeenErrors(),throwError(n&&n.newUser?"An invite has been sent out. Thank you!":"Thank you!"),e()},onError:function(t,n){clearSeenErrors(),n&&n.reason&&(throwError(n.reason),e())}}})}(),function(){Template[getTemplate("signin")].events({"click input[type=submit]":function(e){e.preventDefault();var t=$("#username").val(),n=$("#password").val();Meteor.loginWithPassword(t,n,function(e){e&&(console.log(e),throwError(e.reason))})},"click #signup":function(){Router.go("/signup")},"click .twitter-button":function(){Meteor.loginWithTwitter(function(){Router.go("/")})},"click .facebook-button":function(){Meteor.loginWithFacebook(function(){Router.go("/")})}})}(),function(){Template[getTemplate("signup")].events({"click input[type=submit]":function(e){e.preventDefault();var t=$("#username").val(),n=$("#email").val(),r=$("#password").val();return t&&n&&r?void Accounts.createUser({username:t,email:n,password:r},function(e){e?console.log(e):Router.go("/")}):(throwError(i18n.t("Please fill in all fields")),!1)},"click #signin":function(){Router.go("/signin")},"click .twitter-button":function(){Meteor.loginWithTwitter(function(){Router.go("/")})}})}(),function(){Template[getTemplate("user_edit")].helpers({profileIncomplete:function(){return this&&!this.loading&&!userProfileComplete(this)},userName:function(){return getUserName(this)},userEmail:function(){return getEmail(this)},getTwitter:function(){return getTwitterName(this)||""},getGitHub:function(){return getGitHubName(this)||""},profileUrl:function(){return Meteor.absoluteUrl()+"users/"+this.slug},hasNotificationsUsers:function(){return getUserSetting("notifications.users","",this)?"checked":""},hasNotificationsPosts:function(){return getUserSetting("notifications.posts","",this)?"checked":""},hasNotificationsComments:function(){return getUserSetting("notifications.comments","",this)?"checked":""},hasNotificationsReplies:function(){return getUserSetting("notifications.replies","",this)?"checked":""},hasPassword:function(){return hasPassword(Meteor.user())}}),Template[getTemplate("user_edit")].events({"submit #account-form":function(e){e.preventDefault(),clearSeenErrors(),Meteor.user()||throwError(i18n.t("You must be logged in."));var t=$(e.target),n=t.find("[name=name]").val(),r=this,o={"profile.name":n,"profile.slug":slugify(n),"profile.bio":t.find("[name=bio]").val(),"profile.email":t.find("[name=email]").val(),"profile.twitter":t.find("[name=twitter]").val(),"profile.github":t.find("[name=github]").val(),"profile.site":t.find("[name=site]").val(),"profile.notifications.users":$("input[name=notifications_users]:checked").length,"profile.notifications.posts":$("input[name=notifications_posts]:checked").length,"profile.notifications.comments":$("input[name=notifications_comments]:checked").length,"profile.notifications.replies":$("input[name=notifications_replies]:checked").length,inviteCount:parseInt(t.find("[name=inviteCount]").val())},a=t.find("[name=old_password]").val(),i=t.find("[name=new_password]").val();
a&&i&&Accounts.changePassword(a,i,function(e){e&&throwError(e.reason)}),Meteor.users.update(r._id,{$set:o},function(e){throwError(e?e.reason:i18n.t("Profile updated")),Deps.afterFlush(function(){var e=$(".grid > .error");$("html, body").animate({scrollTop:e.offset().top})})})}})}(),function(){Template[getTemplate("user_email")].helpers({user:function(){return Meteor.user()},username:function(){return getUserName(Meteor.user())}}),Template[getTemplate("user_email")].events({"submit form":function(e){e.preventDefault(),Meteor.user()||throwError(i18n.t("You must be logged in."));{var t=$(e.target),n=Session.get("selectedUserId")?Meteor.users.findOne(Session.get("selectedUserId")):Meteor.user(),r={"profile.email":t.find("[name=email]").val(),username:t.find("[name=username]").val(),slug:slugify(t.find("[name=username]").val())};t.find("[name=email]").val()}Meteor.users.update(n._id,{$set:r},function(e){e?throwError(e.reason):(throwError(i18n.t("Thanks for signing up!")),trackEvent("new sign-up",{userId:n._id,auth:"twitter"}),Router.go("/"))})}})}(),function(){Template[getTemplate("user_item")].helpers({avatarUrl:function(){return getAvatarUrl(this)},createdAtFormatted:function(){return this.createdAt?moment(this.createdAt).fromNow():"–"},displayName:function(){return getDisplayName(this)},getEmail:function(){return getEmail(this)},posts:function(){return Posts.find({userId:this._id})},comments:function(){return Comments.find({userId:this._id})},userIsAdmin:function(){return isAdmin(this)},getProfileUrl:function(){return getProfileUrl(this)},getKarma:function(){return Math.round(100*this.karma)/100},getInvitedUserProfileUrl:function(){var e=Meteor.users.findOne(this.invitedId);return getProfileUrl(e)}}),Template[getTemplate("user_item")].events({"click .invite-link":function(e,t){e.preventDefault(),Meteor.call("inviteUser",{userId:t.data._id})},"click .uninvite-link":function(e,t){e.preventDefault(),Meteor.users.update(t.data._id,{$set:{isInvited:!1}})},"click .admin-link":function(e,t){e.preventDefault(),Meteor.users.update(t.data._id,{$set:{isAdmin:!0}})},"click .unadmin-link":function(e,t){e.preventDefault(),Meteor.users.update(t.data._id,{$set:{isAdmin:!1}})},"click .delete-link":function(e,t){e.preventDefault(),confirm(i18n.t("Are you sure you want to delete ")+getDisplayName(t.data)+"?")&&Meteor.users.remove(t.data._id)}})}(),function(){Template[getTemplate("user_profile")].helpers({avatarUrl:function(){return getAvatarUrl(this)},canEditProfile:function(){var e=Meteor.user();return e&&(this._id==e._id||isAdmin(e))},createdAtFormatted:function(){return this.createdAt},canInvite:function(){return Meteor.user()&&Meteor.user()._id!=this._id&&!isInvited(this)&&invitesEnabled()&&canInvite(Meteor.user())},inviteCount:function(){return Meteor.user().inviteCount},getTwitterName:function(){return getTwitterName(this)},getGitHubName:function(){return getGitHubName(this)},upvotes:function(){var e=Meteor.user().profile.upvotedPosts.map(function(e){var t=Posts.findOne(e.itemId);return _.extend(e,t)});return e}}),Template[getTemplate("user_profile")].events({"click .invite-link":function(e,t){Meteor.call("inviteUser",t.data.user._id),throwError("Thanks, user has been invited.")}})}(),function(){Template[getTemplate("users")].helpers({user_item:function(){return getTemplate("user_item")},loadMoreUrl:function(){var e=parseInt(Session.get("usersLimit"))+20;return"/all-users/"+e+"?filterBy="+this.filterBy+"&sortBy="+this.sortBy},allPostsLoaded:function(){return!1},activeClass:function(e){return e==this.filterBy||e==this.sortBy?"active":void 0},sortBy:function(e){return"?filterBy="+this.filterBy+"&sortBy="+e},filterBy:function(e){return"?filterBy="+e+"&sortBy="+this.sortBy}})}(),function(){Accounts.ui.config({passwordSignupFields:"USERNAME_AND_EMAIL"}),EpicEditorOptions={container:"editor",basePath:"/editor",clientSideStorage:!1,theme:{base:"/themes/base/epiceditor.css",preview:"/themes/preview/github.css",editor:"/themes/editor/epic-light.css"}},SharrreOptions={share:{googlePlus:!0,twitter:!0},buttons:{googlePlus:{size:"tall",annotation:"bubble"},twitter:{count:"vertical",via:"TelescopeApp"}},enableHover:!1,enableCounter:!1,enableTracking:!0},Statuses={pending:1,approved:2,rejected:3}}(),function(){UI.registerHelper("eachWithRank",function(e,t){e.rewind();var n="";return e.forEach(function(e,r){var o="Branch-"+r;n+=Spark.labelBranch(o,function(){return t.fn(_.extend(e,{rank:r}))})}),n}),UI.registerHelper("getSetting",function(e,t){var t="undefined"!=typeof t?t:"",e=getSetting(e,t);return e}),UI.registerHelper("isLoggedIn",function(){return!!Meteor.user()}),UI.registerHelper("canView",function(){return canView(Meteor.user())}),UI.registerHelper("canPost",function(){return canPost(Meteor.user())}),UI.registerHelper("canComment",function(){return canComment(Meteor.user())}),UI.registerHelper("canUpvote",function(e){return canUpvote(Meteor.user(),e)}),UI.registerHelper("canDownvote",function(e){return canDownvote(Meteor.user(),e)}),UI.registerHelper("isAdmin",function(e){return isAdmin(Meteor.user())?!0:("string"==typeof e&&"true"===e&&throwError(i18n.t("Sorry, you do not have access to this page")),!1)}),UI.registerHelper("canEdit",function(collectionName,item,action){var action="string"!=typeof action?null:action,collection="string"!=typeof collectionName?Posts:eval(collectionName);return item&&canEdit(Meteor.user(),item,action)}),UI.registerHelper("log",function(e){console.log(e)}),UI.registerHelper("formatDate",function(e,t){return moment(e).format(t)})}(),function(){!function(e,t){function n(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function r(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])}function o(t,n){var r=t,o=null;return e.getComputedStyle?o=document.defaultView.getComputedStyle(r,null).getPropertyValue(n):r.currentStyle&&(o=r.currentStyle[n]),o}function a(e,t,n){var a,i={};if("save"===t){for(a in n)n.hasOwnProperty(a)&&(i[a]=o(e,a));r(e,n)}else"apply"===t&&r(e,n);return i}function i(e){var t,n=parseInt(o(e,"border-left-width"),10)+parseInt(o(e,"border-right-width"),10),r=parseInt(o(e,"padding-left"),10)+parseInt(o(e,"padding-right"),10),a=e.offsetWidth;return isNaN(n)&&(n=0),t=n+r+a}function s(e){var t,n=parseInt(o(e,"border-top-width"),10)+parseInt(o(e,"border-bottom-width"),10),r=parseInt(o(e,"padding-top"),10)+parseInt(o(e,"padding-bottom"),10),a=e.offsetHeight;return isNaN(n)&&(n=0),t=n+r+a}function u(e,t,r){r=r||"";var o=t.getElementsByTagName("head")[0],a=t.createElement("link");n(a,{type:"text/css",id:r,rel:"stylesheet",href:e,name:e,media:"screen"}),o.appendChild(a)}function c(e,t,n){e.className=e.className.replace(t,n)}function l(e){return e.contentDocument||e.contentWindow.document}function d(e){var t;return document.body.innerText?t=e.innerText:(t=e.innerHTML.replace(/<br>/gi,"\n"),t=t.replace(/<(?:.|\n)*?>/gm,""),t=t.replace(/&lt;/gi,"<"),t=t.replace(/&gt;/gi,">")),t}function p(e,t){return document.body.innerText?e.innerText=t:e.innerHTML=t.replace(/\n/g,"<br>"),!0}function f(){var e,t=-1,n=navigator.userAgent;return"Microsoft Internet Explorer"==navigator.appName&&(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/,null!=e.exec(n)&&(t=parseFloat(RegExp.$1,10))),t}function h(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function m(){var e,n,r,o,a=arguments[0]||{},i=1,s=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},i=2),"object"!=typeof a&&!h(a)&&(a={}),s===i&&(a=this,--i);s>i;i++)if(null!=(e=arguments[i]))for(n in e)if(e.hasOwnProperty(n)){if(r=a[n],o=e[n],a===o)continue;u&&o&&"object"==typeof o&&!o.nodeType?a[n]=m(u,r||(null!=o.length?[]:{}),o):o!==t&&(a[n]=o)}return a}function g(e){var n,r,o=this,a=e||{},i={container:"epiceditor",basePath:"epiceditor",clientSideStorage:!0,localStorageName:"epiceditor",file:{name:null,defaultContent:"",autoSave:100},theme:{base:"/themes/base/epiceditor.css",preview:"/themes/preview/github.css",editor:"/themes/editor/epic-dark.css"},focusOnLoad:!1,shortcut:{modifier:18,fullscreen:70,preview:80,edit:79},parser:"function"==typeof marked?marked:null};return o.settings=m(!0,i,a),("function"!=typeof o.settings.parser||"string"!=typeof o.settings.parser("TEST"))&&(o.settings.parser=function(e){return e}),"string"==typeof o.settings.container?o.element=document.getElementById(o.settings.container):"object"==typeof o.settings.container&&(o.element=o.settings.container),o.settings.file.name||("string"==typeof o.settings.container?o.settings.file.name=o.settings.container:"object"==typeof o.settings.container&&(o.element.id?o.settings.file.name=o.element.id:(g._data.unnamedEditors||(g._data.unnamedEditors=[]),g._data.unnamedEditors.push(o),o.settings.file.name="__epiceditor-untitled-"+g._data.unnamedEditors.length))),o._instanceId="epiceditor-"+Math.round(1e5*Math.random()),o._storage={},o._canSave=!0,o._defaultFileSchema=function(){return{content:o.settings.file.defaultContent,created:new Date,modified:new Date}},localStorage&&o.settings.clientSideStorage&&(this._storage=localStorage,this._storage[o.settings.localStorageName]&&o.getFiles(o.settings.file.name)===t&&(n=o.getFiles(o.settings.file.name),n=o._defaultFileSchema(),n.content=o.settings.file.defaultContent)),this._storage[o.settings.localStorageName]||(r={},r[o.settings.file.name]=o._defaultFileSchema(),r=JSON.stringify(r),this._storage[o.settings.localStorageName]=r),o.events||(o.events={}),this}g.prototype.load=function(t){function n(e){for(var t=0;t<e.length;t++)e[t].style.width=I.element.offsetWidth-v+"px",e[t].style.height=I.element.offsetHeight-y+"px"}function c(e){v=i(I.element)-I.element.offsetWidth;for(var t=0;t<e.length;t++)e[t].style.width=I.element.offsetWidth-v+"px"}function d(t){(Math.abs(A.y-t.pageY)>=5||Math.abs(A.x-t.pageX)>=5)&&(k.style.display="block",w&&clearTimeout(w),w=e.setTimeout(function(){k.style.display="none"},1e3)),A={y:t.pageY,x:t.pageX}}function p(e){e.keyCode==I.settings.shortcut.modifier&&(N=!0),17==e.keyCode&&(Y=!0),N===!0&&e.keyCode==I.settings.shortcut.preview&&!I.eeState.fullscreen&&(e.preventDefault(),I.preview()),N===!0&&e.keyCode==I.settings.shortcut.edit&&(e.preventDefault(),I.eeState.fullscreen||I.edit()),N===!0&&e.keyCode==I.settings.shortcut.fullscreen&&(e.preventDefault(),L(C)),N===!0&&e.keyCode!==I.settings.shortcut.modifier&&(N=!1),27==e.keyCode&&I.eeState.fullscreen&&(document.body.webkitRequestFullScreen||D(C)),Y===!0&&83==e.keyCode&&(I.save(),e.preventDefault(),Y=!1),e.metaKey&&83==e.keyCode&&(I.save(),e.preventDefault())}function h(e){e.keyCode==I.settings.shortcut.modifier&&(N=!1),17==e.keyCode&&(Y=!1)}var m,g,_,v,y,b,k,w,S,T,M,L,D,P,C,E,x,I=this,A={y:-1,x:-1},O=document.body.webkitRequestFullScreen?!0:!1,N=!1,Y=!1;for(t=t||function(){},I.eeState={fullscreen:!1,preview:!1,edit:!0,loaded:!1,unloaded:!1},m={chrome:'<div id="epiceditor-wrapper" class="epiceditor-edit-mode"><iframe frameborder="0" id="epiceditor-editor-frame"></iframe><iframe frameborder="0" id="epiceditor-previewer-frame"></iframe><div id="epiceditor-utilbar"><img width="30" src="'+this.settings.basePath+'/images/preview.png" title="Toggle Preview Mode" class="epiceditor-toggle-btn epiceditor-toggle-preview-btn"> <img width="30" src="'+this.settings.basePath+'/images/edit.png" title="Toggle Edit Mode" class="epiceditor-toggle-btn epiceditor-toggle-edit-btn"> <img width="30" src="'+this.settings.basePath+'/images/fullscreen.png" title="Enter Fullscreen" class="epiceditor-fullscreen-btn"></div></div>',previewer:'<div id="epiceditor-preview"></div>'},I.element.innerHTML='<iframe scrolling="no" frameborder="0" id= "'+I._instanceId+'"></iframe>',g=document.getElementById(I._instanceId),I.iframeElement=g,I.iframe=l(g),I.iframe.open(),I.iframe.write(m.chrome),I.editorIframe=I.iframe.getElementById("epiceditor-editor-frame"),I.previewerIframe=I.iframe.getElementById("epiceditor-previewer-frame"),I.editorIframeDocument=l(I.editorIframe),I.editorIframeDocument.open(),I.editorIframeDocument.write(""),I.editorIframeDocument.close(),I.previewerIframeDocument=l(I.previewerIframe),I.previewerIframeDocument.open(),I.previewerIframeDocument.write(m.previewer),_=I.previewerIframeDocument.createElement("base"),_.target="_blank",I.previewerIframeDocument.getElementsByTagName("head")[0].appendChild(_),I.previewerIframeDocument.close(),v=i(I.element)-I.element.offsetWidth,y=s(I.element)-I.element.offsetHeight,P=[I.iframeElement,I.editorIframe,I.previewerIframe],n(P),u(I.settings.basePath+I.settings.theme.base,I.iframe,"theme"),u(I.settings.basePath+I.settings.theme.editor,I.editorIframeDocument,"theme"),u(I.settings.basePath+I.settings.theme.preview,I.previewerIframeDocument,"theme"),I.iframe.getElementById("epiceditor-wrapper").style.position="relative",I.editor=I.editorIframeDocument.body,I.previewer=I.previewerIframeDocument.getElementById("epiceditor-preview"),I.editor.contentEditable=!0,I.iframe.body.style.height=this.element.offsetHeight+"px",this.previewerIframe.style.display="none",f()>-1&&(this.previewer.style.height=parseInt(o(this.previewer,"height"),10)+2),this.open(I.settings.file.name),I.settings.focusOnLoad&&I.iframe.addEventListener("readystatechange",function(){"complete"==I.iframe.readyState&&I.editorIframeDocument.body.focus()}),b=I.iframe.getElementById("epiceditor-utilbar"),T={},L=function(t){if(I.eeState.fullscreen)return void D(t);O&&t.webkitRequestFullScreen(),M=I.eeState.edit,I.eeState.fullscreen=!0,I.eeState.edit=!0,I.eeState.preview=!0;var n=(e.innerWidth,e.innerHeight),r=e.outerWidth,i=e.outerHeight;O||(i=e.innerHeight),T.editorIframe=a(I.editorIframe,"save",{width:r/2+"px",height:i+"px","float":"left",cssFloat:"left",styleFloat:"left",display:"block"}),T.previewerIframe=a(I.previewerIframe,"save",{width:r/2+"px",height:i+"px","float":"right",cssFloat:"right",styleFloat:"right",display:"block"}),T.element=a(I.element,"save",{position:"fixed",top:"0",left:"0",width:"100%","z-index":"9999",zIndex:"9999",border:"none",margin:"0",background:o(I.editor,"background-color"),height:n+"px"}),T.iframeElement=a(I.iframeElement,"save",{width:r+"px",height:n+"px"}),b.style.visibility="hidden",O||(document.body.style.overflow="hidden"),I.preview(),I.editorIframeDocument.body.focus()},D=function(){a(I.element,"apply",T.element),a(I.iframeElement,"apply",T.iframeElement),a(I.editorIframe,"apply",T.editorIframe),a(I.previewerIframe,"apply",T.previewerIframe),I.element.style.width="",I.element.style.height="",b.style.visibility="visible",O?document.webkitCancelFullScreen():document.body.style.overflow="auto",I.eeState.fullscreen=!1,M?I.edit():I.preview(),c(P)},I.editor.addEventListener("keyup",function(){S&&e.clearTimeout(S),S=e.setTimeout(function(){I.eeState.fullscreen&&I.preview()},250)}),C=I.iframeElement,b.addEventListener("click",function(e){var t=e.target.className;t.indexOf("epiceditor-toggle-preview-btn")>-1?I.preview():t.indexOf("epiceditor-toggle-edit-btn")>-1?I.edit():t.indexOf("epiceditor-fullscreen-btn")>-1&&L(C)}),document.body.webkitRequestFullScreen&&C.addEventListener("webkitfullscreenchange",function(){document.webkitIsFullScreen||D(C)},!1),k=I.iframe.getElementById("epiceditor-utilbar"),k.style.display="none",k.addEventListener("mouseover",function(){w&&clearTimeout(w)}),E=[I.previewerIframeDocument,I.editorIframeDocument],x=0;x<E.length;x++)E[x].addEventListener("mousemove",function(e){d(e)}),E[x].addEventListener("scroll",function(e){d(e)}),E[x].addEventListener("keyup",function(e){h(e)}),E[x].addEventListener("keydown",function(e){p(e)});return I.settings.file.autoSave&&(I.saveInterval=e.setInterval(function(){I._canSave&&I.save()},I.settings.file.autoSave)),e.addEventListener("resize",function(){!I.iframe.webkitRequestFullScreen&&I.eeState.fullscreen?(r(I.iframeElement,{width:e.outerWidth+"px",height:e.innerHeight+"px"}),r(I.element,{height:e.innerHeight+"px"}),r(I.previewerIframe,{width:e.outerWidth/2+"px",height:e.innerHeight+"px"}),r(I.editorIframe,{width:e.outerWidth/2+"px",height:e.innerHeight+"px"})):I.eeState.fullscreen||c(P)}),I.iframe.close(),I.eeState.loaded=!0,I.eeState.unloaded=!1,t.call(this),this.emit("load"),this},g.prototype.unload=function(t){if(this.eeState.unloaded)throw new Error("Editor isn't loaded");var n=this,r=e.parent.document.getElementById(n._instanceId);return r.parentNode.removeChild(r),n.eeState.loaded=!1,n.eeState.unloaded=!0,t=t||function(){},n.saveInterval&&e.clearInterval(n.saveInterval),t.call(this),n.emit("unload"),n},g.prototype.preview=function(e){var t=this;return e=e||t.settings.basePath+t.settings.theme.preview,c(t.getElement("wrapper"),"epiceditor-edit-mode","epiceditor-preview-mode"),t.previewerIframeDocument.getElementById("theme")?t.previewerIframeDocument.getElementById("theme").name!==e&&(t.previewerIframeDocument.getElementById("theme").href=e):u(e,t.previewerIframeDocument,"theme"),t.previewer.innerHTML=t.exportFile(null,"html"),t.eeState.fullscreen||(t.editorIframe.style.display="none",t.previewerIframe.style.display="block",t.eeState.preview=!0,t.eeState.edit=!1,t.previewerIframe.focus()),t.emit("preview"),t},g.prototype.edit=function(){var e=this;return c(e.getElement("wrapper"),"epiceditor-preview-mode","epiceditor-edit-mode"),e.eeState.preview=!1,e.eeState.edit=!0,e.editorIframe.style.display="block",e.previewerIframe.style.display="none",e.editorIframe.focus(),e.emit("edit"),this},g.prototype.getElement=function(e){var t={container:this.element,wrapper:this.iframe.getElementById("epiceditor-wrapper"),wrapperIframe:this.iframeElement,editor:this.editorIframeDocument,editorIframe:this.editorIframe,previewer:this.previewerIframeDocument,previewerIframe:this.previewerIframe};return!t[e]||this.eeState.unloaded?null:t[e]},g.prototype.open=function(e){var n,r=this,o=r.settings.file.defaultContent;return e=e||r.settings.file.name,r.settings.file.name=e,this._storage[r.settings.localStorageName]&&(n=r.getFiles(),n[e]!==t?(p(r.editor,n[e].content),r.emit("read")):(p(r.editor,o),r.save(),r.emit("create")),r.previewer.innerHTML=r.exportFile(null,"html"),r.emit("open")),this},g.prototype.save=function(){var e,n=this,r=!1,o=n.settings.file.name,a=d(this.editor);return this._canSave=!0,e=JSON.parse(this._storage[n.settings.localStorageName]),e[o]===t?e[o]=n._defaultFileSchema():a!==e[o].content&&(e[o].modified=new Date,r=!0),e[o].content=a,this._storage[n.settings.localStorageName]=JSON.stringify(e),r&&n.emit("update"),this.emit("save"),this},g.prototype.remove=function(e){var t,n=this;return e=e||n.settings.file.name,e==n.settings.file.name&&(n._canSave=!1),t=JSON.parse(this._storage[n.settings.localStorageName]),delete t[e],this._storage[n.settings.localStorageName]=JSON.stringify(t),this.emit("remove"),this},g.prototype.rename=function(e,t){var n=this,r=JSON.parse(this._storage[n.settings.localStorageName]);return r[t]=r[e],delete r[e],this._storage[n.settings.localStorageName]=JSON.stringify(r),n.open(t),this},g.prototype.importFile=function(e,n,r,o){var a=this,i=!1;return e=e||a.settings.file.name,n=n||"",r=r||"md",o=o||{},JSON.parse(this._storage[a.settings.localStorageName])[e]===t&&(i=!0),a.settings.file.name=e,p(a.editor,n),i&&a.emit("create"),a.save(),a.eeState.fullscreen&&a.preview(),this},g.prototype.exportFile=function(e,n){var r,o,a=this;if(e=e||a.settings.file.name,n=n||"text",r=a.getFiles(e),r!==t)switch(o=r.content,n){case"html":return o=o.replace(/\u00a0/g," ").replace(/&nbsp;/g," "),a.settings.parser(o);case"text":return o=o.replace(/&nbsp;/g," ");default:return o}},g.prototype.getFiles=function(e){var t=JSON.parse(this._storage[this.settings.localStorageName]);return e?t[e]:t},g.prototype.on=function(e,t){var n=this;return this.events[e]||(this.events[e]=[]),this.events[e].push(t),n},g.prototype.emit=function(e,t){function n(e){e.call(o,t)}var r,o=this;if(t=t||o.getFiles(o.settings.file.name),this.events[e]){for(r=0;r<o.events[e].length;r++)n(o.events[e][r]);return o}},g.prototype.removeListener=function(e,t){var n=this;return t?this.events[e]?(this.events[e].splice(this.events[e].indexOf(t),1),n):n:(this.events[e]=[],n)},g.version="0.1.1",g._data={},e.EpicEditor=g}(window),function(){function e(e,t){return"!"!==e[0][0]?'<a href="'+a(t.href)+'"'+(t.title?' title="'+a(t.title)+'"':"")+">"+f.lexer(e[1])+"</a>":'<img src="'+a(t.href)+'" alt="'+a(e[1])+'"'+(t.title?' title="'+a(t.title)+'"':"")+">"}function t(){return m=h.pop()}function n(){switch(m.type){case"space":return"";case"hr":return"<hr>\n";case"heading":return"<h"+m.depth+">"+f.lexer(m.text)+"</h"+m.depth+">\n";case"code":return g.highlight&&(m.code=g.highlight(m.text,m.lang),null!=m.code&&m.code!==m.text&&(m.escaped=!0,m.text=m.code)),m.escaped||(m.text=a(m.text,!0)),"<pre><code"+(m.lang?' class="lang-'+m.lang+'"':"")+">"+m.text+"</code></pre>\n";case"blockquote_start":for(var e="";"blockquote_end"!==t().type;)e+=n();return"<blockquote>\n"+e+"</blockquote>\n";case"list_start":for(var o=m.ordered?"ol":"ul",e="";"list_end"!==t().type;)e+=n();return"<"+o+">\n"+e+"</"+o+">\n";case"list_item_start":for(var e="";"list_item_end"!==t().type;)e+="text"===m.type?r():n();return"<li>"+e+"</li>\n";case"loose_item_start":for(var e="";"list_item_end"!==t().type;)e+=n();return"<li>"+e+"</li>\n";case"html":return g.sanitize?f.lexer(m.text):m.pre||g.pedantic?m.text:f.lexer(m.text);case"paragraph":return"<p>"+f.lexer(m.text)+"</p>\n";case"text":return"<p>"+r()+"</p>\n"}}function r(){for(var e,n=m.text;(e=h[h.length-1])&&"text"===e.type;)n+="\n"+t().text;return f.lexer(n)}function o(e){h=e.reverse();for(var r="";t();)r+=n();return h=null,m=null,r}function a(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function i(e){for(var t,n="",r=e.length,o=0;r>o;o++)t=e.charCodeAt(o),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n}function s(){var e="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+";return e}function u(e,t){return e=e.source,t=t||"",function n(r,o){return r?(e=e.replace(r,o.source||o),n):new RegExp(e,t)}}function c(){}function l(e,t){return d(t),o(p.lexer(e))}function d(e){e||(e=_),g!==e&&(g=e,g.gfm?(p.fences=p.gfm.fences,p.paragraph=p.gfm.paragraph,f.text=f.gfm.text,f.url=f.gfm.url):(p.fences=p.normal.fences,p.paragraph=p.normal.paragraph,f.text=f.normal.text,f.url=f.normal.url),g.pedantic?(f.em=f.pedantic.em,f.strong=f.pedantic.strong):(f.em=f.normal.em,f.strong=f.normal.strong))}var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:c,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,lheading:/^([^\n]+)\n *(=|-){3,} *\n*/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [^\0]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *([^\s]+)(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,paragraph:/^([^\n]+\n?(?!body))+\n*/,text:/^[^\n]+/};p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=u(p.item,"gm")(/bull/g,p.bullet)(),p.list=u(p.list)(/bull/g,p.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)(),p.html=u(p.html)("comment",/<!--[^\0]*?-->/)("closed",/<(tag)[^\0]+?<\/\1>/)("closing",/<tag(?!:\/|@)\b(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,s())(),p.paragraph=function(){var e=p.paragraph.source,t=[];return function n(e){return e=p[e]?p[e].source:e,t.push(e.replace(/(^|[^\[])\^/g,"$1")),n}("hr")("heading")("lheading")("blockquote")("<"+s())("def"),new RegExp(e.replace("body",t.join("|")))}(),p.normal={fences:p.fences,paragraph:p.paragraph},p.gfm={fences:/^ *``` *(\w+)? *\n([^\0]+?)\s*``` *(?:\n+|$)/,paragraph:/^/},p.gfm.paragraph=u(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace(/(^|[^\[])\^/g,"$1")+"|")(),p.lexer=function(e){var t=[];return t.links={},e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),p.token(e,t,!0)},p.token=function(e,t,n){for(var r,o,a,i,s,u,c,e=e.replace(/^ +$/gm,"");e;)if((a=p.newline.exec(e))&&(e=e.substring(a[0].length),a[0].length>1&&t.push({type:"space"})),a=p.code.exec(e))e=e.substring(a[0].length),a=a[0].replace(/^ {4}/gm,""),t.push({type:"code",text:g.pedantic?a:a.replace(/\n+$/,"")});else if(a=p.fences.exec(e))e=e.substring(a[0].length),t.push({type:"code",lang:a[1],text:a[2]});else if(a=p.heading.exec(e))e=e.substring(a[0].length),t.push({type:"heading",depth:a[1].length,text:a[2]});else if(a=p.lheading.exec(e))e=e.substring(a[0].length),t.push({type:"heading",depth:"="===a[2]?1:2,text:a[1]});else if(a=p.hr.exec(e))e=e.substring(a[0].length),t.push({type:"hr"});else if(a=p.blockquote.exec(e))e=e.substring(a[0].length),t.push({type:"blockquote_start"}),a=a[0].replace(/^ *> ?/gm,""),p.token(a,t,n),t.push({type:"blockquote_end"});else if(a=p.list.exec(e)){for(e=e.substring(a[0].length),t.push({type:"list_start",ordered:isFinite(a[2])}),a=a[0].match(p.item),r=!1,c=a.length,u=0;c>u;u++)i=a[u],s=i.length,i=i.replace(/^ *([*+-]|\d+\.) +/,""),~i.indexOf("\n ")&&(s-=i.length,i=g.pedantic?i.replace(/^ {1,4}/gm,""):i.replace(new RegExp("^ {1,"+s+"}","gm"),"")),o=r||/\n\n(?!\s*$)/.test(i),u!==c-1&&(r="\n"===i[i.length-1],o||(o=r)),t.push({type:o?"loose_item_start":"list_item_start"}),p.token(i,t),t.push({type:"list_item_end"});t.push({type:"list_end"})}else(a=p.html.exec(e))?(e=e.substring(a[0].length),t.push({type:"html",pre:"pre"===a[1],text:a[0]})):n&&(a=p.def.exec(e))?(e=e.substring(a[0].length),t.links[a[1].toLowerCase()]={href:a[2],title:a[3]}):n&&(a=p.paragraph.exec(e))?(e=e.substring(a[0].length),t.push({type:"paragraph",text:a[0]})):(a=p.text.exec(e))&&(e=e.substring(a[0].length),t.push({type:"text",text:a[0]}));return t};var f={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:c,tag:/^<!--[^\0]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([^\0]+?)__(?!_)|^\*\*([^\0]+?)\*\*(?!\*)/,em:/^\b_((?:__|[^\0])+?)_\b|^\*((?:\*\*|[^\0])+?)\*(?!\*)/,code:/^(`+)([^\0]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,text:/^[^\0]+?(?=[\\<!\[_*`]| {2,}\n|$)/};f._linkInside=/(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/,f._linkHref=/\s*<?([^\s]*?)>?(?:\s+['"]([^\0]*?)['"])?\s*/,f.link=u(f.link)("inside",f._linkInside)("href",f._linkHref)(),f.reflink=u(f.reflink)("inside",f._linkInside)(),f.normal={url:f.url,strong:f.strong,em:f.em,text:f.text},f.pedantic={strong:/^__(?=\S)([^\0]*?\S)__(?!_)|^\*\*(?=\S)([^\0]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([^\0]*?\S)_(?!_)|^\*(?=\S)([^\0]*?\S)\*(?!\*)/},f.gfm={url:/^(https?:\/\/[^\s]+[^.,:;"')\]\s])/,text:/^[^\0]+?(?=[\\<!\[_*`]|https?:\/\/| {2,}\n|$)/},f.lexer=function(t){for(var n,r,o,s,u="",c=h.links;t;)if(s=f.escape.exec(t))t=t.substring(s[0].length),u+=s[1];else if(s=f.autolink.exec(t))t=t.substring(s[0].length),"@"===s[2]?(r=i(":"===s[1][6]?s[1].substring(7):s[1]),o=i("mailto:")+r):(r=a(s[1]),o=r),u+='<a href="'+o+'">'+r+"</a>";else if(s=f.url.exec(t))t=t.substring(s[0].length),r=a(s[1]),o=r,u+='<a href="'+o+'">'+r+"</a>";else if(s=f.tag.exec(t))t=t.substring(s[0].length),u+=g.sanitize?a(s[0]):s[0];else if(s=f.link.exec(t))t=t.substring(s[0].length),u+=e(s,{href:s[2],title:s[3]});else if((s=f.reflink.exec(t))||(s=f.nolink.exec(t))){if(t=t.substring(s[0].length),n=(s[2]||s[1]).replace(/\s+/g," "),n=c[n.toLowerCase()],!n||!n.href){u+=s[0][0],t=s[0].substring(1)+t;continue}u+=e(s,n)}else(s=f.strong.exec(t))?(t=t.substring(s[0].length),u+="<strong>"+f.lexer(s[2]||s[1])+"</strong>"):(s=f.em.exec(t))?(t=t.substring(s[0].length),u+="<em>"+f.lexer(s[2]||s[1])+"</em>"):(s=f.code.exec(t))?(t=t.substring(s[0].length),u+="<code>"+a(s[2],!0)+"</code>"):(s=f.br.exec(t))?(t=t.substring(s[0].length),u+="<br>"):(s=f.text.exec(t))&&(t=t.substring(s[0].length),u+=a(s[0]));return u};var h,m;c.exec=c;var g,_;l.options=l.setOptions=function(e){return _=e,d(e),l},l.setOptions({gfm:!0,pedantic:!1,sanitize:!1,highlight:null}),l.parser=function(e,t){return d(t),o(e)},l.lexer=function(e,t){return d(t),p.lexer(e)},l.parse=l,"undefined"!=typeof module?module.exports=l:this.marked=l}.call(function(){return this||("undefined"!=typeof window?window:global)}())}(),function(){jQuery.ajax=function(e){function t(e){return!o.test(e)&&/:\/\//.test(e)}var n=location.protocol,r=location.hostname,o=RegExp(n+"//"+r),a="http"+(/^https/.test(n)?"s":"")+"://query.yahooapis.com/v1/public/yql?callback=?",i='select * from html where url="{URL}" and xpath="*"';return function(n){var r=n.url;return/get/i.test(n.type)&&!/json/i.test(n.dataType)&&t(r)&&(n.url=a,n.dataType="json",n.data={q:i.replace("{URL}",r+(n.data?(/\?/.test(r)?"&":"?")+jQuery.param(n.data):"")),format:"xml"},!n.success&&n.complete&&(n.success=n.complete,delete n.complete),n.success=function(e){return function(t){e&&e.call(this,{responseText:(t.results[0]||"").replace(/<script[^>]+?\/>|<script(.|\s)*?\/script>/gi,"")},"success")}}(n.success)),e.apply(this,arguments)}}(jQuery.ajax)}(),function(){Comments=new Meteor.Collection("comments",{schema:new SimpleSchema({_id:{type:String,optional:!0},parentCommentId:{type:String,optional:!0},createdAt:{type:Date,optional:!0},postedAt:{type:Date,optional:!0},body:{type:String},baseScore:{type:Number,decimal:!0,optional:!0},score:{type:Number,decimal:!0,optional:!0},upvotes:{type:Number,optional:!0},upvoters:{type:[String],optional:!0},downvotes:{type:Number,optional:!0},downvoters:{type:[String],optional:!0},author:{type:String,optional:!0},inactive:{type:Boolean,optional:!0},postId:{type:String,optional:!0},userId:{type:String,optional:!0}})}),Comments.deny({update:function(e,t,n){return isAdminById(e)?!1:_.without(n,"body").length>0}}),Comments.allow({insert:canCommentById,update:canEditById,remove:canEditById}),Meteor.methods({comment:function(e,t,n){var r=Meteor.user(),o=Posts.findOne(e),a=Meteor.users.findOne(o.userId),i=timeSinceLast(r,Comments),s=cleanUp(n),u=Math.abs(parseInt(getSetting("commentInterval",15))),c=new Date;if(!r||!canComment(r))throw new Meteor.Error(i18n.t("You need to login or be invited to post new comments."));if(!this.isSimulation&&u>i)throw new Meteor.Error(704,i18n.t("Please wait ")+(u-i)+i18n.t(" seconds before commenting again"));if(!s)throw new Meteor.Error(704,i18n.t("Your comment is empty."));var l={postId:e,body:s,userId:r._id,createdAt:c,postedAt:c,upvotes:0,downvotes:0,baseScore:0,score:0,author:getDisplayName(r)};t&&(l.parentCommentId=t);var d=Comments.insert(l);Meteor.users.update({_id:r._id},{$inc:{commentCount:1}}),l=_.extend(l,{_id:d}),Posts.update(e,{$inc:{comments:1},$set:{lastCommentedAt:c}}),Meteor.call("upvoteComment",l);var p={comment:_.pick(l,"_id","userId","author","body"),post:_.pick(o,"_id","title","url")};if(!this.isSimulation)if(t){var f=Comments.findOne(t),h=Meteor.users.findOne(f.userId);p.parentComment=_.pick(f,"_id","userId","author"),h._id!=r._id&&createNotification("newReply",p,h),a._id!=r._id&&f.userId!=o.userId&&createNotification("newComment",p,a)}else a._id!=r._id&&createNotification("newComment",p,a);return l},removeComment:function(e){var t=Comments.findOne(e);canEdit(Meteor.user(),t)?(Posts.update(t.postId,{$inc:{comments:-1}}),Meteor.users.update({_id:t.userId},{$inc:{commentCount:-1}}),Comments.remove(e)):throwError("You don't have permission to delete this comment.")}})}(),function(){Meteor.isClient&&(Errors=new Meteor.Collection(null))}(),function(){InviteSchema=new SimpleSchema({_id:{type:String,optional:!0},invitingUserId:{type:String,optional:!0},invitedUserEmail:{type:String,regEx:SimpleSchema.RegEx.Email},accepted:{type:Boolean,optional:!0}}),Invites=new Meteor.Collection("invites",{schema:InviteSchema}),Invites.deny({insert:function(){return!0},update:function(){return!0},remove:function(){return!0}})}(),function(){Notifications=new Meteor.Collection("notifications"),Notifications.allow({insert:function(){return!1},update:canEditById,remove:canEditById}),createNotification=function(e,t,n){{var r={timestamp:(new Date).getTime(),userId:n._id,event:e,properties:t,read:!1};Notifications.insert(r)
}Meteor.isServer&&getUserSetting("notifications.replies",!1,n)&&Meteor.setTimeout(function(){notificationEmail=buildEmailNotification(r),sendEmail(getEmail(n),notificationEmail.subject,notificationEmail.html)},1)},buildSiteNotification=function(e){var t,n,r=e.event,o=e.properties.comment,a=e.properties.post,i=(Meteor.users.findOne(e.userId),{profileUrl:getProfileUrlById(o.userId),author:o.author,postCommentUrl:getPostCommentUrl(a._id,o._id),postTitle:a.title});switch(r){case"newReply":t="notification_new_reply";break;case"newComment":t="notification_new_comment"}return n=Blaze.toHTML(Blaze.With(i,function(){return Template[getTemplate(t)]}))},Meteor.methods({markAllNotificationsAsRead:function(){Notifications.update({userId:Meteor.userId()},{$set:{read:!0}},{multi:!0})}})}(),function(){postSchemaObject={_id:{type:String,optional:!0},createdAt:{type:Date,optional:!0},postedAt:{type:Date,optional:!0},title:{type:String,label:"Title"},url:{type:String,label:"URL",optional:!0},body:{type:String,optional:!0},comments:{type:Number,optional:!0},lastCommentedAt:{type:Date,optional:!0},clicks:{type:Number,optional:!0},baseScore:{type:Number,decimal:!0,optional:!0},upvotes:{type:Number,optional:!0},upvoters:{type:[String],optional:!0},downvotes:{type:Number,optional:!0},downvoters:{type:[String],optional:!0},score:{type:Number,decimal:!0,optional:!0},status:{type:Number,optional:!0},sticky:{type:Boolean,optional:!0},inactive:{type:Boolean,optional:!0},userId:{type:String,optional:!0}},_.each(addToPostSchema,function(e){postSchemaObject[e.propertyName]=e.propertySchema}),Posts=new Meteor.Collection("posts",{schema:new SimpleSchema(postSchemaObject)}),STATUS_PENDING=1,STATUS_APPROVED=2,STATUS_REJECTED=3,Posts.deny({update:function(e,t,n){return isAdminById(e)?!1:_.without(n,"title","url","body","shortUrl","shortTitle","categories").length>0}}),Posts.allow({insert:canPostById,update:canEditById,remove:canEditById}),clickedPosts=[],getPostProperties=function(e){var t=Meteor.users.findOne(e.userId),n={postAuthorName:getDisplayName(t),postTitle:cleanUp(e.title),profileUrl:getProfileUrlById(e.userId),postUrl:getPostPageUrl(e),thumbnailUrl:e.thumbnailUrl,linkUrl:e.url?getOutgoingUrl(e.url):getPostPageUrl(e._id)};return e.url&&(n.url=e.url),e.body&&(n.body=marked(e.body)),n},getPostPageUrl=function(e){return getSiteUrl()+"posts/"+e._id},getPostEditUrl=function(e){return getSiteUrl()+"posts/"+e+"/edit"},getPostLink=function(e){return e.url?getOutgoingUrl(e.url):getPostPageUrl(e)},Meteor.methods({post:function(e){var t=cleanUp(e.title),n=cleanUp(e.body),r=this.userId,o=Meteor.users.findOne(r),a=timeSinceLast(o,Posts),i=numberOfItemsInPast24Hours(o,Posts),s=Math.abs(parseInt(getSetting("postInterval",30))),u=Math.abs(parseInt(getSetting("maxPostsPerDay",30)));if(!o||!canPost(o))throw new Meteor.Error(601,i18n.t("You need to login or be invited to post new stories."));if(!e.title)throw new Meteor.Error(602,i18n.t("Please fill in a title"));if(e.url){var c=moment().subtract("months",6).toDate(),l=Posts.findOne({url:e.url,postedAt:{$gte:c}});if("undefined"!=typeof l)throw Meteor.call("upvotePost",l),new Meteor.Error(603,i18n.t("This link has already been posted"),l._id)}if(!isAdmin(Meteor.user())){if(!this.isSimulation&&s>a)throw new Meteor.Error(604,i18n.t("Please wait ")+(s-a)+i18n.t(" seconds before posting again"));if(!this.isSimulation&&i>u)throw new Meteor.Error(605,i18n.t("Sorry, you cannot submit more than ")+u+i18n.t(" posts per day"))}properties={title:t,body:n,userId:r,author:getDisplayNameById(r),upvotes:0,downvotes:0,comments:0,baseScore:0,score:0,inactive:!1},isAdmin(Meteor.user())&&e.userId&&(properties.userId=e.userId);var d=getSetting("requirePostsApproval")?STATUS_PENDING:STATUS_APPROVED;properties.status=isAdmin(Meteor.user())&&e.status?e.status:d,properties.createdAt=new Date,2==properties.status&&(properties.postedAt=isAdmin(Meteor.user())&&e.postedAt?e.postedAt:new Date),e=_.extend(e,properties),e=postSubmitServerCallbacks.reduce(function(e,t){return t(e)},e),e._id=Posts.insert(e),Meteor.users.update({_id:r},{$inc:{postCount:1}});var p=Meteor.users.findOne(e.userId);return Meteor.call("upvotePost",e,p),Meteor.isServer&&getSetting("emailNotifications",!1)&&Meteor.setTimeout(function(){newPostNotification(e,[r])},1),e},setPostedAt:function(e,t){var n=new Date;if(isAdmin(Meteor.user())&&"undefined"!=typeof t)var n=t;Posts.update(e._id,{$set:{postedAt:n}})},post_edit:function(){},approvePost:function(e){if(isAdmin(Meteor.user())){var t=new Date;Posts.update(e._id,{$set:{status:2,postedAt:t}})}else throwError("You need to be an admin to do that.")},unapprovePost:function(e){isAdmin(Meteor.user())?Posts.update(e._id,{$set:{status:1}}):throwError("You need to be an admin to do that.")},clickedPost:function(e,t){var n={_id:e._id,sessionId:t};0==_.where(clickedPosts,n).length&&(clickedPosts.push(n),Posts.update(e._id,{$inc:{clicks:1}}))},deletePostById:function(e){var t=Posts.findOne({_id:e});if(!Meteor.userId()||!canEditById(Meteor.userId(),t))throw new Meteor.Error(606,"You need permission to edit or delete a post");Meteor.users.update({_id:t.userId},{$inc:{postCount:-1}}),Posts.remove(e)}})}(),function(){settingsSchemaObject={title:{type:String,label:"Title",optional:!0},siteUrl:{type:String,optional:!0,label:"Site URL (include trailing slash)"},tagline:{type:String,label:"Tagline",optional:!0},requireViewInvite:{type:Boolean,label:"Require invite to view",optional:!0},requirePostInvite:{type:Boolean,label:"Require invite to post",optional:!0},requirePostsApproval:{type:Boolean,label:"Posts must be approved by admin",optional:!0},emailNotifications:{type:Boolean,label:"Enable email notifications",optional:!0},nestedComments:{type:Boolean,label:"Enable nested comments",optional:!0},redistributeKarma:{type:Boolean,label:"Enable redistributed karma",optional:!0},defaultEmail:{type:String,optional:!0},scoreUpdateInterval:{type:Number,optional:!0},postInterval:{type:Number,optional:!0},commentInterval:{type:Number,optional:!0},maxPostsPerDay:{type:Number,optional:!0},startInvitesCount:{type:Number,defaultValue:3,optional:!0},postsPerPage:{type:Number,defaultValue:10,optional:!0},logoUrl:{type:String,optional:!0},logoHeight:{type:Number,optional:!0},logoWidth:{type:Number,optional:!0},language:{type:String,defaultValue:"en",optional:!0},backgroundCSS:{type:String,optional:!0,label:"Background CSS: color, image, etc."},secondaryColor:{type:String,optional:!0},buttonColor:{type:String,optional:!0},headerColor:{type:String,optional:!0},twitterAccount:{type:String,optional:!0},googleAnalyticsId:{type:String,optional:!0},mixpanelId:{type:String,optional:!0},clickyId:{type:String,optional:!0},footerCode:{type:String,optional:!0},extraCode:{type:String,optional:!0},emailFooter:{type:String,optional:!0},notes:{type:String,optional:!0}},_.each(addToSettingsSchema,function(e){settingsSchemaObject[e.propertyName]=e.propertySchema}),Settings=new Meteor.Collection("settings",{schema:new SimpleSchema(settingsSchemaObject)}),Settings.allow({insert:isAdminById,update:isAdminById,remove:isAdminById})}(),function(){var e={};e.User=new SimpleSchema({_id:{type:String,optional:!0},username:{type:String,regEx:/^[a-z0-9A-Z_]{3,15}$/},emails:{type:[Object]},"emails.$.address":{type:String,regEx:SimpleSchema.RegEx.Email},"emails.$.verified":{type:Boolean},createdAt:{type:Date},profile:{type:Object,optional:!0,blackbox:!0},services:{type:Object,optional:!0,blackbox:!0}}),Meteor.users.allow({update:function(e,t){return isAdminById(e)||e==t._id},remove:function(e,t){return isAdminById(e)||e==t._id}})}(),function(){Session.set("initialLoad",!0),Session.set("today",new Date),Session.set("view","top"),Session.set("postsLimit",getSetting("postsPerPage",10)),Session.set("sessionId",Meteor.default_connection._lastSessionId),STATUS_PENDING=1,STATUS_APPROVED=2,STATUS_REJECTED=3,adminNav=adminNav.concat([{route:"posts_pending",label:"Pending"},{route:"all-users",label:"Users"},{route:"settings",label:"Settings"},{route:"toolbox",label:"Toolbox"}]),Deps.autorun(function(){Meteor.userId()&&Meteor.subscribe("notifications")}),postModules=_.sortBy(postModules,function(e){return _.indexOf(modulePositions,e.position)}),postHeading=_.sortBy(postHeading,"order"),postMeta=_.sortBy(postMeta,"order"),Meteor.startup(function(){$("#rss-link").attr("title",i18n.t("New Posts")),AccountsEntry.config({homeRoute:"/",dashboardRoute:"/",passwordSignupFields:"USERNAME_AND_EMAIL",profileRoute:"profile"})})}();